import t from"react";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},a=Object.keys(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){r=!0,a=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var f=t.createContext(),d={getStatus:y,getStatusStyle:g,buildStyleGetters:function(t,e){t.getStatusStyle=function(n,i){var r=y(t,n);return t.style=g(t,r,i,e),t.style},t.datums.forEach((function(t){t.getStatusStyle=function(n,i){var r=y(t,n);return t.style=g(t,r,i,e),t.style}}))},getMultiAnchor:function(t){var e,n,i=t.anchor,r=t.points,a=t.gridWidth,o=t.gridHeight,s=function(){throw new Error("".concat(JSON.stringify(i)," is not a valid tooltip anchor option. You should use a single anchor option or 2 non-conflicting anchor options."))},u=r[0].anchor.x,l=r[0].anchor.x,c=r[0].anchor.y,h=r[0].anchor.y;if(r.forEach((function(t){u=Math.min(t.anchor.x,u),l=Math.max(t.anchor.x,l),c=Math.min(t.anchor.y,c),h=Math.max(t.anchor.y,h)})),i.length>2)return s();i=i.sort((function(t){return t.includes("center")||t.includes("Center")?1:-1}));for(var f=0;f<i.length;f++){var d=i[f];["left","right","gridLeft","gridRight"].includes(d)&&(void 0!==e&&s(),"left"===d?e=u:"right"===d?e=l:"gridLeft"===d?e=0:"gridRight"===d?e=a:s()),["top","bottom","gridTop","gridBottom"].includes(d)&&(void 0!==n&&s(),"top"===d?n=c:"bottom"===d?n=h:"gridTop"===d?n=0:"gridBottom"===d?n=o:s()),["center","gridCenter"].includes(d)&&("center"===d?(void 0===n&&(n=(c+h)/2),void 0===e&&(e=(u+l)/2)):"gridCenter"===d?(void 0===n&&(n=o/2),void 0===e&&(e=a/2)):s()),1===i.length&&(i[0].includes("grid")?i.push("gridCenter"):i.push("center"))}return{x:e,y:n}},getClosestPoint:function(t,e){if(!e||!t||!e.length)return;var n=1/0,i=e[0];return e.forEach((function(e){e.boundingPoints.forEach((function(r){var a=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));a<n&&(n=a,i=e)}))})),i},normalizeGetter:function(t){if("function"==typeof t)return t;return function(e){return function(t,e,n){if("function"==typeof t)try{return t()}catch(t){return e}if(!e)return t;var i,r=function(t){return function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(Array.isArray(e))for(var i=0;i<e.length;i++)t(e[i],n);else n.push(e);return n}(t).join(".").replace("[",".").replace("]","").split(".")}(e);try{i=r.reduce((function(t,e){return t[e]}),t)}catch(t){}return void 0!==i?i:n}(e,t)}},isValidPoint:function(t){if(null===t)return!1;if(void 0===t)return!1;if("string"==typeof t&&"null"===t)return!1;return!0},getAxisByAxisID:function(t,e){return t.find((function(t){return t.id===e}))||t[0]},getAxisIndexByAxisID:function(t,e){var n=t.findIndex((function(t){return t.id===e}));return n>-1?n:0},sumObjBy:function(t,e){return Object.keys(t).map((function(e){return t[e]})).reduce((function(t,n){return t+n[e]||0}),0)},translateX:function(t){return"translate3d(".concat(Math.round(t),"px, 0, 0)")},translateY:function(t){return"translate3d(0, ".concat(Math.round(t),"px, 0)")},translate:function(t,e){return"translate3d(".concat(Math.round(t),"px, ").concat(Math.round(e),"px, 0)")},identity:function(t){return t},shallowDiff:function(t,e){var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!0;return Object.keys(t).some((function(n){if(t[n]!==e[n])return!0}))}};function y(t,e){var n={focused:!1,otherFocused:!1};if(!e)return n;if(void 0!==t.primary){for(var i=e.group.length,r=0;r<i;r++)if(e.group[r].seriesID===t.series.id&&e.group[r].index===t.index){n.focused=!0;break}n.otherFocused=!n.focused}else e.series&&(n.focused=e.series.id===t.id,n.otherFocused=!n.focused);return n}function g(t,e,n,i){return t.series&&(i=u({},i,{},t.series.style)),function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=p(e,n);for(var i=0;i<m.length;i++){var r=m[i];e[r]&&n[r]&&(e[r]=t(e[r],n))}return e}(n(u({},t,{},e)),i)}function p(t,e){return u({},t,{stroke:t.stroke||t.color||e.stroke||e.color,fill:t.fill||t.color||e.fill||e.color})}var m=["area","line","rectangle","circle"];var _,x=["bottom","height","left","right","top","width"],v=new Map,b=function t(){var e=[];v.forEach((function(t,n){var i,r,a=n.getBoundingClientRect();i=a,r=t.rect,void 0===i&&(i={}),void 0===r&&(r={}),x.some((function(t){return i[t]!==r[t]}))&&(t.rect=a,e.push(t))})),e.forEach((function(t){t.callbacks.forEach((function(e){return e(t.rect)}))})),_=window.requestAnimationFrame(t)};var w="undefined"!=typeof window?t.useLayoutEffect:t.useEffect;function M(e){var n,i=c(t.useState(null===(n=e.current)||void 0===n?void 0:n.parentElement),2),r=i[0],a=i[1],o=c(t.useState({width:0,height:0}),2),s=o[0],u=o[1],l=t.useRef(!1);return w((function(){var t,n;(null===(t=e.current)||void 0===t?void 0:t.parentElement)!==r&&a(null===(n=e.current)||void 0===n?void 0:n.parentElement)})),w((function(){r&&!l.current&&(l.current=!0,u(r.getBoundingClientRect()))}),[r]),t.useEffect((function(){if(r){var t,e,n=(t=r,e=u,{observe:function(){var n=0===v.size;v.has(t)?v.get(t).callbacks.push(e):v.set(t,{rect:void 0,hasRectChanged:!1,callbacks:[e]}),n&&b()},unobserve:function(){var n=v.get(t);if(n){var i=n.callbacks.indexOf(e);i>=0&&n.callbacks.splice(i,1),n.callbacks.length||v.delete(t),v.size||cancelAnimationFrame(_)}}});return n.observe(),function(){n.unobserve()}}}),[r]),{width:s.width,height:s.height}}function k(e){var n=t.useRef();return n.current=e,n}function A(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t.useRef();return n&&(i.current=e),i.current}function S(e){var n=t.useRef();return t.useEffect((function(){n.current=e}),[e]),n.current}var C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};for(var T=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t){(function(){var e,n,i,r,a,o;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(t.exports=function(){return(e()-a)/1e6},n=process.hrtime,r=(e=function(){var t;return 1e9*(t=n())[0]+t[1]})(),o=1e9*process.uptime(),a=r-o):Date.now?(t.exports=function(){return Date.now()-i},i=Date.now()):(t.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(C)})),E="undefined"==typeof window?global:window,D=["moz","webkit"],N="AnimationFrame",P=E["request"+N],O=E["cancel"+N]||E["cancelRequest"+N],I=0;!P&&I<D.length;I++)P=E[D[I]+"Request"+N],O=E[D[I]+"Cancel"+N]||E[D[I]+"CancelRequest"+N];if(!P||!O){var R=0,L=0,V=[];P=function(t){if(0===V.length){var e=T(),n=Math.max(0,1e3/60-(e-R));R=n+e,setTimeout((function(){var t=V.slice(0);V.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(R)}catch(t){setTimeout((function(){throw t}),0)}}),Math.round(n))}return V.push({handle:++L,callback:t,cancelled:!1}),L},O=function(t){for(var e=0;e<V.length;e++)V[e].handle===t&&(V[e].cancelled=!0)}}function z(t){return P.call(E,t)}z.cancel=function(){O.apply(E,arguments)},z.polyfill=function(t){t||(t=E),t.requestAnimationFrame=P,t.cancelAnimationFrame=O};var U={strokeWidth:0,fill:"#333",opacity:1,rx:0,ry:0};function F(e){var n=e.style,i=(e.opacity,e.x1),r=e.y1,a=e.x2,s=e.y2,c=l(e,["style","opacity","x1","y1","x2","y2"]),h=u({},U,{},n),f=Math.min(i,a),d=Math.min(r,s),y=Math.max(i,a),g=Math.max(r,s),p=Math.max(g-d,0),m=Math.max(y-f,0);return t.createElement("rect",o({},c,{x:f,y:d,width:m,height:p,style:h}))}var j=regeneratorRuntime.mark(lt),H=Math.pow(2,-52),B=new Uint32Array(512),Y=function(){function t(e){n(this,t);var i=e.length>>1;if(i>0&&"number"!=typeof e[0])throw new Error("Expected coords to contain numbers.");this.coords=e;var r=Math.max(2*i-5,0);this._triangles=new Uint32Array(3*r),this._halfedges=new Int32Array(3*r),this._hashSize=Math.ceil(Math.sqrt(i)),this._hullPrev=new Uint32Array(i),this._hullNext=new Uint32Array(i),this._hullTri=new Uint32Array(i),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(i),this._dists=new Float64Array(i),this.update()}return r(t,null,[{key:"from",value:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:J,r=e.length,a=new Float64Array(2*r),o=0;o<r;o++){var s=e[o];a[2*o]=n(s),a[2*o+1]=i(s)}return new t(a)}}]),r(t,[{key:"update",value:function(){for(var t=this.coords,e=this._hullPrev,n=this._hullNext,i=this._hullTri,r=this._hullHash,a=t.length>>1,o=1/0,s=1/0,u=-1/0,l=-1/0,c=0;c<a;c++){var h=t[2*c],f=t[2*c+1];h<o&&(o=h),f<s&&(s=f),h>u&&(u=h),f>l&&(l=f),this._ids[c]=c}for(var d,y,g,p=(o+u)/2,m=(s+l)/2,_=1/0,x=0;x<a;x++){var v=W(p,m,t[2*x],t[2*x+1]);v<_&&(d=x,_=v)}var b=t[2*d],w=t[2*d+1];_=1/0;for(var M=0;M<a;M++)if(M!==d){var k=W(b,w,t[2*M],t[2*M+1]);k<_&&k>0&&(y=M,_=k)}for(var A=t[2*y],S=t[2*y+1],C=1/0,T=0;T<a;T++)if(T!==d&&T!==y){var E=G(b,w,A,S,t[2*T],t[2*T+1]);E<C&&(g=T,C=E)}var D=t[2*g],N=t[2*g+1];if(C===1/0){for(var P=0;P<a;P++)this._dists[P]=t[2*P]-t[0]||t[2*P+1]-t[1];K(this._ids,this._dists,0,a-1);for(var O=new Uint32Array(a),I=0,R=0,L=-1/0;R<a;R++){var V=this._ids[R];this._dists[V]>L&&(O[I++]=V,L=this._dists[V])}return this.hull=O.subarray(0,I),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(X(b,w,A,S,D,N)){var z=y,U=A,F=S;y=g,A=D,S=N,g=z,D=U,N=F}var j=function(t,e,n,i,r,a){var o=n-t,s=i-e,u=r-t,l=a-e,c=o*o+s*s,h=u*u+l*l,f=.5/(o*l-s*u);return{x:t+(l*c-s*h)*f,y:e+(o*h-u*c)*f}}(b,w,A,S,D,N);this._cx=j.x,this._cy=j.y;for(var B=0;B<a;B++)this._dists[B]=W(t[2*B],t[2*B+1],j.x,j.y);K(this._ids,this._dists,0,a-1),this._hullStart=d;var Y=3;n[d]=e[g]=y,n[y]=e[d]=g,n[g]=e[y]=d,i[d]=0,i[y]=1,i[g]=2,r.fill(-1),r[this._hashKey(b,w)]=d,r[this._hashKey(A,S)]=y,r[this._hashKey(D,N)]=g,this.trianglesLen=0,this._addTriangle(d,y,g,-1,-1,-1);for(var q,Z,$=0;$<this._ids.length;$++){var J=this._ids[$],Q=t[2*J],tt=t[2*J+1];if(!($>0&&Math.abs(Q-q)<=H&&Math.abs(tt-Z)<=H)&&(q=Q,Z=tt,J!==d&&J!==y&&J!==g)){for(var et=0,nt=0,it=this._hashKey(Q,tt);nt<this._hashSize&&(-1===(et=r[(it+nt)%this._hashSize])||et===n[et]);nt++);for(var rt=et=e[et],at=void 0;at=n[rt],!X(Q,tt,t[2*rt],t[2*rt+1],t[2*at],t[2*at+1]);)if((rt=at)===et){rt=-1;break}if(-1!==rt){var ot=this._addTriangle(rt,J,n[rt],-1,-1,i[rt]);i[J]=this._legalize(ot+2),i[rt]=ot,Y++;for(var st=n[rt];at=n[st],X(Q,tt,t[2*st],t[2*st+1],t[2*at],t[2*at+1]);)ot=this._addTriangle(st,J,at,i[J],-1,i[st]),i[J]=this._legalize(ot+2),n[st]=st,Y--,st=at;if(rt===et)for(;X(Q,tt,t[2*(at=e[rt])],t[2*at+1],t[2*rt],t[2*rt+1]);)ot=this._addTriangle(at,J,rt,-1,i[rt],i[at]),this._legalize(ot+2),i[at]=ot,n[rt]=rt,Y--,rt=at;this._hullStart=e[J]=rt,n[rt]=e[st]=J,n[J]=st,r[this._hashKey(Q,tt)]=J,r[this._hashKey(t[2*rt],t[2*rt+1])]=rt}}}this.hull=new Uint32Array(Y);for(var ut=0,lt=this._hullStart;ut<Y;ut++)this.hull[ut]=lt,lt=n[lt];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}},{key:"_hashKey",value:function(t,e){return Math.floor((n=t-this._cx,i=e-this._cy,r=n/(Math.abs(n)+Math.abs(i)),(i>0?3-r:1+r)/4*this._hashSize))%this._hashSize;var n,i,r}},{key:"_legalize",value:function(t){for(var e,n,i,r,a,o,s,u,l,c,h,f,d,y,g,p,m=this._triangles,_=this._halfedges,x=this.coords,v=0,b=0;;){var w=_[t],M=t-t%3;if(b=M+(t+2)%3,-1!==w){var k=w-w%3,A=M+(t+1)%3,S=k+(w+2)%3,C=m[b],T=m[t],E=m[A],D=m[S];if(e=x[2*C],n=x[2*C+1],i=x[2*T],r=x[2*T+1],a=x[2*E],o=x[2*E+1],s=x[2*D],u=x[2*D+1],l=void 0,c=void 0,h=void 0,f=void 0,d=void 0,y=void 0,void 0,g=void 0,p=void 0,(l=e-s)*((f=r-u)*(p=(d=a-s)*d+(y=o-u)*y)-(g=(h=i-s)*h+f*f)*y)-(c=n-u)*(h*p-g*d)+(l*l+c*c)*(h*y-f*d)<0){m[t]=D,m[w]=C;var N=_[S];if(-1===N){var P=this._hullStart;do{if(this._hullTri[P]===S){this._hullTri[P]=t;break}P=this._hullPrev[P]}while(P!==this._hullStart)}this._link(t,N),this._link(w,_[b]),this._link(b,S);var O=k+(w+1)%3;v<B.length&&(B[v++]=O)}else{if(0===v)break;t=B[--v]}}else{if(0===v)break;t=B[--v]}}return b}},{key:"_link",value:function(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}},{key:"_addTriangle",value:function(t,e,n,i,r,a){var o=this.trianglesLen;return this._triangles[o]=t,this._triangles[o+1]=e,this._triangles[o+2]=n,this._link(o,i),this._link(o+1,r),this._link(o+2,a),this.trianglesLen+=3,o}}]),t}();function W(t,e,n,i){var r=t-n,a=e-i;return r*r+a*a}function q(t,e,n,i,r,a){var o=(i-e)*(r-t),s=(n-t)*(a-e);return Math.abs(o-s)>=33306690738754716e-32*Math.abs(o+s)?o-s:0}function X(t,e,n,i,r,a){return(q(r,a,t,e,n,i)||q(t,e,n,i,r,a)||q(n,i,r,a,t,e))<0}function G(t,e,n,i,r,a){var o=n-t,s=i-e,u=r-t,l=a-e,c=o*o+s*s,h=u*u+l*l,f=.5/(o*l-s*u),d=(l*c-s*h)*f,y=(o*h-u*c)*f;return d*d+y*y}function K(t,e,n,i){if(i-n<=20)for(var r=n+1;r<=i;r++){for(var a=t[r],o=e[a],s=r-1;s>=n&&e[t[s]]>o;)t[s+1]=t[s--];t[s+1]=a}else{var u=n+1,l=i;Z(t,n+i>>1,u),e[t[n]]>e[t[i]]&&Z(t,n,i),e[t[u]]>e[t[i]]&&Z(t,u,i),e[t[n]]>e[t[u]]&&Z(t,n,u);for(var c=t[u],h=e[c];;){do{u++}while(e[t[u]]<h);do{l--}while(e[t[l]]>h);if(l<u)break;Z(t,u,l)}t[n+1]=t[l],t[l]=c,i-u+1>=l-n?(K(t,e,u,i),K(t,e,n,l-1)):(K(t,e,n,l-1),K(t,e,u,i))}}function Z(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function $(t){return t[0]}function J(t){return t[1]}var Q=function(){function t(){n(this,t),this._x0=this._y0=this._x1=this._y1=null,this._=""}return r(t,[{key:"moveTo",value:function(t,e){this._+="M".concat(this._x0=this._x1=+t,",").concat(this._y0=this._y1=+e)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}},{key:"lineTo",value:function(t,e){this._+="L".concat(this._x1=+t,",").concat(this._y1=+e)}},{key:"arc",value:function(t,e,n){var i=(t=+t)+(n=+n),r=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(i,",").concat(r):(Math.abs(this._x1-i)>1e-6||Math.abs(this._y1-r)>1e-6)&&(this._+="L"+i+","+r),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(t-n,",").concat(e,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=i,",").concat(this._y1=r))}},{key:"rect",value:function(t,e,n,i){this._+="M".concat(this._x0=this._x1=+t,",").concat(this._y0=this._y1=+e,"h").concat(+n,"v").concat(+i,"h").concat(-n,"Z")}},{key:"value",value:function(){return this._||null}}]),t}(),tt=function(){function t(){n(this,t),this._=[]}return r(t,[{key:"moveTo",value:function(t,e){this._.push([t,e])}},{key:"closePath",value:function(){this._.push(this._[0].slice())}},{key:"lineTo",value:function(t,e){this._.push([t,e])}},{key:"value",value:function(){return this._.length?this._:null}}]),t}(),et=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500],r=c(i,4),a=r[0],o=r[1],s=r[2],u=r[3];if(n(this,t),!((s=+s)>=(a=+a)&&(u=+u)>=(o=+o)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(2*e.points.length),this.vectors=new Float64Array(2*e.points.length),this.xmax=s,this.xmin=a,this.ymax=u,this.ymin=o,this._init()}return r(t,[{key:"update",value:function(){return this.delaunay.update(),this._init(),this}},{key:"_init",value:function(){for(var t,e,n=this.delaunay,i=n.points,r=n.hull,a=n.triangles,o=this.vectors,s=this.circumcenters=this._circumcenters.subarray(0,a.length/3*2),u=0,l=0,c=a.length;u<c;u+=3,l+=2){var h=2*a[u],f=2*a[u+1],d=2*a[u+2],y=i[h],g=i[h+1],p=i[f],m=i[f+1],_=i[d],x=i[d+1],v=p-y,b=m-g,w=_-y,M=x-g,k=v*v+b*b,A=w*w+M*M,S=2*(v*M-b*w);if(S)if(Math.abs(S)<1e-8)t=(y+_)/2,e=(g+x)/2;else{var C=1/S;t=y+(M*k-b*A)*C,e=g+(v*A-w*k)*C}else t=(y+_)/2-1e8*M,e=(g+x)/2+1e8*w;s[l]=t,s[l+1]=e}var T,E,D,N=r[r.length-1],P=4*N,O=i[2*N],I=i[2*N+1];o.fill(0);for(var R=0;R<r.length;++R)T=P,E=O,D=I,P=4*(N=r[R]),O=i[2*N],I=i[2*N+1],o[T+2]=o[P]=D-I,o[T+3]=o[P+1]=O-E}},{key:"render",value:function(t){var e=null==t?t=new Q:void 0,n=this.delaunay,i=n.halfedges,r=n.inedges,a=n.hull,o=this.circumcenters,s=this.vectors;if(a.length<=1)return null;for(var u=0,l=i.length;u<l;++u){var c=i[u];if(!(c<u)){var h=2*Math.floor(u/3),f=2*Math.floor(c/3),d=o[h],y=o[h+1],g=o[f],p=o[f+1];this._renderSegment(d,y,g,p,t)}}for(var m,_=a[a.length-1],x=0;x<a.length;++x){m=_,_=a[x];var v=2*Math.floor(r[_]/3),b=o[v],w=o[v+1],M=4*m,k=this._project(b,w,s[M+2],s[M+3]);k&&this._renderSegment(b,w,k[0],k[1],t)}return e&&e.value()}},{key:"renderBounds",value:function(t){var e=null==t?t=new Q:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}},{key:"renderCell",value:function(t,e){var n=null==e?e=new Q:void 0,i=this._clip(t);if(null!==i&&i.length){e.moveTo(i[0],i[1]);for(var r=i.length;i[0]===i[r-2]&&i[1]===i[r-1]&&r>1;)r-=2;for(var a=2;a<r;a+=2)i[a]===i[a-2]&&i[a+1]===i[a-1]||e.lineTo(i[a],i[a+1]);return e.closePath(),n&&n.value()}}},{key:"cellPolygons",value:regeneratorRuntime.mark((function t(){var e,n,i,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.delaunay.points,n=0,i=e.length/2;case 2:if(!(n<i)){t.next=11;break}if(!(r=this.cellPolygon(n))){t.next=8;break}return r.index=n,t.next=8,r;case 8:++n,t.next=2;break;case 11:case"end":return t.stop()}}),t,this)}))},{key:"cellPolygon",value:function(t){var e=new tt;return this.renderCell(t,e),e.value()}},{key:"_renderSegment",value:function(t,e,n,i,r){var a,o=this._regioncode(t,e),s=this._regioncode(n,i);0===o&&0===s?(r.moveTo(t,e),r.lineTo(n,i)):(a=this._clipSegment(t,e,n,i,o,s))&&(r.moveTo(a[0],a[1]),r.lineTo(a[2],a[3]))}},{key:"contains",value:function(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}},{key:"neighbors",value:regeneratorRuntime.mark((function t(e){var n,i,r,a,o,s,u,l,c,h,f,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=this._clip(e))){t.next=42;break}i=!0,r=!1,a=void 0,t.prev=5,o=this.delaunay.neighbors(e)[Symbol.iterator]();case 7:if(i=(s=o.next()).done){t.next=28;break}if(u=s.value,!(l=this._clip(u))){t.next=25;break}c=0,h=n.length;case 12:if(!(c<h)){t.next=25;break}f=0,d=l.length;case 14:if(!(f<d)){t.next=22;break}if(n[c]!=l[f]||n[c+1]!=l[f+1]||n[(c+2)%h]!=l[(f+d-2)%d]||n[(c+3)%h]!=l[(f+d-1)%d]){t.next=19;break}return t.next=18,u;case 18:return t.abrupt("break",25);case 19:f+=2,t.next=14;break;case 22:c+=2,t.next=12;break;case 25:i=!0,t.next=7;break;case 28:t.next=34;break;case 30:t.prev=30,t.t0=t.catch(5),r=!0,a=t.t0;case 34:t.prev=34,t.prev=35,i||null==o.return||o.return();case 37:if(t.prev=37,!r){t.next=40;break}throw a;case 40:return t.finish(37);case 41:return t.finish(34);case 42:case"end":return t.stop()}}),t,this,[[5,30,34,42],[35,,37,41]])}))},{key:"_cell",value:function(t){var e=this.circumcenters,n=this.delaunay,i=n.inedges,r=n.halfedges,a=n.triangles,o=i[t];if(-1===o)return null;var s=[],u=o;do{var l=Math.floor(u/3);if(s.push(e[2*l],e[2*l+1]),a[u=u%3==2?u-2:u+1]!==t)break;u=r[u]}while(u!==o&&-1!==u);return s}},{key:"_clip",value:function(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var e=this._cell(t);if(null===e)return null;var n=this.vectors,i=4*t;return n[i]||n[i+1]?this._clipInfinite(t,e,n[i],n[i+1],n[i+2],n[i+3]):this._clipFinite(t,e)}},{key:"_clipFinite",value:function(t,e){for(var n,i,r,a,o,s=e.length,u=null,l=e[s-2],h=e[s-1],f=this._regioncode(l,h),d=0;d<s;d+=2)if(n=l,i=h,l=e[d],h=e[d+1],r=f,f=this._regioncode(l,h),0===r&&0===f)a=o,o=0,u?u.push(l,h):u=[l,h];else{var y=void 0,g=void 0,p=void 0,m=void 0,_=void 0;if(0===r){if(null===(y=this._clipSegment(n,i,l,h,r,f)))continue;var x=c(y,4);g=x[0],p=x[1],m=x[2],_=x[3]}else{if(null===(y=this._clipSegment(l,h,n,i,f,r)))continue;var v=c(y,4);m=v[0],_=v[1],g=v[2],p=v[3],a=o,o=this._edgecode(g,p),a&&o&&this._edge(t,a,o,u,u.length),u?u.push(g,p):u=[g,p]}a=o,o=this._edgecode(m,_),a&&o&&this._edge(t,a,o,u,u.length),u?u.push(m,_):u=[m,_]}if(u)a=o,o=this._edgecode(u[0],u[1]),a&&o&&this._edge(t,a,o,u,u.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return u}},{key:"_clipSegment",value:function(t,e,n,i,r,a){for(;;){if(0===r&&0===a)return[t,e,n,i];if(r&a)return null;var o=void 0,s=void 0,u=r||a;8&u?(o=t+(n-t)*(this.ymax-e)/(i-e),s=this.ymax):4&u?(o=t+(n-t)*(this.ymin-e)/(i-e),s=this.ymin):2&u?(s=e+(i-e)*(this.xmax-t)/(n-t),o=this.xmax):(s=e+(i-e)*(this.xmin-t)/(n-t),o=this.xmin),r?(t=o,e=s,r=this._regioncode(t,e)):(n=o,i=s,a=this._regioncode(n,i))}}},{key:"_clipInfinite",value:function(t,e,n,i,r,a){var o,s=Array.from(e);if((o=this._project(s[0],s[1],n,i))&&s.unshift(o[0],o[1]),(o=this._project(s[s.length-2],s[s.length-1],r,a))&&s.push(o[0],o[1]),s=this._clipFinite(t,s))for(var u,l=0,c=s.length,h=this._edgecode(s[c-2],s[c-1]);l<c;l+=2)u=h,h=this._edgecode(s[l],s[l+1]),u&&h&&(l=this._edge(t,u,h,s,l),c=s.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}},{key:"_edge",value:function(t,e,n,i,r){for(;e!==n;){var a=void 0,o=void 0;switch(e){case 5:e=4;continue;case 4:e=6,a=this.xmax,o=this.ymin;break;case 6:e=2;continue;case 2:e=10,a=this.xmax,o=this.ymax;break;case 10:e=8;continue;case 8:e=9,a=this.xmin,o=this.ymax;break;case 9:e=1;continue;case 1:e=5,a=this.xmin,o=this.ymin}i[r]===a&&i[r+1]===o||!this.contains(t,a,o)||(i.splice(r,0,a,o),r+=2)}if(i.length>4)for(var s=0;s<i.length;s+=2){var u=(s+2)%i.length,l=(s+4)%i.length;(i[s]===i[u]&&i[u]===i[l]||i[s+1]===i[u+1]&&i[u+1]===i[l+1])&&(i.splice(u,2),s-=2)}return r}},{key:"_project",value:function(t,e,n,i){var r,a,o,s=1/0;if(i<0){if(e<=this.ymin)return null;(r=(this.ymin-e)/i)<s&&(o=this.ymin,a=t+(s=r)*n)}else if(i>0){if(e>=this.ymax)return null;(r=(this.ymax-e)/i)<s&&(o=this.ymax,a=t+(s=r)*n)}if(n>0){if(t>=this.xmax)return null;(r=(this.xmax-t)/n)<s&&(a=this.xmax,o=e+(s=r)*i)}else if(n<0){if(t<=this.xmin)return null;(r=(this.xmin-t)/n)<s&&(a=this.xmin,o=e+(s=r)*i)}return[a,o]}},{key:"_edgecode",value:function(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}},{key:"_regioncode",value:function(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}}]),t}(),nt=2*Math.PI,it=Math.pow;function rt(t){return t[0]}function at(t){return t[1]}function ot(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}var st=function(){function t(e){n(this,t),this._delaunator=new Y(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}return r(t,null,[{key:"from",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rt,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:at,r=arguments.length>3?arguments[3]:void 0;return new t("length"in e?ut(e,n,i,r):Float64Array.from(lt(e,n,i,r)))}}]),r(t,[{key:"update",value:function(){return this._delaunator.update(),this._init(),this}},{key:"_init",value:function(){var t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){for(var e=t.triangles,n=t.coords,i=0;i<e.length;i+=3){var r=2*e[i],a=2*e[i+1],o=2*e[i+2];if((n[o]-n[r])*(n[a+1]-n[r+1])-(n[a]-n[r])*(n[o+1]-n[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},(function(t,e){return e})).sort((function(t,n){return e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]}));for(var n=this.collinear[0],i=this.collinear[this.collinear.length-1],r=[e[2*n],e[2*n+1],e[2*i],e[2*i+1]],a=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]),o=0,s=e.length/2;o<s;++o){var u=ot(e[2*o],e[2*o+1],a);e[2*o]=u[0],e[2*o+1]=u[1]}this._delaunator=new Y(e)}else delete this.collinear;for(var l=this.halfedges=this._delaunator.halfedges,c=this.hull=this._delaunator.hull,h=this.triangles=this._delaunator.triangles,f=this.inedges.fill(-1),d=this._hullIndex.fill(-1),y=0,g=l.length;y<g;++y){var p=h[y%3==2?y-2:y+1];-1!==l[y]&&-1!==f[p]||(f[p]=y)}for(var m=0,_=c.length;m<_;++m)d[c[m]]=m;c.length<=2&&c.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=c[0],this.triangles[1]=c[1],this.triangles[2]=c[1],f[c[0]]=1,2===c.length&&(f[c[1]]=0))}},{key:"voronoi",value:function(t){return new et(this,t)}},{key:"neighbors",value:regeneratorRuntime.mark((function t(e){var n,i,r,a,o,s,u,l,c,h,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.inedges,i=this.hull,r=this._hullIndex,a=this.halfedges,o=this.triangles,!(s=this.collinear)){t.next=10;break}if(!((u=s.indexOf(e))>0)){t.next=6;break}return t.next=6,s[u-1];case 6:if(!(u<s.length-1)){t.next=9;break}return t.next=9,s[u+1];case 9:return t.abrupt("return");case 10:if(-1!==(l=n[e])){t.next=13;break}return t.abrupt("return");case 13:c=l,h=-1;case 14:return t.next=16,h=o[c];case 16:if(o[c=c%3==2?c-2:c+1]===e){t.next=19;break}return t.abrupt("return");case 19:if(-1!==(c=a[c])){t.next=26;break}if((f=i[(r[e]+1)%i.length])===h){t.next=25;break}return t.next=25,f;case 25:return t.abrupt("return");case 26:if(c!==l){t.next=14;break}case 27:case"end":return t.stop()}}),t,this)}))},{key:"find",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((t=+t)!=t||(e=+e)!=e)return-1;for(var i,r=n;(i=this._step(n,t,e))>=0&&i!==n&&i!==r;)n=i;return i}},{key:"_step",value:function(t,e,n){var i=this.inedges,r=this.hull,a=this._hullIndex,o=this.halfedges,s=this.triangles,u=this.points;if(-1===i[t]||!u.length)return(t+1)%(u.length>>1);var l=t,c=it(e-u[2*t],2)+it(n-u[2*t+1],2),h=i[t],f=h;do{var d=s[f],y=it(e-u[2*d],2)+it(n-u[2*d+1],2);if(y<c&&(c=y,l=d),s[f=f%3==2?f-2:f+1]!==t)break;if(-1===(f=o[f])){if((f=r[(a[t]+1)%r.length])!==d&&it(e-u[2*f],2)+it(n-u[2*f+1],2)<c)return f;break}}while(f!==h);return l}},{key:"render",value:function(t){for(var e=null==t?t=new Q:void 0,n=this.points,i=this.halfedges,r=this.triangles,a=0,o=i.length;a<o;++a){var s=i[a];if(!(s<a)){var u=2*r[a],l=2*r[s];t.moveTo(n[u],n[u+1]),t.lineTo(n[l],n[l+1])}}return this.renderHull(t),e&&e.value()}},{key:"renderPoints",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=null==t?t=new Q:void 0,i=this.points,r=0,a=i.length;r<a;r+=2){var o=i[r],s=i[r+1];t.moveTo(o+e,s),t.arc(o,s,e,0,nt)}return n&&n.value()}},{key:"renderHull",value:function(t){var e=null==t?t=new Q:void 0,n=this.hull,i=this.points,r=2*n[0],a=n.length;t.moveTo(i[r],i[r+1]);for(var o=1;o<a;++o){var s=2*n[o];t.lineTo(i[s],i[s+1])}return t.closePath(),e&&e.value()}},{key:"hullPolygon",value:function(){var t=new tt;return this.renderHull(t),t.value()}},{key:"renderTriangle",value:function(t,e){var n=null==e?e=new Q:void 0,i=this.points,r=this.triangles,a=2*r[t*=3],o=2*r[t+1],s=2*r[t+2];return e.moveTo(i[a],i[a+1]),e.lineTo(i[o],i[o+1]),e.lineTo(i[s],i[s+1]),e.closePath(),n&&n.value()}},{key:"trianglePolygons",value:regeneratorRuntime.mark((function t(){var e,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.triangles,n=0,i=e.length/3;case 2:if(!(n<i)){t.next=8;break}return t.next=5,this.trianglePolygon(n);case 5:++n,t.next=2;break;case 8:case"end":return t.stop()}}),t,this)}))},{key:"trianglePolygon",value:function(t){var e=new tt;return this.renderTriangle(t,e),e.value()}}]),t}();function ut(t,e,n,i){for(var r=t.length,a=new Float64Array(2*r),o=0;o<r;++o){var s=t[o];a[2*o]=e.call(i,s,o,t),a[2*o+1]=n.call(i,s,o,t)}return a}function lt(t,e,n,i){var r,a,o,s,u,l,c;return regeneratorRuntime.wrap((function(h){for(;;)switch(h.prev=h.next){case 0:r=0,a=!0,o=!1,s=void 0,h.prev=4,u=t[Symbol.iterator]();case 6:if(a=(l=u.next()).done){h.next=16;break}return c=l.value,h.next=10,e.call(i,c,r,t);case 10:return h.next=12,n.call(i,c,r,t);case 12:++r;case 13:a=!0,h.next=6;break;case 16:h.next=22;break;case 18:h.prev=18,h.t0=h.catch(4),o=!0,s=h.t0;case 22:h.prev=22,h.prev=23,a||null==u.return||u.return();case 25:if(h.prev=25,!o){h.next=28;break}throw s;case 28:return h.finish(25);case 29:return h.finish(22);case 30:case"end":return h.stop()}}),j,null,[[4,18,22,30],[23,,25,29]])}function ct(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function ht(t){var e;return 1===t.length&&(e=t,t=function(t,n){return ct(e(t),n)}),{left:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var a=i+r>>>1;t(e[a],n)<0?i=a+1:r=a}return i},right:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var a=i+r>>>1;t(e[a],n)>0?r=a:i=a+1}return i}}}var ft=ht(ct).right;function dt(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(r);++i<r;)a[i]=t+i*n;return a}var yt=Math.sqrt(50),gt=Math.sqrt(10),pt=Math.sqrt(2);function mt(t,e,n){var i,r,a,o,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(o=_t(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(r=Math.ceil(e-t+1));++s<r;)a[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(r=Math.ceil(t-e+1));++s<r;)a[s]=(t-s)/o;return i&&a.reverse(),a}function _t(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),a=i/Math.pow(10,r);return r>=0?(a>=yt?10:a>=gt?5:a>=pt?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(a>=yt?10:a>=gt?5:a>=pt?2:1)}function xt(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),a=i/r;return a>=yt?r*=10:a>=gt?r*=5:a>=pt&&(r*=2),e<t?-r:r}function vt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var bt=Symbol("implicit");function wt(){var t=new Map,e=[],n=[],i=bt;function r(r){var a=r+"",o=t.get(a);if(!o){if(i!==bt)return i;t.set(a,o=e.push(r))}return n[(o-1)%n.length]}return r.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;var i=!0,a=!1,o=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value,c=l+"";t.has(c)||t.set(c,e.push(l))}}catch(t){a=!0,o=t}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}return r},r.range=function(t){return arguments.length?(n=Array.from(t),r):n.slice()},r.unknown=function(t){return arguments.length?(i=t,r):i},r.copy=function(){return wt(e,n).unknown(i)},vt.apply(r,arguments),r}function Mt(){var t,e,n=wt().unknown(void 0),i=n.domain,r=n.range,a=0,o=1,s=!1,u=0,l=0,h=.5;function f(){var n=i().length,c=o<a,f=c?o:a,d=c?a:o;t=(d-f)/Math.max(1,n-u+2*l),s&&(t=Math.floor(t)),f+=(d-f-t*(n-u))*h,e=t*(1-u),s&&(f=Math.round(f),e=Math.round(e));var y=dt(n).map((function(e){return f+t*e}));return r(c?y.reverse():y)}return delete n.unknown,n.domain=function(t){return arguments.length?(i(t),f()):i()},n.range=function(t){var e;return arguments.length?(e=c(t,2),a=e[0],o=e[1],a=+a,o=+o,f()):[a,o]},n.rangeRound=function(t){var e;return e=c(t,2),a=e[0],o=e[1],a=+a,o=+o,s=!0,f()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,f()):s},n.padding=function(t){return arguments.length?(u=Math.min(1,l=+t),f()):u},n.paddingInner=function(t){return arguments.length?(u=Math.min(1,t),f()):u},n.paddingOuter=function(t){return arguments.length?(l=+t,f()):l},n.align=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),f()):h},n.copy=function(){return Mt(i(),[a,o]).round(s).paddingInner(u).paddingOuter(l).align(h)},vt.apply(f(),arguments)}function kt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function At(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function St(){}var Ct="\\s*([+-]?\\d+)\\s*",Tt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Et="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Dt=/^#([0-9a-f]{3,8})$/,Nt=new RegExp("^rgb\\("+[Ct,Ct,Ct]+"\\)$"),Pt=new RegExp("^rgb\\("+[Et,Et,Et]+"\\)$"),Ot=new RegExp("^rgba\\("+[Ct,Ct,Ct,Tt]+"\\)$"),It=new RegExp("^rgba\\("+[Et,Et,Et,Tt]+"\\)$"),Rt=new RegExp("^hsl\\("+[Tt,Et,Et]+"\\)$"),Lt=new RegExp("^hsla\\("+[Tt,Et,Et,Tt]+"\\)$"),Vt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function zt(){return this.rgb().formatHex()}function Ut(){return this.rgb().formatRgb()}function Ft(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Dt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?jt(e):3===n?new Wt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Ht(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Ht(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Nt.exec(t))?new Wt(e[1],e[2],e[3],1):(e=Pt.exec(t))?new Wt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ot.exec(t))?Ht(e[1],e[2],e[3],e[4]):(e=It.exec(t))?Ht(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Rt.exec(t))?Kt(e[1],e[2]/100,e[3]/100,1):(e=Lt.exec(t))?Kt(e[1],e[2]/100,e[3]/100,e[4]):Vt.hasOwnProperty(t)?jt(Vt[t]):"transparent"===t?new Wt(NaN,NaN,NaN,0):null}function jt(t){return new Wt(t>>16&255,t>>8&255,255&t,1)}function Ht(t,e,n,i){return i<=0&&(t=e=n=NaN),new Wt(t,e,n,i)}function Bt(t){return t instanceof St||(t=Ft(t)),t?new Wt((t=t.rgb()).r,t.g,t.b,t.opacity):new Wt}function Yt(t,e,n,i){return 1===arguments.length?Bt(t):new Wt(t,e,n,null==i?1:i)}function Wt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function qt(){return"#"+Gt(this.r)+Gt(this.g)+Gt(this.b)}function Xt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Gt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Kt(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new $t(t,e,n,i)}function Zt(t){if(t instanceof $t)return new $t(t.h,t.s,t.l,t.opacity);if(t instanceof St||(t=Ft(t)),!t)return new $t;if(t instanceof $t)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),a=Math.max(e,n,i),o=NaN,s=a-r,u=(a+r)/2;return s?(o=e===a?(n-i)/s+6*(n<i):n===a?(i-e)/s+2:(e-n)/s+4,s/=u<.5?a+r:2-a-r,o*=60):s=u>0&&u<1?0:o,new $t(o,s,u,t.opacity)}function $t(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Jt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Qt(t){return function(){return t}}function te(t){return 1==(t=+t)?ee:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):Qt(isNaN(e)?n:e)}}function ee(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Qt(isNaN(t)?e:t)}kt(St,Ft,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:zt,formatHex:zt,formatHsl:function(){return Zt(this).formatHsl()},formatRgb:Ut,toString:Ut}),kt(Wt,Yt,At(St,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Wt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Wt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qt,formatHex:qt,formatRgb:Xt,toString:Xt})),kt($t,(function(t,e,n,i){return 1===arguments.length?Zt(t):new $t(t,e,n,null==i?1:i)}),At(St,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new $t(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new $t(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Wt(Jt(t>=240?t-240:t+120,r,i),Jt(t,r,i),Jt(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var ne=function t(e){var n=te(e);function i(t,e){var i=n((t=Yt(t)).r,(e=Yt(e)).r),r=n(t.g,e.g),a=n(t.b,e.b),o=ee(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=a(e),t.opacity=o(e),t+""}}return i.gamma=t,i}(1);function ie(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(a){for(n=0;n<i;++n)r[n]=t[n]*(1-a)+e[n]*a;return r}}function re(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,a=new Array(r),o=new Array(i);for(n=0;n<r;++n)a[n]=he(t[n],e[n]);for(;n<i;++n)o[n]=e[n];return function(t){for(n=0;n<r;++n)o[n]=a[n](t);return o}}function ae(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function oe(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function se(t,n){var i,r={},a={};for(i in null!==t&&"object"===e(t)||(t={}),null!==n&&"object"===e(n)||(n={}),n)i in t?r[i]=he(t[i],n[i]):a[i]=n[i];return function(t){for(i in r)a[i]=r[i](t);return a}}var ue=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,le=new RegExp(ue.source,"g");function ce(t,e){var n,i,r,a=ue.lastIndex=le.lastIndex=0,o=-1,s=[],u=[];for(t+="",e+="";(n=ue.exec(t))&&(i=le.exec(e));)(r=i.index)>a&&(r=e.slice(a,r),s[o]?s[o]+=r:s[++o]=r),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,u.push({i:o,x:oe(n,i)})),a=le.lastIndex;return a<e.length&&(r=e.slice(a),s[o]?s[o]+=r:s[++o]=r),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,i=0;i<e;++i)s[(n=u[i]).i]=n.x(t);return s.join("")})}function he(t,n){var i,r=e(n);return null==n||"boolean"===r?Qt(n):("number"===r?oe:"string"===r?(i=Ft(n))?(n=i,ne):ce:n instanceof Ft?ne:n instanceof Date?ae:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(n)?ie:Array.isArray(n)?re:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?se:oe)(t,n)}function fe(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function de(t){return+t}var ye=[0,1];function ge(t){return t}function pe(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function me(t,e,n){var i=t[0],r=t[1],a=e[0],o=e[1];return r<i?(i=pe(r,i),a=n(o,a)):(i=pe(i,r),a=n(a,o)),function(t){return a(i(t))}}function _e(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),a=new Array(i),o=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<i;)r[o]=pe(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(e){var n=ft(t,e,1,i)-1;return a[n](r[n](e))}}function xe(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ve(){var t,e,n,i,r,a,o=ye,s=ye,u=he,l=ge;function c(){var t,e,n,u=Math.min(o.length,s.length);return l!==ge&&(t=o[0],e=o[u-1],t>e&&(n=t,t=e,e=n),l=function(n){return Math.max(t,Math.min(e,n))}),i=u>2?_e:me,r=a=null,h}function h(e){return isNaN(e=+e)?n:(r||(r=i(o.map(t),s,u)))(t(l(e)))}return h.invert=function(n){return l(e((a||(a=i(s,o.map(t),oe)))(n)))},h.domain=function(t){return arguments.length?(o=Array.from(t,de),c()):o.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),c()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),u=fe,c()},h.clamp=function(t){return arguments.length?(l=!!t||ge,c()):l!==ge},h.interpolate=function(t){return arguments.length?(u=t,c()):u},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,i){return t=n,e=i,c()}}function be(){return ve()(ge,ge)}function we(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Me(t){return(t=we(Math.abs(t)))?t[1]:NaN}var ke,Ae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Se(t){if(!(e=Ae.exec(t)))throw new Error("invalid format: "+t);var e;return new Ce({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Ce(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Te(t,e){var n=we(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}Se.prototype=Ce.prototype,Ce.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ee={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Te(100*t,e)},r:Te,s:function(t,e){var n=we(t,e);if(!n)return t+"";var i=n[0],r=n[1],a=r-(ke=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=i.length;return a===o?i:a>o?i+new Array(a-o+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+we(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function De(t){return t}var Ne,Pe,Oe,Ie=Array.prototype.map,Re=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function Le(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?De:(e=Ie.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var r=t.length,a=[],o=0,s=e[0],u=0;r>0&&s>0&&(u+s+1>i&&(s=Math.max(1,i-u)),a.push(t.substring(r-=s,r+s)),!((u+=s+1)>i));)s=e[o=(o+1)%e.length];return a.reverse().join(n)}),r=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?De:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Ie.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=Se(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,y=t.width,g=t.comma,p=t.precision,m=t.trim,_=t.type;"n"===_?(g=!0,_="g"):Ee[_]||(void 0===p&&(p=12),m=!0,_="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var x="$"===f?r:"#"===f&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",v="$"===f?a:/[%p]/.test(_)?u:"",b=Ee[_],w=/[defgprs%]/.test(_);function M(t){var r,a,u,f=x,M=v;if("c"===_)M=b(t)+M,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:b(Math.abs(t),p),m&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),k&&0==+t&&"+"!==h&&(k=!1),f=(k?"("===h?h:l:"-"===h||"("===h?"":h)+f,M=("s"===_?Re[8+ke/3]:"")+M+(k&&"("===h?")":""),w)for(r=-1,a=t.length;++r<a;)if(48>(u=t.charCodeAt(r))||u>57){M=(46===u?o+t.slice(r+1):t.slice(r))+M,t=t.slice(0,r);break}}g&&!d&&(t=i(t,1/0));var A=f.length+t.length+M.length,S=A<y?new Array(y-A+1).join(e):"";switch(g&&d&&(t=i(S+t,S.length?y-M.length:1/0),S=""),n){case"<":t=f+t+M+S;break;case"=":t=f+S+t+M;break;case"^":t=S.slice(0,A=S.length>>1)+f+t+M+S.slice(A);break;default:t=S+f+t+M}return s(t)}return p=void 0===p?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),M.toString=function(){return t+""},M}return{format:h,formatPrefix:function(t,e){var n=h(((t=Se(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Me(e)/3))),r=Math.pow(10,-i),a=Re[8+i/3];return function(t){return n(r*t)+a}}}}function Ve(t,e,n,i){var r,a=xt(t,e,n);switch((i=Se(null==i?",f":i)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Me(e)/3)))-Me(Math.abs(t)))}(a,o))||(i.precision=r),Oe(i,o);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Me(e)-Me(t))+1}(a,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(t){return Math.max(0,-Me(Math.abs(t)))}(a))||(i.precision=r-2*("%"===i.type))}return Pe(i)}function ze(t){var e=t.domain;return t.ticks=function(t){var n=e();return mt(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return Ve(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r=e(),a=0,o=r.length-1,s=r[a],u=r[o];return u<s&&(i=s,s=u,u=i,i=a,a=o,o=i),(i=_t(s,u,n))>0?i=_t(s=Math.floor(s/i)*i,u=Math.ceil(u/i)*i,n):i<0&&(i=_t(s=Math.ceil(s*i)/i,u=Math.floor(u*i)/i,n)),i>0?(r[a]=Math.floor(s/i)*i,r[o]=Math.ceil(u/i)*i,e(r)):i<0&&(r[a]=Math.ceil(s*i)/i,r[o]=Math.floor(u*i)/i,e(r)),t},t}function Ue(t,e){var n,i=0,r=(t=t.slice()).length-1,a=t[i],o=t[r];return o<a&&(n=i,i=r,r=n,n=a,a=o,o=n),t[i]=e.floor(a),t[r]=e.ceil(o),t}function Fe(t){return Math.log(t)}function je(t){return Math.exp(t)}function He(t){return-Math.log(-t)}function Be(t){return-Math.exp(-t)}function Ye(t){return isFinite(t)?+("1e"+t):t<0?0:t}function We(t){return function(e){return-t(-e)}}function qe(t){var e,n,i=t(Fe,je),r=i.domain,a=10;function o(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(a),n=function(t){return 10===t?Ye:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(a),r()[0]<0?(e=We(e),n=We(n),t(He,Be)):t(Fe,je),i}return i.base=function(t){return arguments.length?(a=+t,o()):a},i.domain=function(t){return arguments.length?(r(t),o()):r()},i.ticks=function(t){var i,o=r(),s=o[0],u=o[o.length-1];(i=u<s)&&(f=s,s=u,u=f);var l,c,h,f=e(s),d=e(u),y=null==t?10:+t,g=[];if(!(a%1)&&d-f<y){if(f=Math.floor(f),d=Math.ceil(d),s>0){for(;f<=d;++f)for(c=1,l=n(f);c<a;++c)if(!((h=l*c)<s)){if(h>u)break;g.push(h)}}else for(;f<=d;++f)for(c=a-1,l=n(f);c>=1;--c)if(!((h=l*c)<s)){if(h>u)break;g.push(h)}2*g.length<y&&(g=mt(s,u,y))}else g=mt(f,d,Math.min(d-f,y)).map(n);return i?g.reverse():g},i.tickFormat=function(t,r){if(null==r&&(r=10===a?".0e":","),"function"!=typeof r&&(r=Pe(r)),t===1/0)return r;null==t&&(t=10);var o=Math.max(1,a*t/i.ticks().length);return function(t){var i=t/n(Math.round(e(t)));return i*a<a-.5&&(i*=a),i<=o?r(t):""}},i.nice=function(){return r(Ue(r(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},i}Ne=Le({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Pe=Ne.format,Oe=Ne.formatPrefix;var Xe=new Date,Ge=new Date;function Ke(t,e,n,i){function r(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return r.floor=function(e){return t(e=new Date(+e)),e},r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return t-e<n-t?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,a){var o,s=[];if(n=r.ceil(n),a=null==a?1:Math.floor(a),!(n<i&&a>0))return s;do{s.push(o=new Date(+n)),e(n,a),t(n)}while(o<n&&n<i);return s},r.filter=function(n){return Ke((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;e(t,-1),!n(t););else for(;--i>=0;)for(;e(t,1),!n(t););}))},n&&(r.count=function(e,i){return Xe.setTime(+e),Ge.setTime(+i),t(Xe),t(Ge),Math.floor(n(Xe,Ge))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t==0}:function(e){return r.count(0,e)%t==0}):r:null}),r}var Ze=Ke((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));Ze.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Ke((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):Ze:null};var $e=Ke((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),Je=Ke((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()})),Qe=Ke((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()})),tn=Ke((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}));function en(t){return Ke((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var nn=en(0),rn=en(1),an=(en(2),en(3),en(4)),on=(en(5),en(6),Ke((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),sn=Ke((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));sn.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ke((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var un=Ke((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()})),ln=Ke((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()})),cn=Ke((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}));function hn(t){return Ke((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var fn=hn(0),dn=hn(1),yn=(hn(2),hn(3),hn(4)),gn=(hn(5),hn(6),Ke((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}))),pn=Ke((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));function mn(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function _n(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function xn(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}pn.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ke((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var vn,bn,wn,Mn={"-":"",_:" ",0:"0"},kn=/^\s*\d+/,An=/^%/,Sn=/[\\^$*+?|[\]().{}]/g;function Cn(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(e)+r:r)}function Tn(t){return t.replace(Sn,"\\$&")}function En(t){return new RegExp("^(?:"+t.map(Tn).join("|")+")","i")}function Dn(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function Nn(t,e,n){var i=kn.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Pn(t,e,n){var i=kn.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function On(t,e,n){var i=kn.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function In(t,e,n){var i=kn.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function Rn(t,e,n){var i=kn.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function Ln(t,e,n){var i=kn.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Vn(t,e,n){var i=kn.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function zn(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function Un(t,e,n){var i=kn.exec(e.slice(n,n+1));return i?(t.q=3*i[0]-3,n+i[0].length):-1}function Fn(t,e,n){var i=kn.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function jn(t,e,n){var i=kn.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Hn(t,e,n){var i=kn.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function Bn(t,e,n){var i=kn.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function Yn(t,e,n){var i=kn.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function Wn(t,e,n){var i=kn.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function qn(t,e,n){var i=kn.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function Xn(t,e,n){var i=kn.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function Gn(t,e,n){var i=An.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function Kn(t,e,n){var i=kn.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function Zn(t,e,n){var i=kn.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function $n(t,e){return Cn(t.getDate(),e,2)}function Jn(t,e){return Cn(t.getHours(),e,2)}function Qn(t,e){return Cn(t.getHours()%12||12,e,2)}function ti(t,e){return Cn(1+tn.count(sn(t),t),e,3)}function ei(t,e){return Cn(t.getMilliseconds(),e,3)}function ni(t,e){return ei(t,e)+"000"}function ii(t,e){return Cn(t.getMonth()+1,e,2)}function ri(t,e){return Cn(t.getMinutes(),e,2)}function ai(t,e){return Cn(t.getSeconds(),e,2)}function oi(t){var e=t.getDay();return 0===e?7:e}function si(t,e){return Cn(nn.count(sn(t)-1,t),e,2)}function ui(t,e){var n=t.getDay();return t=n>=4||0===n?an(t):an.ceil(t),Cn(an.count(sn(t),t)+(4===sn(t).getDay()),e,2)}function li(t){return t.getDay()}function ci(t,e){return Cn(rn.count(sn(t)-1,t),e,2)}function hi(t,e){return Cn(t.getFullYear()%100,e,2)}function fi(t,e){return Cn(t.getFullYear()%1e4,e,4)}function di(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Cn(e/60|0,"0",2)+Cn(e%60,"0",2)}function yi(t,e){return Cn(t.getUTCDate(),e,2)}function gi(t,e){return Cn(t.getUTCHours(),e,2)}function pi(t,e){return Cn(t.getUTCHours()%12||12,e,2)}function mi(t,e){return Cn(1+cn.count(pn(t),t),e,3)}function _i(t,e){return Cn(t.getUTCMilliseconds(),e,3)}function xi(t,e){return _i(t,e)+"000"}function vi(t,e){return Cn(t.getUTCMonth()+1,e,2)}function bi(t,e){return Cn(t.getUTCMinutes(),e,2)}function wi(t,e){return Cn(t.getUTCSeconds(),e,2)}function Mi(t){var e=t.getUTCDay();return 0===e?7:e}function ki(t,e){return Cn(fn.count(pn(t)-1,t),e,2)}function Ai(t,e){var n=t.getUTCDay();return t=n>=4||0===n?yn(t):yn.ceil(t),Cn(yn.count(pn(t),t)+(4===pn(t).getUTCDay()),e,2)}function Si(t){return t.getUTCDay()}function Ci(t,e){return Cn(dn.count(pn(t)-1,t),e,2)}function Ti(t,e){return Cn(t.getUTCFullYear()%100,e,2)}function Ei(t,e){return Cn(t.getUTCFullYear()%1e4,e,4)}function Di(){return"+0000"}function Ni(){return"%"}function Pi(t){return+t}function Oi(t){return Math.floor(+t/1e3)}!function(t){vn=function(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,a=t.days,o=t.shortDays,s=t.months,u=t.shortMonths,l=En(r),c=Dn(r),h=En(a),f=Dn(a),d=En(o),y=Dn(o),g=En(s),p=Dn(s),m=En(u),_=Dn(u),x={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:$n,e:$n,f:ni,H:Jn,I:Qn,j:ti,L:ei,m:ii,M:ri,p:function(t){return r[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Pi,s:Oi,S:ai,u:oi,U:si,V:ui,w:li,W:ci,x:null,X:null,y:hi,Y:fi,Z:di,"%":Ni},v={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:yi,e:yi,f:xi,H:gi,I:pi,j:mi,L:_i,m:vi,M:bi,p:function(t){return r[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Pi,s:Oi,S:wi,u:Mi,U:ki,V:Ai,w:Si,W:Ci,x:null,X:null,y:Ti,Y:Ei,Z:Di,"%":Ni},b={a:function(t,e,n){var i=d.exec(e.slice(n));return i?(t.w=y[i[0].toLowerCase()],n+i[0].length):-1},A:function(t,e,n){var i=h.exec(e.slice(n));return i?(t.w=f[i[0].toLowerCase()],n+i[0].length):-1},b:function(t,e,n){var i=m.exec(e.slice(n));return i?(t.m=_[i[0].toLowerCase()],n+i[0].length):-1},B:function(t,e,n){var i=g.exec(e.slice(n));return i?(t.m=p[i[0].toLowerCase()],n+i[0].length):-1},c:function(t,n,i){return k(t,e,n,i)},d:jn,e:jn,f:Xn,H:Bn,I:Bn,j:Hn,L:qn,m:Fn,M:Yn,p:function(t,e,n){var i=l.exec(e.slice(n));return i?(t.p=c[i[0].toLowerCase()],n+i[0].length):-1},q:Un,Q:Kn,s:Zn,S:Wn,u:Pn,U:On,V:In,w:Nn,W:Rn,x:function(t,e,i){return k(t,n,e,i)},X:function(t,e,n){return k(t,i,e,n)},y:Vn,Y:Ln,Z:zn,"%":Gn};function w(t,e){return function(n){var i,r,a,o=[],s=-1,u=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===t.charCodeAt(s)&&(o.push(t.slice(u,s)),null!=(r=Mn[i=t.charAt(++s)])?i=t.charAt(++s):r="e"===i?" ":"0",(a=e[i])&&(i=a(n,r)),o.push(i),u=s+1);return o.push(t.slice(u,s)),o.join("")}}function M(t,e){return function(n){var i,r,a=xn(1900,void 0,1);if(k(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(!e||"Z"in a||(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(r=(i=_n(xn(a.y,0,1))).getUTCDay(),i=r>4||0===r?dn.ceil(i):dn(i),i=cn.offset(i,7*(a.V-1)),a.y=i.getUTCFullYear(),a.m=i.getUTCMonth(),a.d=i.getUTCDate()+(a.w+6)%7):(r=(i=mn(xn(a.y,0,1))).getDay(),i=r>4||0===r?rn.ceil(i):rn(i),i=tn.offset(i,7*(a.V-1)),a.y=i.getFullYear(),a.m=i.getMonth(),a.d=i.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),r="Z"in a?_n(xn(a.y,0,1)).getUTCDay():mn(xn(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(r+5)%7:a.w+7*a.U-(r+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,_n(a)):mn(a)}}function k(t,e,n,i){for(var r,a,o=0,s=e.length,u=n.length;o<s;){if(i>=u)return-1;if(37===(r=e.charCodeAt(o++))){if(r=e.charAt(o++),!(a=b[r in Mn?e.charAt(o++):r])||(i=a(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return(x.x=w(n,x),x.X=w(i,x),x.c=w(e,x),v.x=w(n,v),v.X=w(i,v),v.c=w(e,v),{format:function(t){var e=w(t+="",x);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",v);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t+="",!0);return e.toString=function(){return t},e}})}(t),bn=vn.format,vn.parse,wn=vn.utcFormat,vn.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ii(t){return new Date(t)}function Ri(t){return t instanceof Date?+t:+new Date(+t)}function Li(t,e,n,i,r,a,o,s,u){var l=be(),c=l.invert,h=l.domain,f=u(".%L"),d=u(":%S"),y=u("%I:%M"),g=u("%I %p"),p=u("%a %d"),m=u("%b %d"),_=u("%B"),x=u("%Y"),v=[[o,1,1e3],[o,5,5e3],[o,15,15e3],[o,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[r,1,36e5],[r,3,108e5],[r,6,216e5],[r,12,432e5],[i,1,864e5],[i,2,1728e5],[n,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,31536e6]];function b(s){return(o(s)<s?f:a(s)<s?d:r(s)<s?y:i(s)<s?g:e(s)<s?n(s)<s?p:m:t(s)<s?_:x)(s)}function w(e,n,i){if(null==e&&(e=10),"number"==typeof e){var r,a=Math.abs(i-n)/e,o=ht((function(t){return t[2]})).right(v,a);return o===v.length?(r=xt(n/31536e6,i/31536e6,e),e=t):o?(r=(o=v[a/v[o-1][2]<v[o][2]/a?o-1:o])[1],e=o[0]):(r=Math.max(xt(n,i,e),1),e=s),e.every(r)}return e}return l.invert=function(t){return new Date(c(t))},l.domain=function(t){return arguments.length?h(Array.from(t,Ri)):h().map(Ii)},l.ticks=function(t){var e,n=h(),i=n[0],r=n[n.length-1],a=r<i;return a&&(e=i,i=r,r=e),e=(e=w(t,i,r))?e.range(i,r+1):[],a?e.reverse():e},l.tickFormat=function(t,e){return null==e?b:u(e)},l.nice=function(t){var e=h();return(t=w(t,e[0],e[e.length-1]))?h(Ue(e,t)):l},l.copy=function(){return xe(l,Li(t,e,n,i,r,a,o,s,u))},l}var Vi=Math.PI,zi=2*Vi,Ui=zi-1e-6;function Fi(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ji(){return new Fi}function Hi(t){return function(){return t}}Fi.prototype=ji.prototype={constructor:Fi,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+a)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var a=this._x1,o=this._y1,s=n-t,u=i-e,l=a-t,c=o-e,h=l*l+c*c;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(c*s-u*l)>1e-6&&r){var f=n-a,d=i-o,y=s*s+u*u,g=f*f+d*d,p=Math.sqrt(y),m=Math.sqrt(h),_=r*Math.tan((Vi-Math.acos((y+h-g)/(2*p*m)))/2),x=_/m,v=_/p;Math.abs(x-1)>1e-6&&(this._+="L"+(t+x*l)+","+(e+x*c)),this._+="A"+r+","+r+",0,0,"+ +(c*f>l*d)+","+(this._x1=t+v*s)+","+(this._y1=e+v*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,i,r,a){t=+t,e=+e,a=!!a;var o=(n=+n)*Math.cos(i),s=n*Math.sin(i),u=t+o,l=e+s,c=1^a,h=a?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+l:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+u+","+l),n&&(h<0&&(h=h%zi+zi),h>Ui?this._+="A"+n+","+n+",0,1,"+c+","+(t-o)+","+(e-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=Vi)+","+c+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};function Bi(t){this._context=t}function Yi(t){return new Bi(t)}function Wi(t){return t[0]}function qi(t){return t[1]}function Xi(){var t=Wi,e=qi,n=Hi(!0),i=null,r=Yi,a=null;function o(o){var s,u,l,c=o.length,h=!1;for(null==i&&(a=r(l=ji())),s=0;s<=c;++s)!(s<c&&n(u=o[s],s,o))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(u,s,o),+e(u,s,o));if(l)return a=null,l+""||null}return o.x=function(e){return arguments.length?(t="function"==typeof e?e:Hi(+e),o):t},o.y=function(t){return arguments.length?(e="function"==typeof t?t:Hi(+t),o):e},o.defined=function(t){return arguments.length?(n="function"==typeof t?t:Hi(!!t),o):n},o.curve=function(t){return arguments.length?(r=t,null!=i&&(a=r(i)),o):r},o.context=function(t){return arguments.length?(null==t?i=a=null:a=r(i=t),o):i},o}function Gi(){}function Ki(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Zi(t){this._context=t}function $i(t){return new Zi(t)}function Ji(t){this._context=t}function Qi(t){return new Ji(t)}function tr(t){this._context=t}function er(t){return new tr(t)}function nr(t,e){this._basis=new Zi(t),this._beta=e}Bi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},Zi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ki(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ki(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Ji.prototype={areaStart:Gi,areaEnd:Gi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ki(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},tr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Ki(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},nr.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i,r=t[0],a=e[0],o=t[n]-r,s=e[n]-a,u=-1;++u<=n;)i=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(r+i*o),this._beta*e[u]+(1-this._beta)*(a+i*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var ir=function t(e){function n(t){return 1===e?new Zi(t):new nr(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function rr(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function ar(t,e){this._context=t,this._k=(1-e)/6}ar.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:rr(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:rr(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var or=function t(e){function n(t){return new ar(t,e)}return n.tension=function(e){return t(+e)},n}(0);function sr(t,e){this._context=t,this._k=(1-e)/6}sr.prototype={areaStart:Gi,areaEnd:Gi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:rr(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ur=function t(e){function n(t){return new sr(t,e)}return n.tension=function(e){return t(+e)},n}(0);function lr(t,e){this._context=t,this._k=(1-e)/6}lr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:rr(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var cr=function t(e){function n(t){return new lr(t,e)}return n.tension=function(e){return t(+e)},n}(0);function hr(t,e,n){var i=t._x1,r=t._y1,a=t._x2,o=t._y2;if(t._l01_a>1e-12){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,r=(r*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>1e-12){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*l+t._x1*t._l23_2a-e*t._l12_2a)/c,o=(o*l+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(i,r,a,o,t._x2,t._y2)}function fr(t,e){this._context=t,this._alpha=e}fr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:hr(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var dr=function t(e){function n(t){return e?new fr(t,e):new ar(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function yr(t,e){this._context=t,this._alpha=e}yr.prototype={areaStart:Gi,areaEnd:Gi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:hr(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var gr=function t(e){function n(t){return e?new yr(t,e):new sr(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function pr(t,e){this._context=t,this._alpha=e}pr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:hr(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var mr=function t(e){function n(t){return e?new pr(t,e):new lr(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function _r(t){this._context=t}function xr(t){return new _r(t)}function vr(t){return t<0?-1:1}function br(t,e,n){var i=t._x1-t._x0,r=e-t._x1,a=(t._y1-t._y0)/(i||r<0&&-0),o=(n-t._y1)/(r||i<0&&-0),s=(a*r+o*i)/(i+r);return(vr(a)+vr(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function wr(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Mr(t,e,n){var i=t._x0,r=t._y0,a=t._x1,o=t._y1,s=(a-i)/3;t._context.bezierCurveTo(i+s,r+s*e,a-s,o-s*n,a,o)}function kr(t){this._context=t}function Ar(t){this._context=new Sr(t)}function Sr(t){this._context=t}function Cr(t){return new kr(t)}function Tr(t){return new Ar(t)}function Er(t){this._context=t}function Dr(t){var e,n,i=t.length-1,r=new Array(i),a=new Array(i),o=new Array(i);for(r[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,a[i-1]=7,o[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)n=r[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(r[i-1]=o[i-1]/a[i-1],e=i-2;e>=0;--e)r[e]=(o[e]-r[e+1])/a[e];for(a[i-1]=(t[i]+r[i-1])/2,e=0;e<i-1;++e)a[e]=2*t[e+1]-r[e+1];return[r,a]}function Nr(t){return new Er(t)}function Pr(t,e){this._context=t,this._t=e}function Or(t){return new Pr(t,.5)}function Ir(t){return new Pr(t,0)}function Rr(t){return new Pr(t,1)}_r.prototype={areaStart:Gi,areaEnd:Gi,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},kr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Mr(this,this._t0,wr(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Mr(this,wr(this,n=br(this,t,e)),n);break;default:Mr(this,this._t0,n=br(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Ar.prototype=Object.create(kr.prototype)).point=function(t,e){kr.prototype.point.call(this,e,t)},Sr.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,a){this._context.bezierCurveTo(e,t,i,n,a,r)}},Er.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=Dr(t),r=Dr(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(i[0][a],r[0][a],i[1][a],r[1][a],t[o],e[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Pr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var Lr={strokeWidth:2,stroke:"#6b6b6b",fill:"transparent",opacity:1};function Vr(e){var n=e.style,i=l(e,["style"]),r=u({},Lr,{},n);return t.createElement("path",o({},i,{style:r}))}var zr=Xi(),Ur=function(e){var n=e.children,i=l(e,["children"]);return t.createElement("g",o({className:"Voronoi"},i),n)};function Fr(){var e=c(t.useContext(f),2),n=e[0],i=n.stackData,r=n.primaryAxes,a=n.secondaryAxes,o=n.showVoronoi,s=n.width,l=n.height,d=n.gridWidth,y=n.gridHeight,g=n.onFocus,p=n.onClick,m=n.tooltip,_=n.primaryCursor,x=n.secondaryCursor,v=e[1],b=t.useCallback((function(t){return v((function(e){return u({},e,{focused:t})}))}),[v]),w=g||p||m||_||x;return t.useMemo((function(){if(!(i&&r.length&&a.length&&s&&l&&w))return null;var e=[[0,0],[d,y]],n=null,u=[];return i.forEach((function(t){t.datums.filter((function(t){return t.defined})).forEach((function(t){t.boundingPoints.forEach((function(e){"number"!=typeof t.x||"number"!=typeof t.y||Number.isNaN(t.y)||Number.isNaN(t.x)||u.push({x:e.x,y:e.y,datum:t})}))}))})),n=h(st.from(u,(function(t){return t.x}),(function(t){return t.y})).voronoi(e.flat()).cellPolygons()),t.createElement(Ur,null,n.map((function(e,n){var i=e.index,r=u[i].datum,a=zr(e);return t.createElement(Vr,{key:n,d:a,className:"action-voronoi",onMouseEnter:function(t){return b(r)},onMouseLeave:function(t){return b(null)},style:{fill:"rgba(0,0,0,.2)",stroke:"rgba(255,255,255,.5)",opacity:o?1:0}})})))}),[y,d,l,w,b,r.length,a.length,o,i,s])}var jr={strokeWidth:1,fill:"transparent",opacity:1};function Hr(e){var n=e.style,i=l(e,["style"]),r=u({},jr,{},n);return t.createElement("line",o({},i,{style:r}))}var Br={fontFamily:"Helvetica",fontSize:10,opacity:1};function Yr(e){var n=e.style,i=(e.opacity,l(e,["style","opacity"])),r=u({},Br,{},n);return t.createElement("text",o({},i,{style:r}))}var Wr=t.forwardRef((function(e,n){return t.createElement("g",o({},e,{ref:n}))})),qr="top",Xr="right",Gr="bottom",Kr="left",Zr="single",$r="series",Jr="primary",Qr="secondary",ta="auto",ea="right",na="topRight",ia="bottomRight",ra="left",aa="topLeft",oa="bottomLeft",sa="top",ua="bottom",la="ordinal",ca="time",ha="utc",fa="linear",da="log",ya="pointer",ga="closest",pa="center",ma="top",_a="bottom",xa="left",va="right",ba="gridTop",wa="gridBottom",Ma="gridLeft",ka="gridRight",Aa="auto",Sa="closest",Ca="element",Ta={line:{strokeWidth:"1",fill:"transparent"},tick:{fontSize:10,fontFamily:"sans-serif"}};function Ea(e){var n,i,r=e.id,o=e.type,s=e.position,l=e.tickSizeInner,y=e.tickSizeOuter,g=e.show,p=e.showGrid,m=e.showTicks,_=e.styles,x=e.maxLabelRotation,v=e.labelRotationStep,b=e.tickPadding,w=e.ticks,M=e.tickCount,k=e.minTickCount,A=e.maxTickCount,C=e.scale,T=e.max,E=e.transform,D=e.vertical,N=e.format,P=c(e.range,2),O=P[0],I=P[1],R=e.directionMultiplier,L=e.tickOffset,V=e.gridOffset,z=e.spacing,U=c(t.useState(0),2),F=U[0],j=U[1],H=c(t.useContext(f),2),B=H[0],Y=B.gridWidth,W=B.gridHeight,q=B.dark,X=B.axisDimensions,G=H[1],K=t.useRef(),Z=t.useRef(),$=t.useCallback((function(){if(K.current){var t=Array.apply(void 0,h(K.current.querySelectorAll(".tickLabel"))).map((function(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height}})),e=D?W:Y,n=M,i=0,c=0,f=0,d=0,g=1e5;Array.apply(void 0,h(K.current.querySelectorAll(".tick"))).map((function(t){return t.getBoundingClientRect()})).reduce((function(t,e){if(t){var n=D?e.top-t.top:e.left-t.left;g=n<g?n:g}return e}),!1);var p=t[0]||{width:0,height:0},m=t[t.length-1]||{width:0,height:0},_=u({},p,{_overflow:0});t.forEach((function(t){t._overflow=D?t.height-g:t.width,t._overflow>0&&t._overflow>_._overflow&&(_=t)}));var w=D?_.height:_.width;if(!D&&"ordinal"===o||"auto"!==M){if(!D){var S=Math.min(Math.max(Math.abs(Math.acos(g/(_.width+b))*(180/Math.PI)),0),x);S=Number.isNaN(S)?0:S,(0===(S=Math.ceil(Math.ceil(S/v)*v))||S===x||Math.abs(S)-Math.abs(F)>5)&&j((function(){return"top"===s?-S:S}))}}else n=Math.max(k,Math.min(Math.floor((e+w-b)/(w+2*b)),A));var C=Math.ceil(b/g);Z.current!==C&&(Z.current=C),D?(f=Math.ceil(p.height/2),d=Math.ceil(m.height/2),i=Math.max(l,y)+b+Math.max.apply(Math,[0].concat(h(t.map((function(t){return Math.ceil(t.width)})))))):c=Math.max(l,y)+b+Math.max.apply(Math,[0].concat(h(t.map((function(t){return Math.ceil(t.height)})))));var T={width:i,height:c,top:f,bottom:d,left:0,right:0,tickCount:n};X&&X[s]&&X[s][r]&&!Object.keys(T).some((function(t){return T[t]!==X[s][r][t]}))||G((function(t){return u({},t,{axisDimensions:u({},t.axisDimensions,a({},s,u({},t.axisDimensions[s]||{},a({},r,T))))})}))}else X[s]&&X[s][r]&&G((function(t){var e=t.axisDimensions[s]||{};return delete e[r],u({},t,{axisDimensions:u({},t.axisDimensions,a({},s,e))})}))}),[X,W,Y,r,v,x,A,k,s,F,G,M,b,l,y,o,D]),J=S(F);if(t.useLayoutEffect((function(){J===F&&$()}),[X,r,$,s,J,F]),t.useEffect((function(){J!==F&&$()}),[X,r,$,s,J,F]),!g)return null;n=D?s===Kr?"\n        M ".concat(-y,", ").concat(O,"\n        H 0\n        V ").concat(I,"\n        H ").concat(-y,"\n      "):"\n        M ".concat(y,", ").concat(O,"\n        H 0\n        V ").concat(I,"\n        H ").concat(y,"\n      "):"bottom"===s?"\n        M 0, ".concat(y,"\n        V 0\n        H ").concat(I,"\n        V ").concat(y,"\n      "):"\n        M 0, ".concat(-y,"\n        V 0\n        H ").concat(I,"\n        V ").concat(-y,"\n              "),i="boolean"==typeof p?p:"ordinal"!==o;var Q=u({},Ta,{},_);return t.createElement(Wr,{ref:K,className:"Axis",style:{pointerEvents:"none",transform:s===Xr?d.translateX(Y):"bottom"===s?d.translateY(W):void 0}},t.createElement(Vr,{className:"domain",d:n,style:u({stroke:q?"rgba(255,255,255, .1)":"rgba(0,0,0, .1)"},Q.line)}),t.createElement(Wr,{className:"ticks",style:{}},w.map((function(e,n){return t.createElement(Wr,{key:[String(e),n].join("_"),className:"tick",style:{transform:E(C(e)||0)}},i&&t.createElement(Hr,{className:"gridLine",x1:D?0:V,x2:D?T:V,y1:D?V:0,y2:D?V:T,style:u({stroke:q?"rgba(255,255,255, .1)":"rgba(0,0,0, .1)",strokeWidth:1},Q.line)}),m?t.createElement("g",{className:"labelGroup"},t.createElement(Hr,{className:"tickline",x1:D?0:L,x2:D?R*l:L,y1:D?L:0,y2:D?L:R*l,style:u({stroke:q?"rgba(255,255,255, .1)":"rgba(0,0,0, .1)",strokeWidth:1},Q.line)}),t.createElement(Yr,{className:"tickLabel",style:u({fill:q?"white":"black"},Q.tick,{transform:"".concat(d.translate(D?R*z:L,D?L:R*z)," rotate(").concat(-F,"deg)")}),dominantBaseline:F?"central":"bottom"===s?"hanging":s===qr?"alphabetic":"central",textAnchor:F?"end":s===Xr?"start":s===Kr?"end":"middle"},N(e,n))):null)}))))}function Da(e){return t.createElement(Ea,e)}var Na=function(t){return t?"rgba(255,255,255,.9)":"rgba(0, 26, 39, 0.9)"};function Pa(){var e=c(t.useContext(f),1)[0],n=e.primaryAxes,i=e.secondaryAxes,r=e.gridX,a=e.gridY,o=e.gridWidth,s=e.gridHeight,l=e.dark,h=e.focused,y=e.latestFocused,g=e.getDatumStyle,p=e.tooltip,m=t.useRef(),_=t.useRef(),x=t.useRef(),v=p||{},b=v.align,w=v.alignPriority,M=v.padding,k=v.tooltipArrowPadding,A=v.arrowPosition,S=v.render,C=v.anchor,T=v.show,E=c(t.useState(b||"auto"),2),D=E[0],N=E[1];if(t.useEffect((function(){x.current=T}),[T]),t.useLayoutEffect((function(){if("auto"===b&&m.current&&T&&C){for(var t={left:1/0,top:1/0,right:1/0,bottom:1/0},e=m.current,n=e.getBoundingClientRect(),i=_.current.getBoundingClientRect();e!==document.body;){e=e.parentElement;var r=window.getComputedStyle(e),a=r.overflowX,o=r.overflowY;if(e===document.body||[a,o].find((function(t){return["auto","hidden"].includes(t)}))){var s=e.getBoundingClientRect(),u=n.left-s.left+C.x,l=n.top-s.top+C.y,c=s.width-u,h=s.height-l;t.left=Math.min(t.left,u),t.top=Math.min(t.top,l),t.right=Math.min(t.right,c),t.bottom=Math.min(t.bottom,h)}}var f=null;w.forEach((function(e){if(!f){var n=t.left-k-M-C.horizontalPadding>i.width,r=t.right-k-M-C.horizontalPadding>i.width,a=t.top-k-M-C.verticalPadding>i.height&&t.left>i.width/2,o=t.bottom-k-M-C.verticalPadding>i.height,s=t.left>i.width/2,u=t.right>i.width/2,l=t.top>i.height/2,c=t.bottom>i.height/2;"left"===e?n&&l&&c&&(f=e):"right"===e?r&&l&&c&&(f=e):"top"===e?a&&s&&u&&(f=e):"bottom"===e?o&&s&&u&&(f=e):"topLeft"===e?a&&n&&(f=e):"topRight"===e?a&&r&&(f=e):"bottomLeft"===e?o&&n&&(f=e):"bottomRight"===e&&o&&r&&(f=e)}})),f!==D&&N(f)}}),[b,w,C,D,M,T,k]),!p)return null;var P=h||y,O=0,I=-50,R={},L=Na(l),V=A;"top"===D?(O=-50,I=-100):"topRight"===D?(O=0,I=-100):"right"===D?(O=0,I=-50):"bottomRight"===D?(O=0,I=0):"bottom"===D?(O=-50,I=0):"bottomLeft"===D?(O=-100,I=0):"left"===D?(O=-100,I=-50):"topLeft"===D?(O=-100,I=-100):"center"===D&&(O=-50,I=-50),V||("left"===D?V="right":"right"===D?V="left":"top"===D?V="bottom":"bottom"===D?V="top":"topRight"===D?V="bottomLeft":"bottomRight"===D?V="topLeft":"topLeft"===D?V="bottomRight":"bottomLeft"===D&&(V="topRight")),R="bottom"===V?{top:"100%",left:"50%",transform:"translate3d(-50%, 0%, 0)",borderLeft:"".concat(7*.8,"px solid transparent"),borderRight:"".concat(7*.8,"px solid transparent"),borderTop:"".concat(7,"px solid ").concat(L)}:"top"===V?{top:"0%",left:"50%",transform:"translate3d(-50%, -100%, 0)",borderLeft:"".concat(7*.8,"px solid transparent"),borderRight:"".concat(7*.8,"px solid transparent"),borderBottom:"".concat(7,"px solid ").concat(L)}:"right"===V?{top:"50%",left:"100%",transform:"translate3d(0%, -50%, 0)",borderTop:"".concat(7*.8,"px solid transparent"),borderBottom:"".concat(7*.8,"px solid transparent"),borderLeft:"".concat(7,"px solid ").concat(L)}:"left"===V?{top:"50%",left:"0%",transform:"translate3d(-100%, -50%, 0)",borderTop:"".concat(7*.8,"px solid transparent"),borderBottom:"".concat(7*.8,"px solid transparent"),borderRight:"".concat(7,"px solid ").concat(L)}:"topRight"===V?{top:"0%",left:"100%",transform:"translate3d(-50%, -50%, 0) rotate(-45deg)",borderTop:"".concat(7*.8,"px solid transparent"),borderBottom:"".concat(7*.8,"px solid transparent"),borderLeft:"".concat(14,"px solid ").concat(L)}:"bottomRight"===V?{top:"100%",left:"100%",transform:"translate3d(-50%, -50%, 0) rotate(45deg)",borderTop:"".concat(7*.8,"px solid transparent"),borderBottom:"".concat(7*.8,"px solid transparent"),borderLeft:"".concat(14,"px solid ").concat(L)}:"topLeft"===V?{top:"0%",left:"0%",transform:"translate3d(-50%, -50%, 0) rotate(45deg)",borderTop:"".concat(7*.8,"px solid transparent"),borderBottom:"".concat(7*.8,"px solid transparent"),borderRight:"".concat(14,"px solid ").concat(L)}:"bottomLeft"===V?{top:"100%",left:"0%",transform:"translate3d(-50%, -50%, 0) rotate(-45deg)",borderTop:"".concat(7*.8,"px solid transparent"),borderBottom:"".concat(7*.8,"px solid transparent"),borderRight:"".concat(14,"px solid ").concat(L)}:{opacity:0};var z,U=d.getAxisByAxisID(n,P?P.series.primaryAxisID:null),F=d.getAxisByAxisID(i,P?P.series.secondaryAxisID:null),j=M+C.horizontalPadding,H=M+C.verticalPadding,B=u({},e,{},e.tooltip,{datum:P,getStyle:function(t){return t.getStatusStyle(P,g)},primaryAxis:U,secondaryAxis:F}),Y=t.createElement(S,B);return x.current===T&&(z=!0),t.createElement("div",{className:"tooltip-wrap",style:{pointerEvents:"none",position:"absolute",left:"".concat(r,"px"),top:"".concat(a,"px"),width:"".concat(o,"px"),height:"".concat(s,"px"),opacity:T?1:0,transition:"all .3s ease"},ref:function(t){m.current=t}},t.createElement("div",{style:{position:"absolute",left:0,top:0,transform:d.translate(C.x,C.y),transition:z?"all .2s ease":"opacity .2s ease"}},t.createElement("div",{style:{transform:"translate3d(".concat(O,"%, ").concat(I,"%, 0)"),padding:"".concat(k+H,"px ").concat(k+j,"px"),width:"auto",transition:"all .2s ease"}},t.createElement("div",{ref:function(t){_.current=t},style:{fontSize:"12px",padding:"5px",background:Na(l),color:l?"black":"white",borderRadius:"3px",position:"relative"}},t.createElement("div",{style:u({position:"absolute",width:0,height:0},R,{transition:z?"all .2s ease":"none"})}),Y))))}var Oa=function(t){return t?"rgba(255,255,255,.3)":"rgba(0, 26, 39, 0.3)"},Ia=function(t){return t?"rgba(255,255,255,.9)":"rgba(0, 26, 39, 0.9)"};function Ra(e){var n=e.primary,i=c(t.useContext(f),1)[0],r=i.primaryCursor,a=i.secondaryCursor,o=i.focused,s=i.latestFocused,l=i.gridX,h=i.gridY,y=i.dark,g=o||s,p=n?r:a,m=p||{},_=m.showLine,x=m.showLabel,v=m.resolvedValue,b=m.snap,w=m.render,M=m.axis,k=m.siblingAxis,S=m.resolvedShow,C=A(v,void 0!==v),T=t.useRef();if(t.useEffect((function(){T.current=S}),[S]),!p)return null;var E,D,N,P,O,I,R,L,V=b||"ordinal"===M.type,z=k.scale.range();M.vertical?(D=M.scale(C),N=z[0],P=z[1],O=D-1,I=D+M.cursorSize+1,"left"===M.position?(R=-100,L=-50):(R=0,L=-50)):(N=(E=M.scale(C))-1,P=E+M.cursorSize+1,O=z[0],I=z[1],"top"===M.position?(R=-500,L=-100):(R=-50,L=0));var U=u({},p);U.formattedValue=String((M.vertical,void 0!==C?M.format(M.stacked&&!n&&g?g.totalValue:C):""));var F,j=Math.min(N,P),H=Math.min(O,I),B=Math.max(N,P),Y=Math.max(O,I),W=M.vertical&&M.RTL?B:N+(M.vertical?0:(P-N)/2)+(M.vertical?0:1),q=!M.vertical&&M.RTL?H:O+(M.vertical?(I-O)/2:0)+(M.vertical?1:0),X=Math.max(Y-H,0),G=Math.max(B-j,0);T.current===S&&(F=!0);var K=w(U);return t.createElement("div",{style:{pointerEvents:"none",position:"absolute",top:0,left:0,transform:d.translate(l,h),opacity:S?1:0,transition:"all .3s ease"},className:"Cursor"},_?t.createElement("div",{style:{position:"absolute",top:0,left:0,transform:d.translate(j,H),width:"".concat(G,"px"),height:"".concat(X,"px"),background:Oa(y),transition:V&&F?"all .2s ease":"opacity .2s ease"}}):null,x?t.createElement("div",{style:{position:"absolute",top:0,left:0,transform:d.translate(W,q),transition:V&&F?"all .2s ease":"opacity .2s ease"}},t.createElement("div",{style:{padding:"5px",fontSize:"10px",background:Ia(y),color:Ia(!y),borderRadius:"3px",position:"relative",transform:"translate3d(".concat(R,"%, ").concat(L,"%, 0)"),whiteSpace:"nowrap"}},K)):null)}function La(){var e=c(t.useContext(f),1)[0],n=e.pointer,i=e.brush,r=e.gridX,a=e.gridY,o=e.gridHeight,s=e.dark;return i?t.createElement("div",{className:"Brush",style:{pointerEvents:"none",position:"absolute",left:0,top:0,transform:d.translate(r,a),opacity:n.dragging?Math.abs(n.sourceX-n.x)<20?.5:1:0}},t.createElement("div",{style:u({position:"absolute",transform:d.translate(Math.min(n.x,n.sourceX),0),width:"".concat(Math.abs(n.x-n.sourceX),"px"),height:"".concat(o,"px"),background:s?"rgba(255,255,255,.3)":"rgba(0, 26, 39, 0.3)"},i.style)})):null}var Va=t.forwardRef((function(e,n){var i=e.className,r=e.style,a=void 0===r?{}:r,s=l(e,["className","style"]),y=c(t.useContext(f),1)[0],g=c(t.useContext(f),2),p=g[0],m=p.width,_=p.height,x=p.offset,v=p.gridX,b=p.gridY,M=p.stackData,k=p.primaryAxes,A=p.secondaryAxes,S=p.renderSVG,C=p.onClick,T=p.seriesOptions,E=p.getSeriesOrder,D=p.focused,N=g[1],P=t.useRef();t.useLayoutEffect((function(){if(P.current){var t=P.current.getBoundingClientRect();t.left===x.left&&t.top===x.top||N((function(e){return u({},e,{offset:{left:t.left,top:t.top}})}))}}));var O=t.useRef(),I=function(t){O.current&&z.cancel(O.current),O.current=z((function(){O.current=null;var e=t.clientX,n=t.clientY;N((function(t){var i=e-x.left-v,r=n-x.top-b,a=u({},t.pointer,{active:!0,x:i,y:r,dragging:t.pointer&&t.pointer.down});return u({},t,{pointer:a})}))}))},R=function t(){document.removeEventListener("mouseup",t),document.removeEventListener("mousemove",I),N((function(t){return u({},t,{pointer:u({},t.pointer,{down:!1,dragging:!1,released:{x:t.pointer.x,y:t.pointer.y}})})}))},L=E(h(M).reverse()),V=D?L.findIndex((function(t){return t.id===D.series.id})):-1,U=(D?[].concat(h(L.slice(0,V)),h(L.slice(V+1)),[L[V]]):L).map((function(e){return t.createElement(e.Component,o({key:e.id},T[e.index],{series:e,stackData:M}))}));return w((function(){n.current&&n.current.parentElement&&!n.current.parentElement.style.position&&(n.current.parentElement.style.position="relative")})),t.createElement("div",o({ref:n},s,{className:"ReactChart ".concat(i||""),style:u({width:m,height:_,position:"absolute"},a)}),t.createElement("svg",{ref:P,style:{width:m,height:_,overflow:"hidden"},onMouseEnter:function(t){return t.persist()||I(t)},onMouseMove:function(t){return t.persist()||I(t)},onMouseLeave:function(t){return t.persist()||(N((function(t){return u({},t,{focused:null})})),void N((function(t){return u({},t,{pointer:u({},t.pointer,{active:!1})})})))},onMouseDown:function(t){return t.persist()||(document.addEventListener("mouseup",R),document.addEventListener("mousemove",I),void N((function(t){return u({},t,{pointer:u({},t.pointer,{sourceX:t.pointer.x,sourceY:t.pointer.y,down:!0})})})))},onClick:C},t.createElement("g",{style:{transform:d.translate(v,b)}},t.createElement(F,{x1:-v,x2:m-v,y1:-b,y2:_-b,style:{opacity:0}}),t.createElement(Fr,null),t.createElement("g",{className:"axes"},[].concat(h(k),h(A)).map((function(e){return t.createElement(Da,o({key:e.id},e))}))),t.createElement("g",{className:"Series",style:{pointerEvents:"none"}},U)),S?S({chartState:y,setChartState:N}):null),t.createElement(Ra,{primary:!0}),t.createElement(Ra,null),t.createElement(La,null),t.createElement(Pa,null))}));function za(e){var n=c(t.useContext(f),1)[0],i=n.focused,r=n.getSeriesStyle;return e.getStatusStyle(i,r)}function Ua(e){var n=c(t.useContext(f),1)[0],i=n.focused,r=n.getDatumStyle;return e.getStatusStyle(i,r)}var Fa={r:2,strokeWidth:"1",stroke:"#000000",fill:"#000000",opacity:1};function ja(e){var n=e.x,i=e.y,r=(e.r,e.style),a=l(e,["x","y","r","style"]),s=u({},Fa,{},r);return t.createElement("circle",o({},a,{cx:n||0,cy:i||0,r:1,style:s}))}var Ha={strokeWidth:2},Ba={r:2};function Ya(e){var n=e.series,i=e.showPoints,r=e.curve,a=t.useMemo((function(){return Xi().x((function(t){return t.x})).y((function(t){return t.y})).defined((function(t){return t.defined})).curve(r)}),[r]),o=t.useMemo((function(){return a(n.datums)}),[a,n.datums]),s=za(n),l={d:o,style:u({},Ha,{},s,{},s.line,{fill:"none"})};return t.createElement("g",null,t.createElement(Vr,l),i&&n.datums.map((function(e,n){return t.createElement(Wa,{key:n,datum:e,style:s})})))}function Wa(e){var n=e.datum,i=e.style,r=c(t.useContext(f),2)[1],a=Ua(n),o={x:n?n.x:void 0,y:n?n.y:void 0,style:u({},Ba,{},i,{},i.circle,{},a,{},a.circle),onMouseEnter:t.useCallback((function(t){return r((function(t){return u({},t,{element:n})}))}),[n,r]),onMouseLeave:t.useCallback((function(t){return r((function(t){return u({},t,{element:null})}))}),[r])};return n.defined?t.createElement(ja,o):null}Ya.defaultProps={curve:Cr},Ya.plotDatum=function(t,e){var n=e.primaryAxis,i=e.secondaryAxis,r=e.xAxis,a=e.yAxis;t.primaryCoord=n.scale(t.primary),t.secondaryCoord=i.scale(t.secondary),t.x=r.scale(t.xValue),t.y=a.scale(t.yValue),t.defined=d.isValidPoint(t.xValue)&&d.isValidPoint(t.yValue),t.base=n.vertical?r.scale(t.baseValue):a.scale(t.baseValue),"ordinal"===r.type&&(t.x+=r.tickOffset),"ordinal"===a.type&&(t.y+=a.tickOffset),t.anchor={x:t.x,y:t.y},t.boundingPoints=[t.anchor]},Ya.buildStyles=function(t,e){var n=e.defaultColors,i={color:n[t.index%(n.length-1)]};d.buildStyleGetters(t,i)};var qa={r:2};function Xa(e){var n=e.series,i=za(n);return t.createElement("g",null,n.datums.map((function(e,n){return t.createElement(Ga,{key:n,datum:e,style:i})})))}function Ga(e){var n=e.datum,i=e.style,r=Ua(n),a=c(t.useContext(f),2)[1],o={x:n?n.x:void 0,y:n?n.y:void 0,style:u({},qa,{},void 0!==n.r?{r:n.r}:{},{},i,{},i.circle,{},r,{},r.circle),onMouseEnter:t.useCallback((function(t){return a((function(t){return u({},t,{element:n})}))}),[n,a]),onMouseLeave:t.useCallback((function(t){return a((function(t){return u({},t,{element:null})}))}),[a])};return n.defined?t.createElement(ja,o):null}Xa.plotDatum=function(t,e){var n=e.primaryAxis,i=e.secondaryAxis,r=e.xAxis,a=e.yAxis;t.primaryCoord=n.scale(t.primary),t.secondaryCoord=i.scale(t.secondary),t.x=r.scale(t.xValue),t.y=a.scale(t.yValue),t.defined=d.isValidPoint(t.xValue)&&d.isValidPoint(t.yValue),t.base=n.vertical?r.scale(t.baseValue):a.scale(t.baseValue),"ordinal"===r.type&&(t.x+=r.tickOffset),"ordinal"===a.type&&(t.y+=a.tickOffset),t.anchor={x:t.x,y:t.y,verticalPadding:t.r,horizontalPadding:t.r},t.boundingPoints=[t.anchor]},Xa.buildStyles=function(t,e){var n=e.defaultColors,i={color:n[t.index%(n.length-1)]};d.buildStyleGetters(t,i)};var Ka={strokeWidth:0},Za={strokeWidth:2},$a={r:1.5};function Ja(e){var n=e.series,i=e.showOrphans,r=e.showPoints,a=e.curve,o=t.useMemo((function(){return function(){var t=Wi,e=null,n=Hi(0),i=qi,r=Hi(!0),a=null,o=Yi,s=null;function u(u){var l,c,h,f,d,y=u.length,g=!1,p=new Array(y),m=new Array(y);for(null==a&&(s=o(d=ji())),l=0;l<=y;++l){if(!(l<y&&r(f=u[l],l,u))===g)if(g=!g)c=l,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=l-1;h>=c;--h)s.point(p[h],m[h]);s.lineEnd(),s.areaEnd()}g&&(p[l]=+t(f,l,u),m[l]=+n(f,l,u),s.point(e?+e(f,l,u):p[l],i?+i(f,l,u):m[l]))}if(d)return s=null,d+""||null}function l(){return Xi().defined(r).curve(o).context(a)}return u.x=function(n){return arguments.length?(t="function"==typeof n?n:Hi(+n),e=null,u):t},u.x0=function(e){return arguments.length?(t="function"==typeof e?e:Hi(+e),u):t},u.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:Hi(+t),u):e},u.y=function(t){return arguments.length?(n="function"==typeof t?t:Hi(+t),i=null,u):n},u.y0=function(t){return arguments.length?(n="function"==typeof t?t:Hi(+t),u):n},u.y1=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:Hi(+t),u):i},u.lineX0=u.lineY0=function(){return l().x(t).y(n)},u.lineY1=function(){return l().x(t).y(i)},u.lineX1=function(){return l().x(e).y(n)},u.defined=function(t){return arguments.length?(r="function"==typeof t?t:Hi(!!t),u):r},u.curve=function(t){return arguments.length?(o=t,null!=a&&(s=o(a)),u):o},u.context=function(t){return arguments.length?(null==t?a=s=null:s=o(a=t),u):a},u}().x((function(t){return t.x})).y0((function(t){return t.base})).y1((function(t){return t.y})).defined((function(t){return t.defined})).curve(a)}),[a]),s=t.useMemo((function(){return Xi().x((function(t){return t.x})).y((function(t){return t.y})).defined((function(t){return t.defined})).curve(a)}),[a]),l=t.useMemo((function(){return o(n.datums)}),[o,n.datums]),c=t.useMemo((function(){return s(n.datums)}),[s,n.datums]),h=za(n),f={d:l,style:u({},Ka,{},h,{},h.area)},d={d:c,style:u({},Za,{},h,{},h.line,{fill:"none"})};return t.createElement("g",null,t.createElement(Vr,f),t.createElement(Vr,d),i&&n.datums.map((function(e,n,i){return t.createElement(Qa,{key:n,datum:e,style:h,all:i,index:n})})),r&&n.datums.map((function(e,n){return t.createElement(to,{key:n,datum:e,style:h})})))}Ja.defaultProps={showOrphans:!0,showLine:!0,showPoints:!0,curve:Yi},Ja.plotDatum=function(t,e){var n=e.primaryAxis,i=e.secondaryAxis,r=e.xAxis,a=e.yAxis;i.scale.clamp(!0),t.primaryCoord=n.scale(t.primary),t.secondaryCoord=i.scale(t.secondary),t.x=r.scale(t.xValue),t.y=a.scale(t.yValue),t.defined=d.isValidPoint(t.xValue)&&d.isValidPoint(t.yValue),t.base=n.vertical?r.scale(t.baseValue):a.scale(t.baseValue),i.scale.clamp(!1),"ordinal"===r.type&&(t.x+=r.tickOffset),"ordinal"===a.type&&(t.y+=a.tickOffset),t.anchor={x:t.x,y:t.y},t.boundingPoints=[t.anchor,{x:n.vertical?"left"===n.position?t.base-1:t.base:t.anchor.x,y:n.vertical?t.anchor.y:"bottom"===n.position?t.base-1:t.base}]},Ja.buildStyles=function(t,e){var n=e.defaultColors,i={color:n[t.index%(n.length-1)]};d.buildStyleGetters(t,i)};var Qa=function(e){var n=e.datum,i=e.style,r=e.all,a=e.index,o=r[a-1]||{defined:!1},s=r[a+1]||{defined:!1},l=Ua(n),c={x1:!n||Number.isNaN(n.x)?null:n.x,y1:!n||Number.isNaN(n.base)?null:n.base,x2:!n||Number.isNaN(n.x)?null:n.x,y2:!n||Number.isNaN(n.y)?null:n.y,style:u({},Za,{},i,{},i.line,{},l,{},l.line)};return!n.defined||o.defined||s.defined?null:t.createElement(Hr,c)};function to(e){var n=e.datum,i=e.style,r=c(t.useContext(f),2)[1],a=Ua(n),o={x:n?n.x:void 0,y:n?n.y:void 0,style:u({},$a,{},i,{},i.circle,{},a,{},a.circle),onMouseEnter:t.useCallback((function(t){return r((function(t){return u({},t,{element:n})}))}),[n,r]),onMouseLeave:t.useCallback((function(t){return r((function(t){return u({},t,{element:null})}))}),[r])};return n.defined?t.createElement(ja,o):null}function eo(e){var n=e.series,i=c(t.useContext(f),1)[0].primaryAxes,r=za(n),a=(n.primaryAxisID?i.find((function(t){return t.id===n.primaryAxisID})):i[0]).barOffset;return t.createElement("g",{className:"series bar"},n.datums.map((function(e,n){return t.createElement(no,o({key:n},{datum:e,barOffset:a,style:r}))})))}function no(e){var n,i,r,a,o=e.datum,s=e.barOffset,l=e.style,h=c(t.useContext(f),2),d=h[0].primaryAxes,y=h[1],g=o?o.x:0,p=o?o.y:0,m=o?o.base:0,_=o?o.size:0;d.find((function(t){return t.vertical}))?(n=m,r=g,a=(i=p+s)+_):(r=(n=g+s)+_,i=p,a=m);var x=Ua(o),v={style:u({pointerEvents:"all"},l,{},l.rectangle,{},x,{},x.rectangle),x1:Number.isNaN(n)?null:n,y1:Number.isNaN(i)?null:i,x2:Number.isNaN(r)?null:r,y2:Number.isNaN(a)?null:a,onMouseEnter:t.useCallback((function(t){return y((function(t){return u({},t,{element:o})}))}),[o,y]),onMouseLeave:t.useCallback((function(t){return y((function(t){return u({},t,{element:null})}))}),[y])};return t.createElement(F,v)}eo.plotDatum=function(t,e){var n=e.xAxis,i=e.yAxis,r=e.primaryAxis,a=e.secondaryAxis;if(a.scale.clamp(!0),t.primaryCoord=r.scale(t.primary),t.secondaryCoord=a.scale(t.secondary),t.x=n.scale(t.xValue),t.y=i.scale(t.yValue),t.defined=d.isValidPoint(t.xValue)&&d.isValidPoint(t.yValue),t.base=a.scale(t.baseValue),t.size=r.barSize,a.scale.clamp(!1),!a.stacked){t.size=r.seriesBarSize;var o=r.seriesBandScale(t.seriesTypeIndex);a.vertical?t.x+=o:t.y+=o}t.anchor={x:t.x,y:t.y,horizontalPadding:a.vertical?t.size/2:0,verticalPadding:a.vertical?0:t.size/2},r.vertical?t.anchor.y+="ordinal"!==r.type?0:t.size/2:t.anchor.x+="ordinal"!==r.type?0:t.size/2,t.boundingPoints=[t.anchor,{x:r.vertical?"left"===r.position?t.base+1:t.base:t.anchor.x,y:r.vertical?t.anchor.y:"bottom"===r.position?t.base-1:t.base}]},eo.buildStyles=function(t,e){var n=e.defaultColors,i={color:n[t.index%(n.length-1)]};d.buildStyleGetters(t,i)};var io,ro={line:Ya,bubble:Xa,area:Ja,bar:eo},ao={type:"line",showPoints:!0,showOrphans:!0,curve:Cr},oo=(a(io={},"linear",(function t(){var e=be();return e.copy=function(){return xe(e,t())},vt.apply(e,arguments),ze(e)})),a(io,"log",(function t(){var e=qe(ve()).domain([1,10]);return e.copy=function(){return xe(e,t()).base(e.base())},vt.apply(e,arguments),e})),a(io,"time",(function(){return vt.apply(Li(sn,on,nn,tn,Qe,Je,$e,Ze,bn).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)})),a(io,"utc",(function(){return vt.apply(Li(pn,gn,fn,cn,ln,un,$e,Ze,wn).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)})),a(io,"ordinal",Mt),io);function so(t){var e=t.axis,n=e.primary,i=e.type,r=e.invert,a=e.position,o=e.primaryAxisID,s=e.min,u=void 0===s?void 0:s,l=e.max,c=void 0===l?void 0:l,f=e.hardMin,y=void 0===f?void 0:f,g=e.hardMax,p=void 0===g?void 0:g,m=e.base,_=void 0===m?void 0:m,x=e.tickCount,v=void 0===x?"auto":x,b=e.minTickCount,w=void 0===b?0:b,M=e.maxTickCount,k=void 0===M?1/0:M,A=e.tickValues,S=void 0===A?null:A,C=e.format,T=void 0===C?null:C,E=e.tickSizeInner,D=void 0===E?6:E,N=e.tickSizeOuter,P=void 0===N?6:N,O=e.tickPadding,I=void 0===O?14:O,R=e.maxLabelRotation,L=void 0===R?50:R,V=e.labelRotationStep,z=void 0===V?5:V,U=e.innerPadding,F=void 0===U?.2:U,j=e.outerPadding,H=void 0===j?.1:j,B=e.showGrid,Y=void 0===B?null:B,W=e.showTicks,q=void 0===W||W,X=e.show,G=void 0===X||X,K=e.stacked,Z=void 0!==K&&K,$=e.id,J=t.materializedData,Q=t.gridHeight,tt=t.gridWidth;t.axisDimensions;if(!a)throw new Error("Chart axes must have a valid 'position' property");for(var et,nt,it,rt=n?"primary":"secondary",at=!n&&"primary",ot="".concat(rt,"AxisID"),st=[Kr,Xr].indexOf(a)>-1,ut=function(t){return[qr,Xr].indexOf(t)>-1}(a),lt=$||"".concat(a,"_").concat(i),ct=[],ht={},ft={},dt=0;dt<J.length;dt++)if(!J[dt][ot]||J[dt][ot]===lt)for(var yt=0;yt<J[dt].datums.length;yt++){var gt=J[dt].datums[yt],pt=void 0,mt=at?gt[at]:yt;"ordinal"===i?-1===ct.indexOf()&&ct.push(J[dt].datums[yt][rt]):pt="time"===i||"utc"===i?+gt[rt]:gt[rt],Z?pt>0?ft[mt]=void 0!==ft[mt]?ft[mt]+pt:pt:ht[mt]=void 0!==ht[mt]?ht[mt]+pt:pt:(et=void 0!==et?Math.min(et,pt):pt,nt=void 0!==nt?Math.max(nt,pt):pt)}it="ordinal"===i?ct:Z?[Math.min.apply(Math,[0].concat(h(Object.values(ht)))),Math.max.apply(Math,[0].concat(h(Object.values(ft))))]:[et,nt];var _t,xt,vt=[0,st?Q:tt];st&&!n&&vt.reverse();var bt=0,wt=0,kt=0,At=function(t){return t},St=1;("ordinal"===i||n)&&((xt=Mt().domain(J.reduce((function(t,e){return e.datums.length>t.length?e.datums:t}),[]).map((function(t){return t.primary}))).rangeRound(vt,.1).padding(0)).paddingOuter(H).paddingInner(F),bt=xt.bandwidth(),"ordinal"===i&&(wt=bt),kt=xt.step(),St=(At=Mt().paddingInner(F/2).domain(J.filter((function(t){return t.Component===eo})).map((function(t,e){return e}))).rangeRound([0,bt])).bandwidth()),_t="ordinal"===i?xt:oo[i](),"number"==typeof _&&(it[0]=Math.min(it[0],_),it[1]=Math.max(it[1],_)),"number"==typeof defaultMin&&(it[0]=Math.min(it[0],u)),"number"==typeof defaultMax&&(it[1]=Math.max(it[1],c)),_t.domain(it),"ordinal"!==i&&_t.nice(),"number"==typeof y&&_t.domain([y,_t.domain()[1]]),"number"==typeof p&&_t.domain([_t.domain()[0],p]),r&&_t.domain(h(_t.domain()).reverse()),_t.range(vt);var Ct=_t.tickFormat?_t.tickFormat():d.identity,Tt=T?function(t,e){return T(t,e,Ct(t))}:Ct,Et={id:lt,primary:n,type:i,invert:r,position:a,primaryAxisID:o,hardMin:y,hardMax:p,base:_,tickCount:v,minTickCount:w,maxTickCount:k,tickValues:S,tickSizeInner:D,tickSizeOuter:P,tickPadding:I,maxLabelRotation:L,labelRotationStep:z,innerPadding:F,outerPadding:H,showGrid:Y,showTicks:q,show:G,stacked:Z,scale:_t,uniqueVals:ct,vertical:st,RTL:ut,barSize:bt,cursorSize:wt,stepSize:kt,seriesBandScale:At,seriesBarSize:St,domain:it,range:vt,max:"bottom"===a?-Q:a===Kr?tt:a===qr?Q:-tt,directionMultiplier:a===qr||a===Kr?-1:1,transform:st?d.translateY:d.translateX,ticks:S||_t.ticks?_t.ticks():_t.domain(),format:Tt,spacing:Math.max(D,0)+I};return"ordinal"===i?(Et.gridOffset=-Et.stepSize*F/2,Et.tickOffset=Et.barSize/2,Et.barOffset=0):(Et.tickOffset=0,Et.barOffset=-Et.barSize/2),Et}function uo(t){return so(t)}var lo=["#ff3465","#ff5454","#ff7b3e","#FAA43A","#ffd000","#C8DE2B","#97d114","#34ce70","#3cada4","#14b4d3","#048cd4","#3447f1","#734fe9","#cd82ad","#c63b89"];function co(e){var n=e.datum,i=e.grouping,r=e.primaryAxis,a=e.secondaryAxis,o=e.formatSecondary,s=e.formatTertiary,l=e.getStyle,c=e.dark,f=e.tooltip;if(!n)return null;var d=s||function(t){return Math.floor(t)<t?Math.round(100*t)/100:t},y=h(n.group).sort((function(t,e){if(!r.stacked&&i===$r||i===Qr){if(t.primaryCoord>e.primaryCoord)return-1;if(t.primaryCoord<e.primaryCoord)return 1}else if(!a.stacked){if(t.secondaryCoord>e.secondaryCoord)return-1;if(t.secondaryCoord<e.secondaryCoord)return 1}return t.seriesIndex>e.seriesIndex?1:-1}));i===Jr&&y.reverse(),a.invert&&y.reverse(),f.invert&&y.reverse();var g=y.length,p=y.findIndex((function(t){return t===n})),m=p>-1?p-5:0;m=Math.max(m,0);var _=p>-1?m+10:g;_=Math.min(_,g),m=Math.max(_-10,0);var x=y.slice(m,_),v=m>0,b=_<g;return t.createElement("div",null,t.createElement("div",{style:{marginBottom:"3px",textAlign:"center"}},i===$r?t.createElement("strong",null,n.seriesLabel):i===Qr?t.createElement("strong",null,n.secondaryAxis.format(n.secondary)):t.createElement("strong",null,n.primaryAxis.format(n.primary))),t.createElement("table",{style:{whiteSpace:"nowrap"}},t.createElement("tbody",null,v?t.createElement("tr",{style:{opacity:.8}},t.createElement("td",null),t.createElement("td",null,"..."),t.createElement("td",null)):null,x.map((function(e,a){var s=e===n,h=function(t,e){return e||t.secondaryAxis.format||function(t){return Math.floor(t)<t?Math.round(100*t)/100:t}}(e,o);return t.createElement("tr",{key:a,style:{opacity:s?1:.8,fontWeight:s&&"bold"}},t.createElement("td",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginRight:"5px"}},t.createElement("svg",{width:"16",height:"16"},t.createElement("circle",{cx:"8",cy:"8",r:"7",style:u({},l(e),{stroke:c?"black":"white",strokeWidth:s?2:1})}))),i===$r?t.createElement(t.Fragment,null,t.createElement("td",null,r.format(e.primary),": Â "),t.createElement("td",{style:{textAlign:"right"}},h(e.secondary),e.r?" (".concat(d(e.r),")"):null)):i===Qr?t.createElement(t.Fragment,null,t.createElement("td",null,e.seriesLabel,": Â "),t.createElement("td",{style:{textAlign:"right"}},r.format(e.primary),e.r?" (".concat(d(e.r),")"):null)):t.createElement(t.Fragment,null,t.createElement("td",null,e.seriesLabel,": Â "),t.createElement("td",{style:{textAlign:"right"}},h(e.secondary),e.r?" (".concat(d(e.r),")"):null)))})),b?t.createElement("tr",{style:{opacity:.8}},t.createElement("td",null),t.createElement("td",null,"..."),t.createElement("td",null)):null,a&&a.stacked&&n.group.length>1?t.createElement("tr",null,t.createElement("td",{style:{paddingTop:"5px"}},t.createElement("div",{style:{width:"12px",height:"12px",backgroundColor:c?"rgba(0, 26, 39, 0.3)":"rgba(255,255,255,.2)",borderRadius:"50px"}})),t.createElement("td",{style:{paddingTop:"5px"}},"Total: Â "),t.createElement("td",{style:{paddingTop:"5px"}},a.format(h(n.group).reverse()[0].totalValue))):null)))}var ho={render:function(e){var n=e.formattedValue;return t.createElement("span",null,n)},snap:!0,showLine:!0,showLabel:!0,axisID:void 0,onChange:function(){}},fo={getDatums:function(t){return Array.isArray(t)?t:t.datums||t.data},getLabel:function(t,e){return t.label||"Series ".concat(e+1)},getSeriesID:function(t,e){return e},getPrimary:function(t){return Array.isArray(t)?t[0]:t.primary||t.x},getSecondary:function(t){return Array.isArray(t)?t[1]:t.secondary||t.y},getR:function(t){return Array.isArray(t)?t[2]:t.radius||t.r},getPrimaryAxisID:function(t){return t.primaryAxisID},getSecondaryAxisID:function(t){return t.secondaryAxisID},getSeriesStyle:function(){return{}},getDatumStyle:function(){return{}},getSeriesOrder:function(t){return t},onHover:function(){},grouping:Jr,focus:"auto",showVoronoi:!1};function yo(e){var n=e.data,i=e.grouping,r=e.focus,a=e.showVoronoi,s=e.dark,y=e.series,g=e.axes,p=e.primaryCursor,m=e.secondaryCursor,_=e.tooltip,x=e.brush,v=e.renderSVG,b=e.getDatums,w=e.getLabel,C=e.getSeriesID,T=e.getPrimary,E=e.getSecondary,D=e.getR,N=e.getPrimaryAxisID,P=e.getSecondaryAxisID,O=e.getSeriesStyle,I=e.getDatumStyle,R=e.onClick,L=e.onFocus,V=e.onHover,z=e.getSeriesOrder,U=l(e,["data","grouping","focus","showVoronoi","dark","series","axes","primaryCursor","secondaryCursor","tooltip","brush","renderSVG","getDatums","getLabel","getSeriesID","getPrimary","getSecondary","getR","getPrimaryAxisID","getSecondaryAxisID","getSeriesStyle","getDatumStyle","onClick","onFocus","onHover","getSeriesOrder"]),F=c(t.useState({focused:null,element:null,axisDimensions:{},padding:{},offset:{},pointer:{}}),2),j=F[0],H=j.focused,B=j.element,Y=j.axisDimensions,W=j.offset,q=j.padding,X=j.pointer,G=F[1],K=k(R),Z=k(L),$=k(V),J=t.useRef(),Q=M(J),tt=Q.width,et=Q.height,nt=function(e){var n=e.data,i=e.getSeriesID,r=e.getLabel,a=e.getPrimaryAxisID,o=e.getSecondaryAxisID,s=e.getDatums,u=e.getPrimary,l=e.getSecondary,c=e.getR;return t.useMemo((function(){for(var t=[],e=0;e<n.length;e++){for(var h=n[e],f=i(h,e,n),d=r(h,e,n),y=a(h,e,n),g=o(h,e,n),p=s(h,e,n),m=[],_=0;_<p.length;_++){var x=p[_];m[_]={originalSeries:h,seriesIndex:e,seriesID:f,seriesLabel:d,index:_,originalDatum:x,primary:u(x,_,h,e,n),secondary:l(x,_,h,e,n),r:c(x,_,h,e,n)}}t[e]={originalSeries:h,index:e,id:f,label:d,primaryAxisID:y,secondaryAxisID:g,datums:m}}return t}),[n,s,r,u,a,c,l,o,i])}({data:n,getSeriesID:C=t.useCallback(d.normalizeGetter(C),[C]),getLabel:w=t.useCallback(d.normalizeGetter(w),[w]),getPrimaryAxisID:N=t.useCallback(d.normalizeGetter(N),[N]),getSecondaryAxisID:P=t.useCallback(d.normalizeGetter(P),[P]),getDatums:b=t.useCallback(d.normalizeGetter(b),[b]),getPrimary:T=t.useCallback(d.normalizeGetter(T),[T]),getSecondary:E=t.useCallback(d.normalizeGetter(E),[E]),getR:D=t.useCallback(d.normalizeGetter(D),[D])}),it=function(e){var n=e.materializedData,i=e.series;return t.useMemo((function(){return n.map((function(t,e){var n=u({},ao,{},"function"==typeof i?i(t,e):i),r=n.type,a=l(n,["type"]),o=ro[r];if(!o)throw new Error("Could not find a registered series type for ".concat(r));return u({},a,{type:r,renderer:o})}))}),[n,i])}({materializedData:nt,series:y});nt=function(e){var n=e.materializedData,i=e.seriesOptions;return t.useMemo((function(){return n.map((function(t,e){return t.Component=i[e].renderer,t})).map((function(t,e,n){var i=n.filter((function(n,i){return i<e&&n.Component===t.Component})).length;return u({},t,{seriesTypeIndex:i,datums:t.datums.map((function(t){return u({},t,{seriesTypeIndex:i})}))})}))}),[n,i])}({materializedData:nt,seriesOptions:it});var rt=function(e){var n=e.width,i=e.height,r=e.axisDimensions,a=e.padding,o=e.offset;o=t.useMemo((function(){return{left:o.left||0,top:o.top||0}}),[o]);var s=t.useMemo((function(){var t=r.left&&d.sumObjBy(r.left,"width")||0,e=r.left&&d.sumObjBy(r.left,"top")||0,o=r.left&&d.sumObjBy(r.left,"bottom")||0,s=r.right&&d.sumObjBy(r.right,"width")||0,u=r.right&&d.sumObjBy(r.right,"top")||0,l=r.right&&d.sumObjBy(r.right,"bottom")||0,c=r.top&&d.sumObjBy(r.top,"height")||0,h=r.top&&d.sumObjBy(r.top,"left")||0,f=r.top&&d.sumObjBy(r.top,"right")||0,y=r.bottom&&d.sumObjBy(r.bottom,"height")||0,g=r.bottom&&d.sumObjBy(r.bottom,"left")||0,p=r.bottom&&d.sumObjBy(r.bottom,"right")||0,m=a.left||0,_=a.right||0,x=a.top||0,v=a.bottom||0;return{gridX:m+Math.max(t,h,g),gridY:x+Math.max(c,e,u),gridWidth:n-m-_-Math.max(t,h,g)-Math.max(s,f,p),gridHeight:i-x-v-Math.max(c,e,u)-Math.max(y,o,l)}}),[n,i,r,a]),u=s.gridX,l=s.gridY,c=s.gridWidth,h=s.gridHeight;return{offset:o,gridX:u,gridY:l,gridWidth:c,gridHeight:h}}({width:tt,height:et,axisDimensions:Y,padding:q,offset:W}),at=rt.offset,ot=rt.gridX,st=rt.gridY,ut=rt.gridWidth,lt=rt.gridHeight,ct=function(e){var n=e.axes,i=e.materializedData,r=e.gridHeight,a=e.gridWidth,o=e.axisDimensions,s=n.filter((function(t){return t.primary})),u=n.filter((function(t){return!t.primary})),l=JSON.stringify(s),c=JSON.stringify(u),h=t.useMemo((function(){return s.map((function(t,e){return uo({axis:t,materializedData:i,gridWidth:a,gridHeight:r,axisDimensions:o})}))}),[l,i,r,a]),f=t.useMemo((function(){return u.map((function(t,e){return uo({axis:t,primaryAxes:h,materializedData:i,gridWidth:a,gridHeight:r,axisDimensions:o})}))}),[c,i,r,a]),d=h.find((function(t){return t.vertical}))?"secondary":"primary",y=h.find((function(t){return t.vertical}))?"primary":"secondary",g=h.find((function(t){return t.vertical}))?f:h,p=h.find((function(t){return t.vertical}))?h:f;return{primaryAxes:h,secondaryAxes:f,xKey:d,yKey:y,xAxes:g,yAxes:p}}({axes:g,materializedData:nt,gridHeight:lt,gridWidth:ut,axisDimensions:Y}),ht=ct.primaryAxes,ft=ct.secondaryAxes,dt=ct.xKey,yt=ct.yKey,gt=ct.xAxes,pt=ct.yAxes,mt=function(e){var n=e.materializedData,i=e.primaryAxes,r=e.secondaryAxes,a=e.yAxes,o=e.yKey,s=e.xAxes,l=e.xKey,c=e.grouping;return t.useMemo((function(){if(!i.length||!r.length)throw new Error("A primary and secondary axis is required!");var t=r.map((function(){return{}}));n.forEach((function(e){var n=d.getAxisIndexByAxisID(r,e.secondaryAxisID);e.datums.forEach((function(e){t[n][e.primary]={negative:0,positive:0}}))}));var e=n.map((function(e){var n=d.getAxisIndexByAxisID(i,e.primaryAxisID),a=i[n],s=d.getAxisIndexByAxisID(r,e.secondaryAxisID),c=r[s];return u({},e,{primaryAxis:a,secondaryAxis:c,datums:e.datums.map((function(e){var n=u({},e,{primaryAxis:a,secondaryAxis:c,xValue:e[l],yValue:e[o],baseValue:0});if(c.stacked){var i=t[s][e.primary];if(a.vertical){var r=d.isValidPoint(n.xValue),h=n.xValue>=0?"positive":"negative";n.baseValue=i[h],n.totalValue=n.baseValue+(r?n.xValue:0),t[s][e.primary][h]=n.totalValue,n.xValue=r?n.totalValue:null}else{var f=d.isValidPoint(n.yValue),y=n.yValue>=0?"positive":"negative";n.baseValue=i[y],n.totalValue=n.baseValue+(f?n.yValue:0),t[s][e.primary][y]=n.totalValue,n.yValue=f?n.totalValue:null}}return n}))})}));if(e.forEach((function(t){t.datums.forEach((function(e){e.series=t}))})),e.forEach((function(t,e){if(!t.Component.plotDatum)throw new Error("Could not find a [SeriesType].plotDatum() static method for the series Component above (index: ".concat(e,")"));var n=d.getAxisIndexByAxisID(i,t.primaryAxisID),u=d.getAxisIndexByAxisID(r,t.secondaryAxisID),c=i[n],h=r[u],f=d.getAxisIndexByAxisID(s,t["".concat(l,"AxisID")]),y=d.getAxisIndexByAxisID(a,t["".concat(o,"AxisID")]),g=s[f],p=a[y];t.datums=t.datums.map((function(e){return t.Component.plotDatum(e,{primaryAxis:c,secondaryAxis:h,xAxis:g,yAxis:p})||e}))})),[Zr,$r].includes(c))for(var h=0;h<e.length;h++)for(var f=e[h],y=0;y<f.datums.length;y++){var g=f.datums[y];g.group=c===$r?g.series.datums:[g]}else if([Jr,Qr].includes(c)){for(var p={},m=0;m<e.length;m++)for(var _=e[m],x=0;x<_.datums.length;x++){var v=_.datums[x];if(v.defined){var b=String(c===Jr?v.primary:v.secondary);p[b]=p[b]||[],p[b].push(v)}}for(var w=0;w<e.length;w++)for(var M=e[w],k=0;k<M.datums.length;k++){var A=M.datums[k],S=String(c===Jr?A.primary:A.secondary);A.group=p[S]}}return e=e.map((function(t,e){if(!t.Component.buildStyles)throw new Error("Could not find a SeriesType.buildStyles() static method for the series Component above (index: ".concat(e,")"));return t.Component.buildStyles(t,{defaultColors:lo})||t}))}),[i,r,n,c,l,o,s,a])}({materializedData:nt,primaryAxes:ht,secondaryAxes:ft,yAxes:pt,yKey:yt,xAxes:gt,xKey:dt,grouping:i});X=t.useMemo((function(){return u({},X,{axisValues:[].concat(h(ht),h(ft)).map((function(t){return{axis:t,value:t.scale.invert?t.scale.invert(X[t.vertical?"y":"x"]):null}}))})}),[X,ht,ft]);var _t=A(H=t.useMemo((function(){if(H||B){var t=r;if("auto"===r&&(t=B?"element":"closest"),"element"===t&&B)return B;if("closest"===t)return d.getClosestPoint(X,H.group)}return null}),[B,r,H,X]),H);_=function(e){var n=e.focused,i=e.tooltip,r=e.pointer,a=e.gridWidth,o=e.gridHeight;return t.useMemo((function(){if(!i)return null;i=u({align:"auto",alignPriority:["right","topRight","bottomRight","left","topLeft","bottomLeft","top","bottom"],padding:5,tooltipArrowPadding:7,anchor:"closest",render:co,onChange:function(){}},i);var t={},e=!0;if(n?t=n.anchor:e=!1,"pointer"===i.anchor)t=r;else if("closest"===i.anchor);else if(n){var s=Array.isArray(i.anchor)?h(i.anchor):[i.anchor];t=d.getMultiAnchor({anchor:s,points:n.group,gridWidth:a,gridHeight:o})}return t=t?u({horizontalPadding:t.horizontalPadding||0,verticalPadding:t.verticalPadding||0},t):t,u({},i,{anchor:t,show:e})}),[n,o,a,r,i])}({focused:H,tooltip:_,pointer:X,gridWidth:ut,gridHeight:lt});var xt=c(function(e){var n=e.primaryCursor,i=e.secondaryCursor,r=e.primaryAxes,a=e.secondaryAxes,o=e.focused,s=e.pointer,l=e.gridWidth,c=e.gridHeight,h=e.stackData;return[n,i].map((function(e,n){var i=e&&e.value;return t.useMemo((function(){if(e){var t,i=0===n;e=u({},ho,{},e,{primary:i});var h=!1,f=d.getAxisByAxisID(i?r:a,e.axisID||o?o.series[i?"primaryAxisID":"secondaryAxisID"]:void 0),y=i?a[0]:r[0],g=f.scale.invert||function(t){return t};if(s.active){var p=s.x,m=s.y;h=!(p<-1||p>l+1||m<-1||m>c+1),"ordinal"===f.type||e.snap?o?t=f.vertical?o.yValue:o.xValue:h=!1:t=f.vertical?g(m):g(p)}else h=!1;var _=h,x=t;return void 0!==e.value&&null!==e.value&&(x=e.value,_=void 0===e.show||e.show,void 0===f.scale(x)&&(_=!1)),u({},e,{axis:f,siblingAxis:y,show:h,value:t,resolvedShow:_,resolvedValue:x})}}),[h,s,i])}))}({primaryCursor:p,secondaryCursor:m,primaryAxes:ht,secondaryAxes:ft,focused:H,pointer:X,gridWidth:ut,gridHeight:lt,stackData:mt}),2);p=xt[0],m=xt[1],t.useEffect((function(){Z.current&&Z.current(H)}),[Z,H]),t.useEffect((function(){$.current&&$.current(X)}),[$,X]);var vt=S(X.dragging);t.useEffect((function(){if(x&&vt&&!X.dragging){if(Math.abs(X.sourceX-X.x)<20)return;x.onSelect({pointer:X.released,start:ht[0].scale.invert(X.sourceX),end:ht[0].scale.invert(X.x)})}}),[x,X,X.released,X.sourceX,X.x,vt,ht]);var bt=t.useCallback((function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return u({color:t.originalSeries.color},O.apply(void 0,[t].concat(n)))}),[O]),wt=t.useMemo((function(){return{focused:H,latestFocused:_t,pointer:X,tooltip:_,axisDimensions:Y,offset:at,padding:q,width:tt,height:et,brush:x,grouping:i,showVoronoi:a,materializedData:nt,stackData:mt,primaryAxes:ht,secondaryAxes:ft,primaryCursor:p,secondaryCursor:m,gridX:ot,gridY:st,gridWidth:ut,gridHeight:lt,dark:s,renderSVG:v,xKey:dt,yKey:yt,xAxes:gt,yAxes:pt,onClickRef:K,getSeriesStyle:bt,getDatumStyle:I,seriesOptions:it,getSeriesOrder:z}}),[Y,x,s,H,I,z,bt,lt,ut,ot,st,i,et,_t,nt,at,K,q,X,ht,p,v,ft,m,it,a,mt,_,tt,gt,dt,pt,yt]),Mt=t.useMemo((function(){return[wt,G]}),[wt,G]);return t.createElement(f.Provider,{value:Mt},t.createElement(Va,o({ref:J},U,{onClick:function(t){K.current&&K.current(H)}})))}yo.defaultProps=fo;export{yo as Chart,ta as alignAuto,ua as alignBottom,oa as alignBottomLeft,ia as alignBottomRight,ra as alignLeft,ea as alignRight,sa as alignTop,aa as alignTopLeft,na as alignTopRight,_a as anchorBottom,pa as anchorCenter,ga as anchorClosest,wa as anchorGridBottom,Ma as anchorGridLeft,ka as anchorGridRight,ba as anchorGridTop,xa as anchorLeft,ya as anchorPointer,va as anchorRight,ma as anchorTop,fa as axisTypeLinear,da as axisTypeLog,la as axisTypeOrdinal,ca as axisTypeTime,ha as axisTypeUtc,$i as curveBasis,Qi as curveBasisClosed,er as curveBasisOpen,ir as curveBundle,or as curveCardinal,ur as curveCardinalClosed,cr as curveCardinalOpen,dr as curveCatmullRom,gr as curveCatmullRomClosed,mr as curveCatmullRomOpen,Yi as curveLinear,xr as curveLinearClosed,Cr as curveMonotoneX,Tr as curveMonotoneY,Nr as curveNatural,Or as curveStep,Rr as curveStepAfter,Ir as curveStepBefore,Aa as focusAuto,Sa as focusClosest,Ca as focusElement,Jr as groupingPrimary,Qr as groupingSecondary,$r as groupingSeries,Zr as groupingSingle,Gr as positionBottom,Kr as positionLeft,Xr as positionRight,qr as positionTop};
//# sourceMappingURL=react-charts.min.mjs.map
