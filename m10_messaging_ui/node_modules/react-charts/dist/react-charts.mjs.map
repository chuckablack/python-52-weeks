{"version":3,"file":"react-charts.mjs","sources":["../src/utils/ChartContext.js","../src/utils/Utils.js","../node_modules/@reach/observe-rect/dist/observe-rect.esm.js","../src/hooks/useIsomorphicLayoutEffect.js","../src/hooks/useHyperResponsive.js","../src/hooks/useLatestRef.js","../src/hooks/useLatest.js","../src/hooks/usePrevious.js","../node_modules/performance-now/lib/performance-now.js","../src/utils/Raf.js","../src/primitives/Rectangle.js","../d3/index.js","../src/primitives/Path.js","../src/components/Voronoi.js","../src/primitives/Line.js","../src/primitives/Text.js","../src/primitives/Group.js","../src/utils/Constants.js","../src/components/AxisLinear.js","../src/components/Axis.js","../src/components/Tooltip.js","../src/components/Cursor.js","../src/components/Brush.js","../src/components/ChartInner.js","../src/components/pipeline/useMaterializeData.js","../src/hooks/useSeriesStyle.js","../src/hooks/useDatumStyle.js","../src/primitives/Circle.js","../src/seriesTypes/Line.js","../src/seriesTypes/Bubble.js","../src/seriesTypes/Area.js","../src/seriesTypes/Bar.js","../src/components/pipeline/useSeriesOptions.js","../src/components/pipeline/useSeriesTypes.js","../src/components/pipeline/useDimensions.js","../src/utils/buildAxis.linear.js","../src/utils/buildAxis.js","../src/components/pipeline/useAxes.js","../src/components/pipeline/useStackData.js","../src/components/TooltipRenderer.js","../src/components/pipeline/useTooltip.js","../src/components/pipeline/useCursors.js","../src/components/Chart.js"],"sourcesContent":["import React from \"react\";\nexport default React.createContext();\n","export default {\n  getStatus,\n  getStatusStyle,\n  buildStyleGetters,\n  getMultiAnchor,\n  getClosestPoint,\n  normalizeGetter,\n  isValidPoint,\n  getAxisByAxisID,\n  getAxisIndexByAxisID,\n  sumObjBy,\n  translateX,\n  translateY,\n  translate,\n  identity,\n  shallowDiff,\n}\n\nfunction getStatus(item, focused) {\n  const status = {\n    focused: false,\n    otherFocused: false,\n  }\n\n  if (!focused) {\n    return status\n  }\n\n  // If the item is a datum\n  if (typeof item.primary !== 'undefined') {\n    const length = focused.group.length\n    for (let i = 0; i < length; i++) {\n      if (\n        focused.group[i].seriesID === item.series.id &&\n        focused.group[i].index === item.index\n      ) {\n        status.focused = true\n        break\n      }\n    }\n    status.otherFocused = !status.focused\n    // For series\n  } else if (focused.series) {\n    status.focused = focused.series.id === item.id\n    status.otherFocused = !status.focused\n  }\n\n  return status\n}\n\nfunction getStatusStyle(item, status, decorator, defaults) {\n  if (item.series) {\n    defaults = {\n      ...defaults,\n      ...item.series.style,\n    }\n  }\n\n  return materializeStyles(\n    decorator({\n      ...item,\n      ...status,\n    }),\n    defaults\n  )\n}\n\nfunction buildStyleGetters(series, defaults) {\n  series.getStatusStyle = (focused, decorator) => {\n    const status = getStatus(series, focused)\n    series.style = getStatusStyle(series, status, decorator, defaults)\n    return series.style\n  }\n\n  // We also need to decorate each datum in the same fashion\n  series.datums.forEach(datum => {\n    datum.getStatusStyle = (focused, decorator) => {\n      const status = getStatus(datum, focused)\n      datum.style = getStatusStyle(datum, status, decorator, defaults)\n      return datum.style\n    }\n  })\n}\n\nfunction getMultiAnchor({ anchor, points, gridWidth, gridHeight }) {\n  const invalid = () => {\n    throw new Error(\n      `${JSON.stringify(\n        anchor\n      )} is not a valid tooltip anchor option. You should use a single anchor option or 2 non-conflicting anchor options.`\n    )\n  }\n\n  let x\n  let y\n\n  let xMin = points[0].anchor.x\n  let xMax = points[0].anchor.x\n  let yMin = points[0].anchor.y\n  let yMax = points[0].anchor.y\n\n  points.forEach(point => {\n    xMin = Math.min(point.anchor.x, xMin)\n    xMax = Math.max(point.anchor.x, xMax)\n    yMin = Math.min(point.anchor.y, yMin)\n    yMax = Math.max(point.anchor.y, yMax)\n  })\n\n  if (anchor.length > 2) {\n    return invalid()\n  }\n\n  anchor = anchor.sort(a =>\n    a.includes('center') || a.includes('Center') ? 1 : -1\n  )\n\n  for (let i = 0; i < anchor.length; i++) {\n    const anchorPart = anchor[i]\n\n    // Horizontal Positioning\n    if (['left', 'right', 'gridLeft', 'gridRight'].includes(anchorPart)) {\n      if (typeof x !== 'undefined') {\n        invalid()\n      }\n      if (anchorPart === 'left') {\n        x = xMin\n      } else if (anchorPart === 'right') {\n        x = xMax\n      } else if (anchorPart === 'gridLeft') {\n        x = 0\n      } else if (anchorPart === 'gridRight') {\n        x = gridWidth\n      } else {\n        invalid()\n      }\n    }\n\n    // Vertical Positioning\n    if (['top', 'bottom', 'gridTop', 'gridBottom'].includes(anchorPart)) {\n      if (typeof y !== 'undefined') {\n        invalid()\n      }\n      if (anchorPart === 'top') {\n        y = yMin\n      } else if (anchorPart === 'bottom') {\n        y = yMax\n      } else if (anchorPart === 'gridTop') {\n        y = 0\n      } else if (anchorPart === 'gridBottom') {\n        y = gridHeight\n      } else {\n        invalid()\n      }\n    }\n\n    // Center Positioning\n    if (['center', 'gridCenter'].includes(anchorPart)) {\n      if (anchorPart === 'center') {\n        if (typeof y === 'undefined') {\n          y = (yMin + yMax) / 2\n        }\n        if (typeof x === 'undefined') {\n          x = (xMin + xMax) / 2\n        }\n      } else if (anchorPart === 'gridCenter') {\n        if (typeof y === 'undefined') {\n          y = gridHeight / 2\n        }\n        if (typeof x === 'undefined') {\n          x = gridWidth / 2\n        }\n      } else {\n        invalid()\n      }\n    }\n\n    // Auto center the remainder if there is only one anchorPart listed\n    if (anchor.length === 1) {\n      if (anchor[0].includes('grid')) {\n        anchor.push('gridCenter')\n      } else {\n        anchor.push('center')\n      }\n    }\n  }\n\n  return { x, y }\n}\n\nfunction getClosestPoint(position, datums) {\n  if (!datums || !position || !datums.length) {\n    return\n  }\n  let closestDistance = Infinity\n  let closestDatum = datums[0]\n  datums.forEach(datum => {\n    datum.boundingPoints.forEach(pointerPoint => {\n      const distance = Math.sqrt(\n        (pointerPoint.x - position.x) ** 2 + (pointerPoint.y - position.y) ** 2\n      )\n      if (distance < closestDistance) {\n        closestDistance = distance\n        closestDatum = datum\n      }\n    })\n  })\n  return closestDatum\n}\n\nfunction normalizeColor(style, defaults) {\n  return {\n    ...style,\n    stroke: style.stroke || style.color || defaults.stroke || defaults.color,\n    fill: style.fill || style.color || defaults.fill || defaults.color,\n  }\n}\n\nconst elementTypes = ['area', 'line', 'rectangle', 'circle']\nfunction materializeStyles(style = {}, defaults = {}) {\n  style = normalizeColor(style, defaults)\n  for (let i = 0; i < elementTypes.length; i++) {\n    const type = elementTypes[i]\n    if (style[type] && defaults[type]) {\n      style[type] = materializeStyles(style[type], defaults)\n    }\n  }\n  return style\n}\n\nfunction normalizeGetter(getter) {\n  if (typeof getter === 'function') {\n    return getter\n  }\n  return d => get(d, getter)\n}\n\nfunction get(obj, path, def) {\n  if (typeof obj === 'function') {\n    try {\n      return obj()\n    } catch (e) {\n      return path\n    }\n  }\n  if (!path) {\n    return obj\n  }\n  const pathObj = makePathArray(path)\n  let val\n  try {\n    val = pathObj.reduce((current, pathPart) => current[pathPart], obj)\n  } catch (e) {\n    // do nothing\n  }\n  return typeof val !== 'undefined' ? val : def\n}\n\nfunction makePathArray(obj) {\n  return flattenDeep(obj)\n    .join('.')\n    .replace('[', '.')\n    .replace(']', '')\n    .split('.')\n}\n\nfunction flattenDeep(arr, newArr = []) {\n  if (!Array.isArray(arr)) {\n    newArr.push(arr)\n  } else {\n    for (let i = 0; i < arr.length; i++) {\n      flattenDeep(arr[i], newArr)\n    }\n  }\n  return newArr\n}\n\nfunction isValidPoint(d) {\n  if (d === null) {\n    return false\n  }\n  if (typeof d === 'undefined') {\n    return false\n  }\n  if (typeof d === 'string' && d === 'null') {\n    return false\n  }\n  return true\n}\n\nfunction getAxisByAxisID(axes, AxisID) {\n  return axes.find(d => d.id === AxisID) || axes[0]\n}\n\nfunction getAxisIndexByAxisID(axes, AxisID) {\n  const index = axes.findIndex(d => d.id === AxisID)\n  return index > -1 ? index : 0\n}\n\nfunction sumObjBy(obj, str) {\n  return Object.keys(obj)\n    .map(key => obj[key])\n    .reduce((prev, curr) => prev + curr[str] || 0, 0)\n}\n\nfunction translateX(x) {\n  return `translate3d(${Math.round(x)}px, 0, 0)`\n}\n\nfunction translateY(y) {\n  return `translate3d(0, ${Math.round(y)}px, 0)`\n}\n\nfunction translate(x, y) {\n  return `translate3d(${Math.round(x)}px, ${Math.round(y)}px, 0)`\n}\n\nfunction identity(d) {\n  return d\n}\n\nfunction shallowDiff(a, b) {\n  const aKeys = Object.keys(a)\n  const bKeys = Object.keys(b)\n\n  if (aKeys.length !== bKeys.length) {\n    return true\n  }\n\n  return Object.keys(a).some(key => {\n    if (a[key] !== b[key]) {\n      return true\n    }\n  })\n}\n","var props = ['bottom', 'height', 'left', 'right', 'top', 'width'];\n\nvar rectChanged = function rectChanged(a, b) {\n  if (a === void 0) {\n    a = {};\n  }\n\n  if (b === void 0) {\n    b = {};\n  }\n\n  return props.some(function (prop) {\n    return a[prop] !== b[prop];\n  });\n};\n\nvar observedNodes =\n/*#__PURE__*/\nnew Map();\nvar rafId;\n\nvar run = function run() {\n  var changedStates = [];\n  observedNodes.forEach(function (state, node) {\n    var newRect = node.getBoundingClientRect();\n\n    if (rectChanged(newRect, state.rect)) {\n      state.rect = newRect;\n      changedStates.push(state);\n    }\n  });\n  changedStates.forEach(function (state) {\n    state.callbacks.forEach(function (cb) {\n      return cb(state.rect);\n    });\n  });\n  rafId = window.requestAnimationFrame(run);\n};\n\nfunction observeRect(node, cb) {\n  return {\n    observe: function observe() {\n      var wasEmpty = observedNodes.size === 0;\n\n      if (observedNodes.has(node)) {\n        observedNodes.get(node).callbacks.push(cb);\n      } else {\n        observedNodes.set(node, {\n          rect: undefined,\n          hasRectChanged: false,\n          callbacks: [cb]\n        });\n      }\n\n      if (wasEmpty) run();\n    },\n    unobserve: function unobserve() {\n      var state = observedNodes.get(node);\n\n      if (state) {\n        // Remove the callback\n        var index = state.callbacks.indexOf(cb);\n        if (index >= 0) state.callbacks.splice(index, 1); // Remove the node reference\n\n        if (!state.callbacks.length) observedNodes[\"delete\"](node); // Stop the loop\n\n        if (!observedNodes.size) cancelAnimationFrame(rafId);\n      }\n    }\n  };\n}\n\nexport default observeRect;\n//# sourceMappingURL=observe-rect.esm.js.map\n","import React from 'react'\n\nexport default typeof window !== 'undefined'\n  ? React.useLayoutEffect\n  : React.useEffect\n","import React from 'react'\n\nimport observeRect from '@reach/observe-rect'\n\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect'\n\nexport default function useRect(nodeRef) {\n  const [element, setElement] = React.useState(nodeRef.current?.parentElement)\n  const [rect, setRect] = React.useState({ width: 0, height: 0 })\n  const initialRectSet = React.useRef(false)\n\n  useIsomorphicLayoutEffect(() => {\n    if (nodeRef.current?.parentElement !== element) {\n      setElement(nodeRef.current?.parentElement)\n    }\n  })\n\n  useIsomorphicLayoutEffect(() => {\n    if (element && !initialRectSet.current) {\n      initialRectSet.current = true\n      setRect(element.getBoundingClientRect())\n    }\n  }, [element])\n\n  React.useEffect(() => {\n    if (!element) {\n      return\n    }\n\n    const observer = observeRect(element, setRect)\n\n    observer.observe()\n\n    return () => {\n      observer.unobserve()\n    }\n  }, [element])\n\n  return { width: rect.width, height: rect.height }\n}\n","import React from \"react\";\n\nexport default function useLatestRef(latest) {\n  const ref = React.useRef();\n  ref.current = latest;\n  return ref;\n}\n","import React from \"react\";\n\nexport default function useLatest(obj, when = true) {\n  const ref = React.useRef();\n  if (when) {\n    ref.current = obj;\n  }\n  return ref.current;\n}\n","import React from \"react\";\n\nexport default function usePrevious(val) {\n  const ref = React.useRef();\n\n  React.useEffect(\n    () => {\n      ref.current = val;\n    },\n    [val]\n  );\n\n  return ref.current;\n}\n","// Generated by CoffeeScript 1.12.2\n(function() {\n  var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - nodeLoadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    moduleLoadTime = getNanoSeconds();\n    upTime = process.uptime() * 1e9;\n    nodeLoadTime = moduleLoadTime - upTime;\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n//# sourceMappingURL=performance-now.js.map\n","import now from 'performance-now'\n\nvar root = typeof window === 'undefined' ? global : window,\n  vendors = ['moz', 'webkit'],\n  suffix = 'AnimationFrame',\n  raf = root['request' + suffix],\n  caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor (var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf =\n    root[vendors[i] + 'Cancel' + suffix] ||\n    root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif (!raf || !caf) {\n  var last = 0,\n    id = 0,\n    queue = [],\n    frameDuration = 1000 / 60\n\n  raf = function (callback) {\n    if (queue.length === 0) {\n      var _now = now(),\n        next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function () {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for (var i = 0; i < cp.length; i++) {\n          if (!cp[i].cancelled) {\n            try {\n              cp[i].callback(last)\n            } catch (e) {\n              setTimeout(function () {\n                throw e\n              }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false,\n    })\n    return id\n  }\n\n  caf = function (handle) {\n    for (var i = 0; i < queue.length; i++) {\n      if (queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nexport default function Raf(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\n\nRaf.cancel = function () {\n  caf.apply(root, arguments)\n}\n\nRaf.polyfill = function (object) {\n  if (!object) {\n    object = root\n  }\n  object.requestAnimationFrame = raf\n  object.cancelAnimationFrame = caf\n}\n","import React from \"react\";\n//\n\nconst defaultStyle = {\n  strokeWidth: 0,\n  fill: \"#333\",\n  opacity: 1,\n  rx: 0,\n  ry: 0\n};\n\nexport default function Rectangle ({ style, opacity = 1, x1, y1, x2, y2, ...rest }) {\n  const resolvedStyle = {\n    ...defaultStyle,\n    ...style\n  };\n\n  const xStart = Math.min(x1, x2);\n  const yStart = Math.min(y1, y2);\n  const xEnd = Math.max(x1, x2);\n  const yEnd = Math.max(y1, y2);\n\n  const height = Math.max(yEnd - yStart, 0);\n  const width = Math.max(xEnd - xStart, 0);\n\n  return (\n    <rect\n      {...rest}\n      x={xStart}\n      y={yStart}\n      width={width}\n      height={height}\n      style={resolvedStyle}\n    />\n  );\n}\n","const EPSILON = Math.pow(2, -52);\nconst EDGE_STACK = new Uint32Array(512);\n\nclass Delaunator {\n\n    static from(points, getX = defaultGetX, getY = defaultGetY) {\n        const n = points.length;\n        const coords = new Float64Array(n * 2);\n\n        for (let i = 0; i < n; i++) {\n            const p = points[i];\n            coords[2 * i] = getX(p);\n            coords[2 * i + 1] = getY(p);\n        }\n\n        return new Delaunator(coords);\n    }\n\n    constructor(coords) {\n        const n = coords.length >> 1;\n        if (n > 0 && typeof coords[0] !== 'number') throw new Error('Expected coords to contain numbers.');\n\n        this.coords = coords;\n\n        // arrays that will store the triangulation graph\n        const maxTriangles = Math.max(2 * n - 5, 0);\n        this._triangles = new Uint32Array(maxTriangles * 3);\n        this._halfedges = new Int32Array(maxTriangles * 3);\n\n        // temporary arrays for tracking the edges of the advancing convex hull\n        this._hashSize = Math.ceil(Math.sqrt(n));\n        this._hullPrev = new Uint32Array(n); // edge to prev edge\n        this._hullNext = new Uint32Array(n); // edge to next edge\n        this._hullTri = new Uint32Array(n); // edge to adjacent triangle\n        this._hullHash = new Int32Array(this._hashSize).fill(-1); // angular edge hash\n\n        // temporary arrays for sorting points\n        this._ids = new Uint32Array(n);\n        this._dists = new Float64Array(n);\n\n        this.update();\n    }\n\n    update() {\n        const {coords, _hullPrev: hullPrev, _hullNext: hullNext, _hullTri: hullTri, _hullHash: hullHash} =  this;\n        const n = coords.length >> 1;\n\n        // populate an array of point indices; calculate input data bbox\n        let minX = Infinity;\n        let minY = Infinity;\n        let maxX = -Infinity;\n        let maxY = -Infinity;\n\n        for (let i = 0; i < n; i++) {\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n            this._ids[i] = i;\n        }\n        const cx = (minX + maxX) / 2;\n        const cy = (minY + maxY) / 2;\n\n        let minDist = Infinity;\n        let i0, i1, i2;\n\n        // pick a seed point close to the center\n        for (let i = 0; i < n; i++) {\n            const d = dist(cx, cy, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist) {\n                i0 = i;\n                minDist = d;\n            }\n        }\n        const i0x = coords[2 * i0];\n        const i0y = coords[2 * i0 + 1];\n\n        minDist = Infinity;\n\n        // find the point closest to the seed\n        for (let i = 0; i < n; i++) {\n            if (i === i0) continue;\n            const d = dist(i0x, i0y, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist && d > 0) {\n                i1 = i;\n                minDist = d;\n            }\n        }\n        let i1x = coords[2 * i1];\n        let i1y = coords[2 * i1 + 1];\n\n        let minRadius = Infinity;\n\n        // find the third point which forms the smallest circumcircle with the first two\n        for (let i = 0; i < n; i++) {\n            if (i === i0 || i === i1) continue;\n            const r = circumradius(i0x, i0y, i1x, i1y, coords[2 * i], coords[2 * i + 1]);\n            if (r < minRadius) {\n                i2 = i;\n                minRadius = r;\n            }\n        }\n        let i2x = coords[2 * i2];\n        let i2y = coords[2 * i2 + 1];\n\n        if (minRadius === Infinity) {\n            // order collinear points by dx (or dy if all x are identical)\n            // and return the list as a hull\n            for (let i = 0; i < n; i++) {\n                this._dists[i] = (coords[2 * i] - coords[0]) || (coords[2 * i + 1] - coords[1]);\n            }\n            quicksort(this._ids, this._dists, 0, n - 1);\n            const hull = new Uint32Array(n);\n            let j = 0;\n            for (let i = 0, d0 = -Infinity; i < n; i++) {\n                const id = this._ids[i];\n                if (this._dists[id] > d0) {\n                    hull[j++] = id;\n                    d0 = this._dists[id];\n                }\n            }\n            this.hull = hull.subarray(0, j);\n            this.triangles = new Uint32Array(0);\n            this.halfedges = new Uint32Array(0);\n            return;\n        }\n\n        // swap the order of the seed points for counter-clockwise orientation\n        if (orient(i0x, i0y, i1x, i1y, i2x, i2y)) {\n            const i = i1;\n            const x = i1x;\n            const y = i1y;\n            i1 = i2;\n            i1x = i2x;\n            i1y = i2y;\n            i2 = i;\n            i2x = x;\n            i2y = y;\n        }\n\n        const center = circumcenter(i0x, i0y, i1x, i1y, i2x, i2y);\n        this._cx = center.x;\n        this._cy = center.y;\n\n        for (let i = 0; i < n; i++) {\n            this._dists[i] = dist(coords[2 * i], coords[2 * i + 1], center.x, center.y);\n        }\n\n        // sort the points by distance from the seed triangle circumcenter\n        quicksort(this._ids, this._dists, 0, n - 1);\n\n        // set up the seed triangle as the starting hull\n        this._hullStart = i0;\n        let hullSize = 3;\n\n        hullNext[i0] = hullPrev[i2] = i1;\n        hullNext[i1] = hullPrev[i0] = i2;\n        hullNext[i2] = hullPrev[i1] = i0;\n\n        hullTri[i0] = 0;\n        hullTri[i1] = 1;\n        hullTri[i2] = 2;\n\n        hullHash.fill(-1);\n        hullHash[this._hashKey(i0x, i0y)] = i0;\n        hullHash[this._hashKey(i1x, i1y)] = i1;\n        hullHash[this._hashKey(i2x, i2y)] = i2;\n\n        this.trianglesLen = 0;\n        this._addTriangle(i0, i1, i2, -1, -1, -1);\n\n        for (let k = 0, xp, yp; k < this._ids.length; k++) {\n            const i = this._ids[k];\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n\n            // skip near-duplicate points\n            if (k > 0 && Math.abs(x - xp) <= EPSILON && Math.abs(y - yp) <= EPSILON) continue;\n            xp = x;\n            yp = y;\n\n            // skip seed triangle points\n            if (i === i0 || i === i1 || i === i2) continue;\n\n            // find a visible edge on the convex hull using edge hash\n            let start = 0;\n            for (let j = 0, key = this._hashKey(x, y); j < this._hashSize; j++) {\n                start = hullHash[(key + j) % this._hashSize];\n                if (start !== -1 && start !== hullNext[start]) break;\n            }\n\n            start = hullPrev[start];\n            let e = start, q;\n            while (q = hullNext[e], !orient(x, y, coords[2 * e], coords[2 * e + 1], coords[2 * q], coords[2 * q + 1])) {\n                e = q;\n                if (e === start) {\n                    e = -1;\n                    break;\n                }\n            }\n            if (e === -1) continue; // likely a near-duplicate point; skip it\n\n            // add the first triangle from the point\n            let t = this._addTriangle(e, i, hullNext[e], -1, -1, hullTri[e]);\n\n            // recursively flip triangles from the point until they satisfy the Delaunay condition\n            hullTri[i] = this._legalize(t + 2);\n            hullTri[e] = t; // keep track of boundary triangles on the hull\n            hullSize++;\n\n            // walk forward through the hull, adding more triangles and flipping recursively\n            let n = hullNext[e];\n            while (q = hullNext[n], orient(x, y, coords[2 * n], coords[2 * n + 1], coords[2 * q], coords[2 * q + 1])) {\n                t = this._addTriangle(n, i, q, hullTri[i], -1, hullTri[n]);\n                hullTri[i] = this._legalize(t + 2);\n                hullNext[n] = n; // mark as removed\n                hullSize--;\n                n = q;\n            }\n\n            // walk backward from the other side, adding more triangles and flipping\n            if (e === start) {\n                while (q = hullPrev[e], orient(x, y, coords[2 * q], coords[2 * q + 1], coords[2 * e], coords[2 * e + 1])) {\n                    t = this._addTriangle(q, i, e, -1, hullTri[e], hullTri[q]);\n                    this._legalize(t + 2);\n                    hullTri[q] = t;\n                    hullNext[e] = e; // mark as removed\n                    hullSize--;\n                    e = q;\n                }\n            }\n\n            // update the hull indices\n            this._hullStart = hullPrev[i] = e;\n            hullNext[e] = hullPrev[n] = i;\n            hullNext[i] = n;\n\n            // save the two new edges in the hash table\n            hullHash[this._hashKey(x, y)] = i;\n            hullHash[this._hashKey(coords[2 * e], coords[2 * e + 1])] = e;\n        }\n\n        this.hull = new Uint32Array(hullSize);\n        for (let i = 0, e = this._hullStart; i < hullSize; i++) {\n            this.hull[i] = e;\n            e = hullNext[e];\n        }\n\n        // trim typed triangle mesh arrays\n        this.triangles = this._triangles.subarray(0, this.trianglesLen);\n        this.halfedges = this._halfedges.subarray(0, this.trianglesLen);\n    }\n\n    _hashKey(x, y) {\n        return Math.floor(pseudoAngle(x - this._cx, y - this._cy) * this._hashSize) % this._hashSize;\n    }\n\n    _legalize(a) {\n        const {_triangles: triangles, _halfedges: halfedges, coords} = this;\n\n        let i = 0;\n        let ar = 0;\n\n        // recursion eliminated with a fixed-size stack\n        while (true) {\n            const b = halfedges[a];\n\n            /* if the pair of triangles doesn't satisfy the Delaunay condition\n             * (p1 is inside the circumcircle of [p0, pl, pr]), flip them,\n             * then do the same check/flip recursively for the new pair of triangles\n             *\n             *           pl                    pl\n             *          /||\\                  /  \\\n             *       al/ || \\bl            al/    \\a\n             *        /  ||  \\              /      \\\n             *       /  a||b  \\    flip    /___ar___\\\n             *     p0\\   ||   /p1   =>   p0\\---bl---/p1\n             *        \\  ||  /              \\      /\n             *       ar\\ || /br             b\\    /br\n             *          \\||/                  \\  /\n             *           pr                    pr\n             */\n            const a0 = a - a % 3;\n            ar = a0 + (a + 2) % 3;\n\n            if (b === -1) { // convex hull edge\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n                continue;\n            }\n\n            const b0 = b - b % 3;\n            const al = a0 + (a + 1) % 3;\n            const bl = b0 + (b + 2) % 3;\n\n            const p0 = triangles[ar];\n            const pr = triangles[a];\n            const pl = triangles[al];\n            const p1 = triangles[bl];\n\n            const illegal = inCircle(\n                coords[2 * p0], coords[2 * p0 + 1],\n                coords[2 * pr], coords[2 * pr + 1],\n                coords[2 * pl], coords[2 * pl + 1],\n                coords[2 * p1], coords[2 * p1 + 1]);\n\n            if (illegal) {\n                triangles[a] = p1;\n                triangles[b] = p0;\n\n                const hbl = halfedges[bl];\n\n                // edge swapped on the other side of the hull (rare); fix the halfedge reference\n                if (hbl === -1) {\n                    let e = this._hullStart;\n                    do {\n                        if (this._hullTri[e] === bl) {\n                            this._hullTri[e] = a;\n                            break;\n                        }\n                        e = this._hullPrev[e];\n                    } while (e !== this._hullStart);\n                }\n                this._link(a, hbl);\n                this._link(b, halfedges[ar]);\n                this._link(ar, bl);\n\n                const br = b0 + (b + 1) % 3;\n\n                // don't worry about hitting the cap: it can only happen on extremely degenerate input\n                if (i < EDGE_STACK.length) {\n                    EDGE_STACK[i++] = br;\n                }\n            } else {\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n            }\n        }\n\n        return ar;\n    }\n\n    _link(a, b) {\n        this._halfedges[a] = b;\n        if (b !== -1) this._halfedges[b] = a;\n    }\n\n    // add a new triangle given vertex indices and adjacent half-edge ids\n    _addTriangle(i0, i1, i2, a, b, c) {\n        const t = this.trianglesLen;\n\n        this._triangles[t] = i0;\n        this._triangles[t + 1] = i1;\n        this._triangles[t + 2] = i2;\n\n        this._link(t, a);\n        this._link(t + 1, b);\n        this._link(t + 2, c);\n\n        this.trianglesLen += 3;\n\n        return t;\n    }\n}\n\n// monotonically increases with real angle, but doesn't need expensive trigonometry\nfunction pseudoAngle(dx, dy) {\n    const p = dx / (Math.abs(dx) + Math.abs(dy));\n    return (dy > 0 ? 3 - p : 1 + p) / 4; // [0..1]\n}\n\nfunction dist(ax, ay, bx, by) {\n    const dx = ax - bx;\n    const dy = ay - by;\n    return dx * dx + dy * dy;\n}\n\n// return 2d orientation sign if we're confident in it through J. Shewchuk's error bound check\nfunction orientIfSure(px, py, rx, ry, qx, qy) {\n    const l = (ry - py) * (qx - px);\n    const r = (rx - px) * (qy - py);\n    return Math.abs(l - r) >= 3.3306690738754716e-16 * Math.abs(l + r) ? l - r : 0;\n}\n\n// a more robust orientation test that's stable in a given triangle (to fix robustness issues)\nfunction orient(rx, ry, qx, qy, px, py) {\n    const sign = orientIfSure(px, py, rx, ry, qx, qy) ||\n    orientIfSure(rx, ry, qx, qy, px, py) ||\n    orientIfSure(qx, qy, px, py, rx, ry);\n    return sign < 0;\n}\n\nfunction inCircle(ax, ay, bx, by, cx, cy, px, py) {\n    const dx = ax - px;\n    const dy = ay - py;\n    const ex = bx - px;\n    const ey = by - py;\n    const fx = cx - px;\n    const fy = cy - py;\n\n    const ap = dx * dx + dy * dy;\n    const bp = ex * ex + ey * ey;\n    const cp = fx * fx + fy * fy;\n\n    return dx * (ey * cp - bp * fy) -\n           dy * (ex * cp - bp * fx) +\n           ap * (ex * fy - ey * fx) < 0;\n}\n\nfunction circumradius(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = (ey * bl - dy * cl) * d;\n    const y = (dx * cl - ex * bl) * d;\n\n    return x * x + y * y;\n}\n\nfunction circumcenter(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = ax + (ey * bl - dy * cl) * d;\n    const y = ay + (dx * cl - ex * bl) * d;\n\n    return {x, y};\n}\n\nfunction quicksort(ids, dists, left, right) {\n    if (right - left <= 20) {\n        for (let i = left + 1; i <= right; i++) {\n            const temp = ids[i];\n            const tempDist = dists[temp];\n            let j = i - 1;\n            while (j >= left && dists[ids[j]] > tempDist) ids[j + 1] = ids[j--];\n            ids[j + 1] = temp;\n        }\n    } else {\n        const median = (left + right) >> 1;\n        let i = left + 1;\n        let j = right;\n        swap(ids, median, i);\n        if (dists[ids[left]] > dists[ids[right]]) swap(ids, left, right);\n        if (dists[ids[i]] > dists[ids[right]]) swap(ids, i, right);\n        if (dists[ids[left]] > dists[ids[i]]) swap(ids, left, i);\n\n        const temp = ids[i];\n        const tempDist = dists[temp];\n        while (true) {\n            do i++; while (dists[ids[i]] < tempDist);\n            do j--; while (dists[ids[j]] > tempDist);\n            if (j < i) break;\n            swap(ids, i, j);\n        }\n        ids[left + 1] = ids[j];\n        ids[j] = temp;\n\n        if (right - i + 1 >= j - left) {\n            quicksort(ids, dists, i, right);\n            quicksort(ids, dists, left, j - 1);\n        } else {\n            quicksort(ids, dists, left, j - 1);\n            quicksort(ids, dists, i, right);\n        }\n    }\n}\n\nfunction swap(arr, i, j) {\n    const tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction defaultGetX(p) {\n    return p[0];\n}\nfunction defaultGetY(p) {\n    return p[1];\n}\n\nconst epsilon = 1e-6;\n\nclass Path {\n  constructor() {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n  }\n  moveTo(x, y) {\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  }\n  lineTo(x, y) {\n    this._ += `L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arc(x, y, r) {\n    x = +x, y = +y, r = +r;\n    const x0 = x + r;\n    const y0 = y;\n    if (r < 0) throw new Error(\"negative radius\");\n    if (this._x1 === null) this._ += `M${x0},${y0}`;\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) this._ += \"L\" + x0 + \",\" + y0;\n    if (!r) return;\n    this._ += `A${r},${r},0,1,1,${x - r},${y}A${r},${r},0,1,1,${this._x1 = x0},${this._y1 = y0}`;\n  }\n  rect(x, y, w, h) {\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${+w}v${+h}h${-w}Z`;\n  }\n  value() {\n    return this._ || null;\n  }\n}\n\nclass Polygon {\n  constructor() {\n    this._ = [];\n  }\n  moveTo(x, y) {\n    this._.push([x, y]);\n  }\n  closePath() {\n    this._.push(this._[0].slice());\n  }\n  lineTo(x, y) {\n    this._.push([x, y]);\n  }\n  value() {\n    return this._.length ? this._ : null;\n  }\n}\n\nclass Voronoi {\n  constructor(delaunay, [xmin, ymin, xmax, ymax] = [0, 0, 960, 500]) {\n    if (!((xmax = +xmax) >= (xmin = +xmin)) || !((ymax = +ymax) >= (ymin = +ymin))) throw new Error(\"invalid bounds\");\n    this.delaunay = delaunay;\n    this._circumcenters = new Float64Array(delaunay.points.length * 2);\n    this.vectors = new Float64Array(delaunay.points.length * 2);\n    this.xmax = xmax, this.xmin = xmin;\n    this.ymax = ymax, this.ymin = ymin;\n    this._init();\n  }\n  update() {\n    this.delaunay.update();\n    this._init();\n    return this;\n  }\n  _init() {\n    const {delaunay: {points, hull, triangles}, vectors} = this;\n\n    // Compute circumcenters.\n    const circumcenters = this.circumcenters = this._circumcenters.subarray(0, triangles.length / 3 * 2);\n    for (let i = 0, j = 0, n = triangles.length, x, y; i < n; i += 3, j += 2) {\n      const t1 = triangles[i] * 2;\n      const t2 = triangles[i + 1] * 2;\n      const t3 = triangles[i + 2] * 2;\n      const x1 = points[t1];\n      const y1 = points[t1 + 1];\n      const x2 = points[t2];\n      const y2 = points[t2 + 1];\n      const x3 = points[t3];\n      const y3 = points[t3 + 1];\n\n      const dx = x2 - x1;\n      const dy = y2 - y1;\n      const ex = x3 - x1;\n      const ey = y3 - y1;\n      const bl = dx * dx + dy * dy;\n      const cl = ex * ex + ey * ey;\n      const ab = (dx * ey - dy * ex) * 2;\n\n      if (!ab) {\n        // degenerate case (collinear diagram)\n        x = (x1 + x3) / 2 - 1e8 * ey;\n        y = (y1 + y3) / 2 + 1e8 * ex;\n      }\n      else if (Math.abs(ab) < 1e-8) {\n        // almost equal points (degenerate triangle)\n        x = (x1 + x3) / 2;\n        y = (y1 + y3) / 2;\n      } else {\n        const d = 1 / ab;\n        x = x1 + (ey * bl - dy * cl) * d;\n        y = y1 + (dx * cl - ex * bl) * d;\n      }\n      circumcenters[j] = x;\n      circumcenters[j + 1] = y;\n    }\n\n    // Compute exterior cell rays.\n    let h = hull[hull.length - 1];\n    let p0, p1 = h * 4;\n    let x0, x1 = points[2 * h];\n    let y0, y1 = points[2 * h + 1];\n    vectors.fill(0);\n    for (let i = 0; i < hull.length; ++i) {\n      h = hull[i];\n      p0 = p1, x0 = x1, y0 = y1;\n      p1 = h * 4, x1 = points[2 * h], y1 = points[2 * h + 1];\n      vectors[p0 + 2] = vectors[p1] = y0 - y1;\n      vectors[p0 + 3] = vectors[p1 + 1] = x1 - x0;\n    }\n  }\n  render(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {delaunay: {halfedges, inedges, hull}, circumcenters, vectors} = this;\n    if (hull.length <= 1) return null;\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = Math.floor(i / 3) * 2;\n      const tj = Math.floor(j / 3) * 2;\n      const xi = circumcenters[ti];\n      const yi = circumcenters[ti + 1];\n      const xj = circumcenters[tj];\n      const yj = circumcenters[tj + 1];\n      this._renderSegment(xi, yi, xj, yj, context);\n    }\n    let h0, h1 = hull[hull.length - 1];\n    for (let i = 0; i < hull.length; ++i) {\n      h0 = h1, h1 = hull[i];\n      const t = Math.floor(inedges[h1] / 3) * 2;\n      const x = circumcenters[t];\n      const y = circumcenters[t + 1];\n      const v = h0 * 4;\n      const p = this._project(x, y, vectors[v + 2], vectors[v + 3]);\n      if (p) this._renderSegment(x, y, p[0], p[1], context);\n    }\n    return buffer && buffer.value();\n  }\n  renderBounds(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    context.rect(this.xmin, this.ymin, this.xmax - this.xmin, this.ymax - this.ymin);\n    return buffer && buffer.value();\n  }\n  renderCell(i, context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const points = this._clip(i);\n    if (points === null || !points.length) return;\n    context.moveTo(points[0], points[1]);\n    let n = points.length;\n    while (points[0] === points[n-2] && points[1] === points[n-1] && n > 1) n -= 2;\n    for (let i = 2; i < n; i += 2) {\n      if (points[i] !== points[i-2] || points[i+1] !== points[i-1])\n        context.lineTo(points[i], points[i + 1]);\n    }\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  *cellPolygons() {\n    const {delaunay: {points}} = this;\n    for (let i = 0, n = points.length / 2; i < n; ++i) {\n      const cell = this.cellPolygon(i);\n      if (cell) cell.index = i, yield cell;\n    }\n  }\n  cellPolygon(i) {\n    const polygon = new Polygon;\n    this.renderCell(i, polygon);\n    return polygon.value();\n  }\n  _renderSegment(x0, y0, x1, y1, context) {\n    let S;\n    const c0 = this._regioncode(x0, y0);\n    const c1 = this._regioncode(x1, y1);\n    if (c0 === 0 && c1 === 0) {\n      context.moveTo(x0, y0);\n      context.lineTo(x1, y1);\n    } else if (S = this._clipSegment(x0, y0, x1, y1, c0, c1)) {\n      context.moveTo(S[0], S[1]);\n      context.lineTo(S[2], S[3]);\n    }\n  }\n  contains(i, x, y) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return false;\n    return this.delaunay._step(i, x, y) === i;\n  }\n  *neighbors(i) {\n    const ci = this._clip(i);\n    if (ci) for (const j of this.delaunay.neighbors(i)) {\n      const cj = this._clip(j);\n      // find the common edge\n      if (cj) loop: for (let ai = 0, li = ci.length; ai < li; ai += 2) {\n        for (let aj = 0, lj = cj.length; aj < lj; aj += 2) {\n          if (ci[ai] == cj[aj]\n          && ci[ai + 1] == cj[aj + 1]\n          && ci[(ai + 2) % li] == cj[(aj + lj - 2) % lj]\n          && ci[(ai + 3) % li] == cj[(aj + lj - 1) % lj]\n          ) {\n            yield j;\n            break loop;\n          }\n        }\n      }\n    }\n  }\n  _cell(i) {\n    const {circumcenters, delaunay: {inedges, halfedges, triangles}} = this;\n    const e0 = inedges[i];\n    if (e0 === -1) return null; // coincident point\n    const points = [];\n    let e = e0;\n    do {\n      const t = Math.floor(e / 3);\n      points.push(circumcenters[t * 2], circumcenters[t * 2 + 1]);\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n      e = halfedges[e];\n    } while (e !== e0 && e !== -1);\n    return points;\n  }\n  _clip(i) {\n    // degenerate case (1 valid point: return the box)\n    if (i === 0 && this.delaunay.hull.length === 1) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    const points = this._cell(i);\n    if (points === null) return null;\n    const {vectors: V} = this;\n    const v = i * 4;\n    return V[v] || V[v + 1]\n        ? this._clipInfinite(i, points, V[v], V[v + 1], V[v + 2], V[v + 3])\n        : this._clipFinite(i, points);\n  }\n  _clipFinite(i, points) {\n    const n = points.length;\n    let P = null;\n    let x0, y0, x1 = points[n - 2], y1 = points[n - 1];\n    let c0, c1 = this._regioncode(x1, y1);\n    let e0, e1;\n    for (let j = 0; j < n; j += 2) {\n      x0 = x1, y0 = y1, x1 = points[j], y1 = points[j + 1];\n      c0 = c1, c1 = this._regioncode(x1, y1);\n      if (c0 === 0 && c1 === 0) {\n        e0 = e1, e1 = 0;\n        if (P) P.push(x1, y1);\n        else P = [x1, y1];\n      } else {\n        let S, sx0, sy0, sx1, sy1;\n        if (c0 === 0) {\n          if ((S = this._clipSegment(x0, y0, x1, y1, c0, c1)) === null) continue;\n          [sx0, sy0, sx1, sy1] = S;\n        } else {\n          if ((S = this._clipSegment(x1, y1, x0, y0, c1, c0)) === null) continue;\n          [sx1, sy1, sx0, sy0] = S;\n          e0 = e1, e1 = this._edgecode(sx0, sy0);\n          if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n          if (P) P.push(sx0, sy0);\n          else P = [sx0, sy0];\n        }\n        e0 = e1, e1 = this._edgecode(sx1, sy1);\n        if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n        if (P) P.push(sx1, sy1);\n        else P = [sx1, sy1];\n      }\n    }\n    if (P) {\n      e0 = e1, e1 = this._edgecode(P[0], P[1]);\n      if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    return P;\n  }\n  _clipSegment(x0, y0, x1, y1, c0, c1) {\n    while (true) {\n      if (c0 === 0 && c1 === 0) return [x0, y0, x1, y1];\n      if (c0 & c1) return null;\n      let x, y, c = c0 || c1;\n      if (c & 0b1000) x = x0 + (x1 - x0) * (this.ymax - y0) / (y1 - y0), y = this.ymax;\n      else if (c & 0b0100) x = x0 + (x1 - x0) * (this.ymin - y0) / (y1 - y0), y = this.ymin;\n      else if (c & 0b0010) y = y0 + (y1 - y0) * (this.xmax - x0) / (x1 - x0), x = this.xmax;\n      else y = y0 + (y1 - y0) * (this.xmin - x0) / (x1 - x0), x = this.xmin;\n      if (c0) x0 = x, y0 = y, c0 = this._regioncode(x0, y0);\n      else x1 = x, y1 = y, c1 = this._regioncode(x1, y1);\n    }\n  }\n  _clipInfinite(i, points, vx0, vy0, vxn, vyn) {\n    let P = Array.from(points), p;\n    if (p = this._project(P[0], P[1], vx0, vy0)) P.unshift(p[0], p[1]);\n    if (p = this._project(P[P.length - 2], P[P.length - 1], vxn, vyn)) P.push(p[0], p[1]);\n    if (P = this._clipFinite(i, P)) {\n      for (let j = 0, n = P.length, c0, c1 = this._edgecode(P[n - 2], P[n - 1]); j < n; j += 2) {\n        c0 = c1, c1 = this._edgecode(P[j], P[j + 1]);\n        if (c0 && c1) j = this._edge(i, c0, c1, P, j), n = P.length;\n      }\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      P = [this.xmin, this.ymin, this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax];\n    }\n    return P;\n  }\n  _edge(i, e0, e1, P, j) {\n    while (e0 !== e1) {\n      let x, y;\n      switch (e0) {\n        case 0b0101: e0 = 0b0100; continue; // top-left\n        case 0b0100: e0 = 0b0110, x = this.xmax, y = this.ymin; break; // top\n        case 0b0110: e0 = 0b0010; continue; // top-right\n        case 0b0010: e0 = 0b1010, x = this.xmax, y = this.ymax; break; // right\n        case 0b1010: e0 = 0b1000; continue; // bottom-right\n        case 0b1000: e0 = 0b1001, x = this.xmin, y = this.ymax; break; // bottom\n        case 0b1001: e0 = 0b0001; continue; // bottom-left\n        case 0b0001: e0 = 0b0101, x = this.xmin, y = this.ymin; break; // left\n      }\n      if ((P[j] !== x || P[j + 1] !== y) && this.contains(i, x, y)) {\n        P.splice(j, 0, x, y), j += 2;\n      }\n    }\n    if (P.length > 4) {\n      for (let i = 0; i < P.length; i+= 2) {\n        const j = (i + 2) % P.length, k = (i + 4) % P.length;\n        if (P[i] === P[j] && P[j] === P[k]\n        || P[i + 1] === P[j + 1] && P[j + 1] === P[k + 1])\n          P.splice(j, 2), i -= 2;\n      }\n    }\n    return j;\n  }\n  _project(x0, y0, vx, vy) {\n    let t = Infinity, c, x, y;\n    if (vy < 0) { // top\n      if (y0 <= this.ymin) return null;\n      if ((c = (this.ymin - y0) / vy) < t) y = this.ymin, x = x0 + (t = c) * vx;\n    } else if (vy > 0) { // bottom\n      if (y0 >= this.ymax) return null;\n      if ((c = (this.ymax - y0) / vy) < t) y = this.ymax, x = x0 + (t = c) * vx;\n    }\n    if (vx > 0) { // right\n      if (x0 >= this.xmax) return null;\n      if ((c = (this.xmax - x0) / vx) < t) x = this.xmax, y = y0 + (t = c) * vy;\n    } else if (vx < 0) { // left\n      if (x0 <= this.xmin) return null;\n      if ((c = (this.xmin - x0) / vx) < t) x = this.xmin, y = y0 + (t = c) * vy;\n    }\n    return [x, y];\n  }\n  _edgecode(x, y) {\n    return (x === this.xmin ? 0b0001\n        : x === this.xmax ? 0b0010 : 0b0000)\n        | (y === this.ymin ? 0b0100\n        : y === this.ymax ? 0b1000 : 0b0000);\n  }\n  _regioncode(x, y) {\n    return (x < this.xmin ? 0b0001\n        : x > this.xmax ? 0b0010 : 0b0000)\n        | (y < this.ymin ? 0b0100\n        : y > this.ymax ? 0b1000 : 0b0000);\n  }\n}\n\nconst tau = 2 * Math.PI, pow = Math.pow;\n\nfunction pointX(p) {\n  return p[0];\n}\n\nfunction pointY(p) {\n  return p[1];\n}\n\n// A triangulation is collinear if all its triangles have a non-null area\nfunction collinear(d) {\n  const {triangles, coords} = d;\n  for (let i = 0; i < triangles.length; i += 3) {\n    const a = 2 * triangles[i],\n          b = 2 * triangles[i + 1],\n          c = 2 * triangles[i + 2],\n          cross = (coords[c] - coords[a]) * (coords[b + 1] - coords[a + 1])\n                - (coords[b] - coords[a]) * (coords[c + 1] - coords[a + 1]);\n    if (cross > 1e-10) return false;\n  }\n  return true;\n}\n\nfunction jitter(x, y, r) {\n  return [x + Math.sin(x + y) * r, y + Math.cos(x - y) * r];\n}\n\nclass Delaunay {\n  static from(points, fx = pointX, fy = pointY, that) {\n    return new Delaunay(\"length\" in points\n        ? flatArray(points, fx, fy, that)\n        : Float64Array.from(flatIterable(points, fx, fy, that)));\n  }\n  constructor(points) {\n    this._delaunator = new Delaunator(points);\n    this.inedges = new Int32Array(points.length / 2);\n    this._hullIndex = new Int32Array(points.length / 2);\n    this.points = this._delaunator.coords;\n    this._init();\n  }\n  update() {\n    this._delaunator.update();\n    this._init();\n    return this;\n  }\n  _init() {\n    const d = this._delaunator, points = this.points;\n\n    // check for collinear\n    if (d.hull && d.hull.length > 2 && collinear(d)) {\n      this.collinear = Int32Array.from({length: points.length/2}, (_,i) => i)\n        .sort((i, j) => points[2 * i] - points[2 * j] || points[2 * i + 1] - points[2 * j + 1]); // for exact neighbors\n      const e = this.collinear[0], f = this.collinear[this.collinear.length - 1],\n        bounds = [ points[2 * e], points[2 * e + 1], points[2 * f], points[2 * f + 1] ],\n        r = 1e-8 * Math.hypot(bounds[3] - bounds[1], bounds[2] - bounds[0]);\n      for (let i = 0, n = points.length / 2; i < n; ++i) {\n        const p = jitter(points[2 * i], points[2 * i + 1], r);\n        points[2 * i] = p[0];\n        points[2 * i + 1] = p[1];\n      }\n      this._delaunator = new Delaunator(points);\n    } else {\n      delete this.collinear;\n    }\n\n    const halfedges = this.halfedges = this._delaunator.halfedges;\n    const hull = this.hull = this._delaunator.hull;\n    const triangles = this.triangles = this._delaunator.triangles;\n    const inedges = this.inedges.fill(-1);\n    const hullIndex = this._hullIndex.fill(-1);\n\n    // Compute an index from each point to an (arbitrary) incoming halfedge\n    // Used to give the first neighbor of each point; for this reason,\n    // on the hull we give priority to exterior halfedges\n    for (let e = 0, n = halfedges.length; e < n; ++e) {\n      const p = triangles[e % 3 === 2 ? e - 2 : e + 1];\n      if (halfedges[e] === -1 || inedges[p] === -1) inedges[p] = e;\n    }\n    for (let i = 0, n = hull.length; i < n; ++i) {\n      hullIndex[hull[i]] = i;\n    }\n\n    // degenerate case: 1 or 2 (distinct) points\n    if (hull.length <= 2 && hull.length > 0) {\n      this.triangles = new Int32Array(3).fill(-1);\n      this.halfedges = new Int32Array(3).fill(-1);\n      this.triangles[0] = hull[0];\n      this.triangles[1] = hull[1];\n      this.triangles[2] = hull[1];\n      inedges[hull[0]] = 1;\n      if (hull.length === 2) inedges[hull[1]] = 0;\n    }\n  }\n  voronoi(bounds) {\n    return new Voronoi(this, bounds);\n  }\n  *neighbors(i) {\n    const {inedges, hull, _hullIndex, halfedges, triangles, collinear} = this;\n\n    // degenerate case with several collinear points\n    if (collinear) {\n      const l = collinear.indexOf(i);\n      if (l > 0) yield collinear[l - 1];\n      if (l < collinear.length - 1) yield collinear[l + 1];\n      return;\n    }\n\n    const e0 = inedges[i];\n    if (e0 === -1) return; // coincident point\n    let e = e0, p0 = -1;\n    do {\n      yield p0 = triangles[e];\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) return; // bad triangulation\n      e = halfedges[e];\n      if (e === -1) {\n        const p = hull[(_hullIndex[i] + 1) % hull.length];\n        if (p !== p0) yield p;\n        return;\n      }\n    } while (e !== e0);\n  }\n  find(x, y, i = 0) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return -1;\n    const i0 = i;\n    let c;\n    while ((c = this._step(i, x, y)) >= 0 && c !== i && c !== i0) i = c;\n    return c;\n  }\n  _step(i, x, y) {\n    const {inedges, hull, _hullIndex, halfedges, triangles, points} = this;\n    if (inedges[i] === -1 || !points.length) return (i + 1) % (points.length >> 1);\n    let c = i;\n    let dc = pow(x - points[i * 2], 2) + pow(y - points[i * 2 + 1], 2);\n    const e0 = inedges[i];\n    let e = e0;\n    do {\n      let t = triangles[e];\n      const dt = pow(x - points[t * 2], 2) + pow(y - points[t * 2 + 1], 2);\n      if (dt < dc) dc = dt, c = t;\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n      e = halfedges[e];\n      if (e === -1) {\n        e = hull[(_hullIndex[i] + 1) % hull.length];\n        if (e !== t) {\n          if (pow(x - points[e * 2], 2) + pow(y - points[e * 2 + 1], 2) < dc) return e;\n        }\n        break;\n      }\n    } while (e !== e0);\n    return c;\n  }\n  render(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points, halfedges, triangles} = this;\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = triangles[i] * 2;\n      const tj = triangles[j] * 2;\n      context.moveTo(points[ti], points[ti + 1]);\n      context.lineTo(points[tj], points[tj + 1]);\n    }\n    this.renderHull(context);\n    return buffer && buffer.value();\n  }\n  renderPoints(context, r = 2) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points} = this;\n    for (let i = 0, n = points.length; i < n; i += 2) {\n      const x = points[i], y = points[i + 1];\n      context.moveTo(x + r, y);\n      context.arc(x, y, r, 0, tau);\n    }\n    return buffer && buffer.value();\n  }\n  renderHull(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {hull, points} = this;\n    const h = hull[0] * 2, n = hull.length;\n    context.moveTo(points[h], points[h + 1]);\n    for (let i = 1; i < n; ++i) {\n      const h = 2 * hull[i];\n      context.lineTo(points[h], points[h + 1]);\n    }\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  hullPolygon() {\n    const polygon = new Polygon;\n    this.renderHull(polygon);\n    return polygon.value();\n  }\n  renderTriangle(i, context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points, triangles} = this;\n    const t0 = triangles[i *= 3] * 2;\n    const t1 = triangles[i + 1] * 2;\n    const t2 = triangles[i + 2] * 2;\n    context.moveTo(points[t0], points[t0 + 1]);\n    context.lineTo(points[t1], points[t1 + 1]);\n    context.lineTo(points[t2], points[t2 + 1]);\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  *trianglePolygons() {\n    const {triangles} = this;\n    for (let i = 0, n = triangles.length / 3; i < n; ++i) {\n      yield this.trianglePolygon(i);\n    }\n  }\n  trianglePolygon(i) {\n    const polygon = new Polygon;\n    this.renderTriangle(i, polygon);\n    return polygon.value();\n  }\n}\n\nfunction flatArray(points, fx, fy, that) {\n  const n = points.length;\n  const array = new Float64Array(n * 2);\n  for (let i = 0; i < n; ++i) {\n    const p = points[i];\n    array[i * 2] = fx.call(that, p, i, points);\n    array[i * 2 + 1] = fy.call(that, p, i, points);\n  }\n  return array;\n}\n\nfunction* flatIterable(points, fx, fy, that) {\n  let i = 0;\n  for (const p of points) {\n    yield fx.call(that, p, i, points);\n    yield fy.call(that, p, i, points);\n    ++i;\n  }\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n\nfunction bisector(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n\nvar ascendingBisect = bisector(ascending);\nvar bisectRight = ascendingBisect.right;\n\nfunction sequence(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n\nvar e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction ticks(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nfunction tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nfunction tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n\nfunction initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nconst implicit = Symbol(\"implicit\");\n\nfunction ordinal() {\n  var index = new Map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new Map();\n    for (const value of _) {\n      const key = value + \"\";\n      if (index.has(key)) continue;\n      index.set(key, domain.push(value));\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nfunction band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction define(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nfunction extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n\nfunction Color() {}\n\nvar darker = 0.7;\nvar brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nfunction color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nfunction rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nfunction rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nfunction Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nfunction hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nfunction hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n\nfunction constant(x) {\n  return function() {\n    return x;\n  };\n}\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nfunction gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nfunction nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n\nvar rgb$1 = (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb$1(start, end) {\n    var r = color((start = rgb(start)).r, (end = rgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb$1.gamma = rgbGamma;\n\n  return rgb$1;\n})(1);\n\nfunction numberArray(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nfunction isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n\nfunction genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = interpolate(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n\nfunction date(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n\nfunction interpolateNumber(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n\nfunction object(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = interpolate(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nfunction string(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: interpolateNumber(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n\nfunction interpolate(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? interpolateNumber\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb$1) : string)\n      : b instanceof color ? rgb$1\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : interpolateNumber)(a, b);\n}\n\nfunction interpolateRound(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n\nfunction constant$1(x) {\n  return function() {\n    return x;\n  };\n}\n\nfunction number(x) {\n  return +x;\n}\n\nvar unit = [0, 1];\n\nfunction identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant$1(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisectRight(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nfunction copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nfunction transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate$1 = interpolate,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate$1)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate$1 = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate$1 = _, rescale()) : interpolate$1;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nfunction continuous() {\n  return transformer()(identity, identity);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nfunction formatDecimal(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n\nfunction exponent(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n\nfunction formatGroup(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n\nfunction formatNumerals(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n\n// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nfunction formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n\n// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nfunction formatTrim(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n\nvar prefixExponent;\n\nfunction formatPrefixAuto(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n\nfunction formatRounded(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n\nvar formatTypes = {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n\nfunction identity$1(x) {\n  return x;\n}\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nfunction formatLocale(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity$1 : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity$1 : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"-\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n\nvar locale;\nvar format;\nvar formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"],\n  minus: \"-\"\n});\n\nfunction defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n\nfunction precisionFixed(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n\nfunction precisionPrefix(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n\nfunction precisionRound(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n\nfunction tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n\nfunction linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nfunction linear$1() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear$1());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n\nfunction nice(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nfunction loggish(transform) {\n  var scale = transform(transformLog, transformExp),\n      domain = scale.domain,\n      base = 10,\n      logs,\n      pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  return scale;\n}\n\nfunction log() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, log()).base(scale.base());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nvar t0 = new Date,\n    t1 = new Date;\n\nfunction newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n\nvar millisecond = newInterval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return newInterval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nvar durationSecond = 1e3;\nvar durationMinute = 6e4;\nvar durationHour = 36e5;\nvar durationDay = 864e5;\nvar durationWeek = 6048e5;\n\nvar second = newInterval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nvar minute = newInterval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nvar hour = newInterval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nvar day = newInterval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nfunction weekday(i) {\n  return newInterval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nvar sunday = weekday(0);\nvar monday = weekday(1);\nvar tuesday = weekday(2);\nvar wednesday = weekday(3);\nvar thursday = weekday(4);\nvar friday = weekday(5);\nvar saturday = weekday(6);\n\nvar month = newInterval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nvar year = newInterval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nvar utcMinute = newInterval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nvar utcHour = newInterval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nvar utcDay = newInterval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nfunction utcWeekday(i) {\n  return newInterval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nvar utcSunday = utcWeekday(0);\nvar utcMonday = utcWeekday(1);\nvar utcTuesday = utcWeekday(2);\nvar utcWednesday = utcWeekday(3);\nvar utcThursday = utcWeekday(4);\nvar utcFriday = utcWeekday(5);\nvar utcSaturday = utcWeekday(6);\n\nvar utcMonth = newInterval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nvar utcYear = newInterval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nfunction formatLocale$1(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day$1;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day$1 = week.getUTCDay();\n          week = day$1 > 4 || day$1 === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day$1 = week.getDay();\n          week = day$1 > 4 || day$1 === 0 ? monday.ceil(week) : monday(week);\n          week = day.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day$1 = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day$1 + 5) % 7 : d.w + d.U * 7 - (day$1 + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + day.count(year(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(sunday.count(year(d) - 1, d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? thursday(d) : thursday.ceil(d);\n  return pad(thursday.count(year(d), d) + (year(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(monday.count(year(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n\nvar locale$1;\nvar timeFormat;\nvar timeParse;\nvar utcFormat;\nvar utcParse;\n\ndefaultLocale$1({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nfunction defaultLocale$1(definition) {\n  locale$1 = formatLocale$1(definition);\n  timeFormat = locale$1.format;\n  timeParse = locale$1.parse;\n  utcFormat = locale$1.utcFormat;\n  utcParse = locale$1.utcParse;\n  return locale$1;\n}\n\nvar durationSecond$1 = 1000,\n    durationMinute$1 = durationSecond$1 * 60,\n    durationHour$1 = durationMinute$1 * 60,\n    durationDay$1 = durationHour$1 * 24,\n    durationWeek$1 = durationDay$1 * 7,\n    durationMonth = durationDay$1 * 30,\n    durationYear = durationDay$1 * 365;\n\nfunction date$1(t) {\n  return new Date(t);\n}\n\nfunction number$1(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nfunction calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  var tickIntervals = [\n    [second,  1,      durationSecond$1],\n    [second,  5,  5 * durationSecond$1],\n    [second, 15, 15 * durationSecond$1],\n    [second, 30, 30 * durationSecond$1],\n    [minute,  1,      durationMinute$1],\n    [minute,  5,  5 * durationMinute$1],\n    [minute, 15, 15 * durationMinute$1],\n    [minute, 30, 30 * durationMinute$1],\n    [  hour,  1,      durationHour$1  ],\n    [  hour,  3,  3 * durationHour$1  ],\n    [  hour,  6,  6 * durationHour$1  ],\n    [  hour, 12, 12 * durationHour$1  ],\n    [   day,  1,      durationDay$1   ],\n    [   day,  2,  2 * durationDay$1   ],\n    [  week,  1,      durationWeek$1  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop) {\n    if (interval == null) interval = 10;\n\n    // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function(i) { return i[2]; }).right(tickIntervals, target),\n          step;\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = Math.max(tickStep(start, stop, interval), 1);\n        interval = millisecond;\n      }\n      return interval.every(step);\n    }\n\n    return interval;\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number$1)) : domain().map(date$1);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1]))\n        ? domain(nice(d, interval))\n        : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nfunction time() {\n  return initRange.apply(calendar(year, month, sunday, day, hour, minute, second, millisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n\nfunction utcTime() {\n  return initRange.apply(calendar(utcYear, utcMonth, utcSunday, utcDay, utcHour, utcMinute, second, millisecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]), arguments);\n}\n\nvar pi = Math.PI,\n    tau$1 = 2 * pi,\n    epsilon$1 = 1e-6,\n    tauEpsilon = tau$1 - epsilon$1;\n\nfunction Path$1() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path$1;\n}\n\nPath$1.prototype = path.prototype = {\n  constructor: Path$1,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon$1));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon$1) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon$1) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon$1 || Math.abs(this._y1 - y0) > epsilon$1) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau$1 + tau$1;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon$1) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nfunction constant$2(x) {\n  return function constant() {\n    return x;\n  };\n}\n\nvar abs = Math.abs;\nvar atan2 = Math.atan2;\nvar cos = Math.cos;\nvar max = Math.max;\nvar min = Math.min;\nvar sin = Math.sin;\nvar sqrt = Math.sqrt;\n\nvar epsilon$2 = 1e-12;\nvar pi$1 = Math.PI;\nvar halfPi = pi$1 / 2;\nvar tau$2 = 2 * pi$1;\n\nfunction acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi$1 : Math.acos(x);\n}\n\nfunction asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon$2) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nfunction arc() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant$2(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon$2)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau$2 - epsilon$2) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon$2) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon$2) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1  r0, da1  da0.\n      if (rp > epsilon$2) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon$2) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon$2) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon$2) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi$1 && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon$2)) context.moveTo(x01, y01);\n\n      // Does the sectors outer ring have rounded corners?\n      else if (rc1 > epsilon$2) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and its a circular sector?\n      // Or perhaps its an annular sector collapsed due to padding?\n      if (!(r0 > epsilon$2) || !(da0 > epsilon$2)) context.lineTo(x10, y10);\n\n      // Does the sectors inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon$2) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi$1 / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant$2(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant$2(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant$2(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant$2(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant$2(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant$2(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant$2(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n\nfunction Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nfunction curveLinear(context) {\n  return new Linear(context);\n}\n\nfunction x(p) {\n  return p[0];\n}\n\nfunction y(p) {\n  return p[1];\n}\n\nfunction line() {\n  var x$1 = x,\n      y$1 = y,\n      defined = constant$2(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x$1(d, i, data), +y$1(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x$1 = typeof _ === \"function\" ? _ : constant$2(+_), line) : x$1;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y$1 = typeof _ === \"function\" ? _ : constant$2(+_), line) : y$1;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant$2(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n\nfunction area() {\n  var x0 = x,\n      x1 = null,\n      y0 = constant$2(0),\n      y1 = y,\n      defined = constant$2(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant$2(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant$2(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant$2(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant$2(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant$2(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant$2(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant$2(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n\nfunction descending(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n\nfunction identity$2(d) {\n  return d;\n}\n\nfunction pie() {\n  var value = identity$2,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant$2(0),\n      endAngle = constant$2(tau$2),\n      padAngle = constant$2(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau$2, Math.max(-tau$2, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant$2(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant$2(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant$2(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant$2(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n\nfunction noop() {}\n\nfunction point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nfunction Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nfunction basis(context) {\n  return new Basis(context);\n}\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nfunction basisClosed(context) {\n  return new BasisClosed(context);\n}\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nfunction basisOpen(context) {\n  return new BasisOpen(context);\n}\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nvar bundle = (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n\nfunction point$1(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nfunction Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point$1(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point$1(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar cardinal = (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n\nfunction CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point$1(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar cardinalClosed = (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n\nfunction CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point$1(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar cardinalOpen = (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n\nfunction point$2(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon$2) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon$2) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point$2(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar catmullRom = (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point$2(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar catmullRomClosed = (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point$2(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar catmullRomOpen = (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nfunction linearClosed(context) {\n  return new LinearClosed(context);\n}\n\nfunction sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bzier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point$3(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point$3(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point$3(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point$3(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n};\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nfunction monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nfunction monotoneY(context) {\n  return new MonotoneY(context);\n}\n\nfunction Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nfunction natural(context) {\n  return new Natural(context);\n}\n\nfunction Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nfunction step(context) {\n  return new Step(context, 0.5);\n}\n\nfunction stepBefore(context) {\n  return new Step(context, 0);\n}\n\nfunction stepAfter(context) {\n  return new Step(context, 1);\n}\n\nexport { Delaunay, arc, area, basis as curveBasis, basisClosed as curveBasisClosed, basisOpen as curveBasisOpen, bundle as curveBundle, cardinal as curveCardinal, cardinalClosed as curveCardinalClosed, cardinalOpen as curveCardinalOpen, catmullRom as curveCatmullRom, catmullRomClosed as curveCatmullRomClosed, catmullRomOpen as curveCatmullRomOpen, curveLinear, linearClosed as curveLinearClosed, monotoneX as curveMonotoneX, monotoneY as curveMonotoneY, natural as curveNatural, step as curveStep, stepAfter as curveStepAfter, stepBefore as curveStepBefore, line, pie, band as scaleBand, linear$1 as scaleLinear, log as scaleLog, time as scaleTime, utcTime as scaleUtc };\n","import React from 'react'\n//\n\nconst defaultStyle = {\n  strokeWidth: 2,\n  stroke: '#6b6b6b',\n  fill: 'transparent',\n  opacity: 1,\n}\n\nexport default function Path({ style, ...rest }) {\n  const resolvedStyle = {\n    ...defaultStyle,\n    ...style,\n  }\n\n  return <path {...rest} style={resolvedStyle} />\n}\n","import React from 'react'\nimport { Delaunay, line } from '../../d3'\n//\nimport ChartContext from '../utils/ChartContext'\nimport Path from '../primitives/Path'\n\nconst lineFn = line()\n\nconst VoronoiElement = ({ children, ...rest }) => (\n  <g className=\"Voronoi\" {...rest}>\n    {children}\n  </g>\n)\n\nexport default function Voronoi() {\n  const [\n    {\n      // type,\n      stackData,\n      primaryAxes,\n      secondaryAxes,\n      showVoronoi,\n      width,\n      height,\n      gridWidth,\n      gridHeight,\n      onFocus,\n      onClick,\n      tooltip,\n      primaryCursor,\n      secondaryCursor,\n    },\n    setChartState,\n  ] = React.useContext(ChartContext)\n\n  const onHover = React.useCallback(\n    datum => {\n      return setChartState(state => ({\n        ...state,\n        focused: datum,\n      }))\n    },\n    [setChartState]\n  )\n\n  const needsVoronoi =\n    onFocus || onClick || tooltip || primaryCursor || secondaryCursor\n\n  return React.useMemo(() => {\n    // Don't render until we have all dependencies\n    if (\n      !stackData ||\n      !primaryAxes.length ||\n      !secondaryAxes.length ||\n      !width ||\n      !height ||\n      !needsVoronoi\n    ) {\n      return null\n    }\n\n    const extent = [\n      [0, 0],\n      [gridWidth, gridHeight],\n    ]\n\n    // if (type === 'pie') {\n    //   const primaryAxis = primaryAxes[0]\n\n    //   return (\n    //     <VoronoiElement\n    //       style={{\n    //         transform: Utils.translate(primaryAxis.width /\n    //           2, primaryAxis.height / 2)\n    //       }}\n    //     >\n    //       {stackData.map(series => (\n    //         <React.Fragment key={series.index}>\n    //           {series.datums.map((datum, i) => {\n    //             const arc = makeArc()\n    //               .startAngle(datum.arcData.startAngle)\n    //               .endAngle(datum.arcData.endAngle)\n    //               .padAngle(0)\n    //               .padRadius(0)\n    //               .innerRadius(\n    //                 !series.index\n    //                   ? 0\n    //                   : datum.arcData.innerRadius -\n    //                       datum.arcData.seriesPaddingRadius / 2\n    //               )\n    //               .outerRadius(\n    //                 series.index === stackData.length - 1\n    //                   ? Math.max(primaryAxis.width, primaryAxis.height)\n    //                   : datum.arcData.outerRadius +\n    //                       datum.arcData.seriesPaddingRadius / 2\n    //               )\n    //               .cornerRadius(0)\n\n    //             return (\n    //               <Path\n    //                 key={i}\n    //                 d={arc()}\n    //                 className='action-voronoi'\n    //                 onMouseEnter={() => onHover([datum])}\n    //                 style={{\n    //                   fill: 'rgba(0,0,0,.2)',\n    //                   stroke: 'rgba(255,255,255,.5)',\n    //                   opacity: showVoronoi ? 1 : 0\n    //                 }}\n    //               />\n    //             )\n    //           })}\n    //         </React.Fragment>\n    //       ))}\n    //     </VoronoiElement>\n    //   )\n    // }\n\n    let vor\n    let polygons = null\n\n    const voronoiData = []\n    stackData.forEach(series => {\n      series.datums\n        .filter(d => d.defined)\n        .forEach(datum => {\n          datum.boundingPoints.forEach(boundingPoint => {\n            if (\n              typeof datum.x !== 'number' ||\n              typeof datum.y !== 'number' ||\n              Number.isNaN(datum.y) ||\n              Number.isNaN(datum.x)\n            ) {\n              return\n            }\n            voronoiData.push({\n              x: boundingPoint.x,\n              y: boundingPoint.y,\n              datum,\n            })\n          })\n        })\n    })\n\n    const delaunay = Delaunay.from(\n      voronoiData,\n      d => d.x,\n      d => d.y\n    )\n\n    const voronoi = delaunay.voronoi(extent.flat())\n\n    polygons = [...voronoi.cellPolygons()]\n\n    return (\n      <VoronoiElement>\n        {polygons.map((points, i) => {\n          const index = points.index\n          const datum = voronoiData[index].datum\n          const path = lineFn(points)\n          return (\n            <Path\n              key={i}\n              d={path}\n              className=\"action-voronoi\"\n              onMouseEnter={e => onHover(datum)}\n              onMouseLeave={e => onHover(null)}\n              style={{\n                fill: 'rgba(0,0,0,.2)',\n                stroke: 'rgba(255,255,255,.5)',\n                opacity: showVoronoi ? 1 : 0,\n              }}\n            />\n          )\n        })}\n      </VoronoiElement>\n    )\n  }, [\n    gridHeight,\n    gridWidth,\n    height,\n    needsVoronoi,\n    onHover,\n    primaryAxes.length,\n    secondaryAxes.length,\n    showVoronoi,\n    stackData,\n    width,\n  ])\n}\n","import React from 'react'\n//\n\nconst defaultStyle = {\n  strokeWidth: 1,\n  fill: 'transparent',\n  opacity: 1,\n}\n\nexport default function Line({ style, ...rest }) {\n  const resolvedStyle = {\n    ...defaultStyle,\n    ...style,\n  }\n\n  return <line {...rest} style={resolvedStyle} />\n}\n","import React from 'react'\n//\n\nconst defaultStyle = {\n  fontFamily: 'Helvetica',\n  fontSize: 10,\n  opacity: 1,\n}\n\nexport default function Text({ style, opacity = 1, ...rest }) {\n  const resolvedStyle = {\n    ...defaultStyle,\n    ...style,\n  }\n\n  return <text {...rest} style={resolvedStyle} />\n}\n","import React from 'react'\n\nexport default React.forwardRef(function Group(props, ref) {\n  return <g {...props} ref={ref} />\n})\n","export const positionTop = \"top\";\nexport const positionRight = \"right\";\nexport const positionBottom = \"bottom\";\nexport const positionLeft = \"left\";\n\nexport const groupingSingle = \"single\";\nexport const groupingSeries = \"series\";\nexport const groupingPrimary = \"primary\";\nexport const groupingSecondary = \"secondary\";\n\nexport const alignAuto = \"auto\";\nexport const alignRight = \"right\";\nexport const alignTopRight = \"topRight\";\nexport const alignBottomRight = \"bottomRight\";\nexport const alignLeft = \"left\";\nexport const alignTopLeft = \"topLeft\";\nexport const alignBottomLeft = \"bottomLeft\";\nexport const alignTop = \"top\";\nexport const alignBottom = \"bottom\";\n\nexport const axisTypeOrdinal = \"ordinal\";\nexport const axisTypeTime = \"time\";\nexport const axisTypeUtc = \"utc\";\nexport const axisTypeLinear = \"linear\";\nexport const axisTypeLog = \"log\";\n\nexport const anchorPointer = \"pointer\";\nexport const anchorClosest = \"closest\";\nexport const anchorCenter = \"center\";\nexport const anchorTop = \"top\";\nexport const anchorBottom = \"bottom\";\nexport const anchorLeft = \"left\";\nexport const anchorRight = \"right\";\nexport const anchorGridTop = \"gridTop\";\nexport const anchorGridBottom = \"gridBottom\";\nexport const anchorGridLeft = \"gridLeft\";\nexport const anchorGridRight = \"gridRight\";\n\nexport const focusAuto = \"auto\";\nexport const focusClosest = \"closest\";\nexport const focusElement = \"element\";\n","import React from 'react'\n//\nimport ChartContext from '../utils/ChartContext'\nimport Utils from '../utils/Utils'\n\nimport usePrevious from '../hooks/usePrevious'\n\nimport Path from '../primitives/Path'\nimport Line from '../primitives/Line'\nimport Text from '../primitives/Text'\nimport Group from '../primitives/Group'\n\nimport {\n  positionTop,\n  positionRight,\n  positionBottom,\n  positionLeft,\n  axisTypeOrdinal,\n} from '../utils/Constants.js'\n\nconst defaultStyles = {\n  line: {\n    strokeWidth: '1',\n    fill: 'transparent',\n  },\n  tick: {\n    fontSize: 10,\n    fontFamily: 'sans-serif',\n  },\n}\n\nconst radiansToDegrees = r => r * (180 / Math.PI)\n\nexport default function AxisLinear({\n  id,\n  type,\n  position,\n  tickSizeInner,\n  tickSizeOuter,\n  show,\n  showGrid,\n  showTicks,\n  styles,\n  maxLabelRotation,\n  labelRotationStep,\n  tickPadding,\n  ticks,\n  tickCount,\n  minTickCount,\n  maxTickCount,\n  scale,\n  max: scaleMax,\n  transform,\n  vertical,\n  format,\n  range: [range0, range1],\n  directionMultiplier,\n  tickOffset,\n  gridOffset,\n  spacing,\n}) {\n  const [rotation, setRotation] = React.useState(0)\n  const [\n    { gridWidth, gridHeight, dark, axisDimensions },\n    setChartState,\n  ] = React.useContext(ChartContext)\n\n  const elRef = React.useRef()\n  const visibleLabelStepRef = React.useRef()\n\n  const measureDimensions = React.useCallback(() => {\n    if (!elRef.current) {\n      if (axisDimensions[position] && axisDimensions[position][id]) {\n        // If the entire axis is hidden, then we need to remove the axis dimensions\n        setChartState(state => {\n          const newAxes = state.axisDimensions[position] || {}\n          delete newAxes[id]\n          return {\n            ...state,\n            axisDimensions: {\n              ...state.axisDimensions,\n              [position]: newAxes,\n            },\n          }\n        })\n      }\n      return\n    }\n\n    const labelDims = Array(\n      ...elRef.current.querySelectorAll('.tickLabel')\n    ).map(el => {\n      const rect = el.getBoundingClientRect()\n      return {\n        width: rect.width,\n        height: rect.height,\n      }\n    })\n\n    let tickSpace = !vertical ? gridWidth : gridHeight\n    let calculatedTickCount = tickCount\n    let width = 0\n    let height = 0\n    let top = 0\n    let bottom = 0\n    let left = 0\n    let right = 0\n\n    let smallestTickGap = 100000 // This is just a ridiculously large tick spacing that would never happen (hopefully)\n\n    // First find the dimensions of each tick\n    const tickDims = Array(...elRef.current.querySelectorAll('.tick')).map(el =>\n      el.getBoundingClientRect()\n    )\n\n    // Then, determine the smallest gap in ticks on the axis\n    tickDims.reduce((prev, current) => {\n      if (prev) {\n        const gap = vertical ? current.top - prev.top : current.left - prev.left\n        smallestTickGap = gap < smallestTickGap ? gap : smallestTickGap\n      }\n      return current\n    }, false)\n\n    const firstLabelDim = labelDims[0] || { width: 0, height: 0 }\n    const lastLabelDim = labelDims[labelDims.length - 1] || {\n      width: 0,\n      height: 0,\n    }\n\n    // Then determine the largest label\n    let largestLabel = { ...firstLabelDim, _overflow: 0 }\n\n    // Determine the largest label on the axis\n    labelDims.forEach(labelDim => {\n      labelDim._overflow = !vertical\n        ? labelDim.width\n        : labelDim.height - smallestTickGap\n      if (\n        labelDim._overflow > 0 &&\n        labelDim._overflow > largestLabel._overflow\n      ) {\n        largestLabel = labelDim\n      }\n    })\n\n    const largestLabelSize = !vertical\n      ? largestLabel.width\n      : largestLabel.height\n\n    // We need to detect auto tick mode\n    if ((vertical || type !== 'ordinal') && tickCount === 'auto') {\n      // if it's on, determine how many ticks we could display if they were all flat\n      // How many ticks can we fit in the available axis space?\n      calculatedTickCount = Math.max(\n        minTickCount,\n        Math.min(\n          Math.floor(\n            (tickSpace + largestLabelSize - tickPadding) /\n              (largestLabelSize + tickPadding * 2)\n          ),\n          maxTickCount\n        )\n      )\n    } else if (!vertical) {\n      // Otherwise, if it's horizontal, then we need to determine axis rotation\n      // This is the raw mathematical rotation, using acosign and radians\n      // (some tricky stuff I found on some geomoetry forum. Can't remember where though)\n      let newRotation = Math.min(\n        Math.max(\n          Math.abs(\n            radiansToDegrees(\n              Math.acos(smallestTickGap / (largestLabel.width + tickPadding))\n            )\n          ),\n          0\n        ),\n        maxLabelRotation\n      )\n\n      // Make sure the rotation isn't NaN\n      newRotation = Number.isNaN(newRotation) ? 0 : newRotation\n\n      // Round the rotation to the nearest rotationStep\n      newRotation = Math.ceil(\n        Math.ceil(newRotation / labelRotationStep) * labelRotationStep\n      )\n\n      if (\n        newRotation === 0 ||\n        newRotation === maxLabelRotation ||\n        Math.abs(newRotation) - Math.abs(rotation) > 5\n      ) {\n        setRotation(() => (position === 'top' ? -newRotation : newRotation))\n      }\n    }\n\n    const newVisibleLabelStep = Math.ceil(tickPadding / smallestTickGap)\n\n    if (visibleLabelStepRef.current !== newVisibleLabelStep) {\n      visibleLabelStepRef.current = newVisibleLabelStep\n    }\n\n    if (!vertical) {\n      // Add width overflow from the first and last ticks\n      // const leftWidth = firstLabelDim.width\n      // const rightWidth = lastLabelDim.width\n      // if (rotation) {\n      //   right = tickPadding\n      //   left = Math.abs(Math.ceil(Math.cos(rotation) * leftWidth)) - barSize / 2\n      // } else {\n      //   left = Math.ceil(leftWidth / 2)\n      //   right = Math.ceil(rightWidth / 2)\n      // }\n      height =\n        Math.max(tickSizeInner, tickSizeOuter) + // Add tick size\n        tickPadding + // Add tick padding\n        // Add the height of the largest label\n        Math.max(0, ...labelDims.map(d => Math.ceil(d.height)))\n    } else {\n      // Add height overflow from the first and last ticks\n      top = Math.ceil(firstLabelDim.height / 2)\n      bottom = Math.ceil(lastLabelDim.height / 2)\n      width =\n        Math.max(tickSizeInner, tickSizeOuter) + // Add tick size\n        tickPadding + // Add tick padding\n        // Add the width of the largest label\n        Math.max(0, ...labelDims.map(d => Math.ceil(d.width)))\n    }\n\n    const newDimensions = {\n      width,\n      height,\n      top,\n      bottom,\n      left,\n      right,\n      tickCount: calculatedTickCount,\n    }\n\n    // Only update the axisDimensions if something has changed\n    if (\n      !axisDimensions ||\n      !axisDimensions[position] ||\n      !axisDimensions[position][id] ||\n      Object.keys(newDimensions).some(key => {\n        return newDimensions[key] !== axisDimensions[position][id][key]\n      })\n    ) {\n      setChartState(state => ({\n        ...state,\n        axisDimensions: {\n          ...state.axisDimensions,\n          [position]: {\n            ...(state.axisDimensions[position] || {}),\n            [id]: newDimensions,\n          },\n        },\n      }))\n    }\n  }, [\n    axisDimensions,\n    gridHeight,\n    gridWidth,\n    id,\n    labelRotationStep,\n    maxLabelRotation,\n    maxTickCount,\n    minTickCount,\n    position,\n    rotation,\n    setChartState,\n    tickCount,\n    tickPadding,\n    tickSizeInner,\n    tickSizeOuter,\n    type,\n    vertical,\n  ])\n\n  const previousRotation = usePrevious(rotation)\n\n  // Measure after if needed\n  React.useLayoutEffect(() => {\n    if (previousRotation === rotation) {\n      measureDimensions()\n    }\n  }, [\n    axisDimensions,\n    id,\n    measureDimensions,\n    position,\n    previousRotation,\n    rotation,\n  ])\n\n  // Measure after if needed\n  React.useEffect(() => {\n    if (previousRotation !== rotation) {\n      measureDimensions()\n    }\n  }, [\n    axisDimensions,\n    id,\n    measureDimensions,\n    position,\n    previousRotation,\n    rotation,\n  ])\n\n  // Not ready? Render null\n  if (!show) {\n    return null\n  }\n\n  let axisPath\n  if (vertical) {\n    if (position === positionLeft) {\n      axisPath = `\n        M ${-tickSizeOuter}, ${range0}\n        H 0\n        V ${range1}\n        H ${-tickSizeOuter}\n      `\n    } else {\n      axisPath = `\n        M ${tickSizeOuter}, ${range0}\n        H 0\n        V ${range1}\n        H ${tickSizeOuter}\n      `\n    }\n  } else if (position === positionBottom) {\n    axisPath = `\n        M 0, ${tickSizeOuter}\n        V 0\n        H ${range1}\n        V ${tickSizeOuter}\n      `\n  } else {\n    axisPath = `\n        M 0, ${-tickSizeOuter}\n        V 0\n        H ${range1}\n        V ${-tickSizeOuter}\n              `\n  }\n\n  let showGridLine\n  if (typeof showGrid === 'boolean') {\n    showGridLine = showGrid\n  } else if (type === axisTypeOrdinal) {\n    showGridLine = false\n  } else {\n    showGridLine = true\n  }\n\n  // Combine default styles with style props\n  const axisStyles = {\n    ...defaultStyles,\n    ...styles,\n  }\n\n  return (\n    <Group\n      ref={elRef}\n      className=\"Axis\"\n      style={{\n        pointerEvents: 'none',\n        transform:\n          position === positionRight\n            ? Utils.translateX(gridWidth)\n            : position === positionBottom\n            ? Utils.translateY(gridHeight)\n            : undefined,\n      }}\n    >\n      <Path\n        className=\"domain\"\n        d={axisPath}\n        style={{\n          stroke: dark ? 'rgba(255,255,255, .1)' : 'rgba(0,0,0, .1)',\n          ...axisStyles.line,\n        }}\n      />\n      <Group className=\"ticks\" style={{}}>\n        {ticks.map((tick, i) => (\n          <Group\n            key={[String(tick), i].join('_')}\n            className=\"tick\"\n            style={{\n              transform: transform(scale(tick) || 0),\n            }}\n          >\n            {/* Render the grid line */}\n            {showGridLine && (\n              <Line\n                className=\"gridLine\"\n                x1={vertical ? 0 : gridOffset}\n                x2={vertical ? scaleMax : gridOffset}\n                y1={vertical ? gridOffset : 0}\n                y2={vertical ? gridOffset : scaleMax}\n                style={{\n                  stroke: dark ? 'rgba(255,255,255, .1)' : 'rgba(0,0,0, .1)',\n                  strokeWidth: 1,\n                  ...axisStyles.line,\n                }}\n              />\n            )}\n            {/* Render the tick line  */}\n            {showTicks ? (\n              <g className=\"labelGroup\">\n                <Line\n                  className=\"tickline\"\n                  x1={vertical ? 0 : tickOffset}\n                  x2={\n                    vertical ? directionMultiplier * tickSizeInner : tickOffset\n                  }\n                  y1={vertical ? tickOffset : 0}\n                  y2={\n                    vertical ? tickOffset : directionMultiplier * tickSizeInner\n                  }\n                  style={{\n                    stroke: dark ? 'rgba(255,255,255, .1)' : 'rgba(0,0,0, .1)',\n                    strokeWidth: 1,\n                    ...axisStyles.line,\n                  }}\n                />\n                <Text\n                  className=\"tickLabel\"\n                  style={{\n                    fill: dark ? 'white' : 'black',\n                    ...axisStyles.tick,\n                    transform: `${Utils.translate(\n                      vertical ? directionMultiplier * spacing : tickOffset,\n                      vertical ? tickOffset : directionMultiplier * spacing\n                    )} rotate(${-rotation}deg)`,\n                  }}\n                  dominantBaseline={\n                    rotation\n                      ? 'central'\n                      : position === positionBottom\n                      ? 'hanging'\n                      : position === positionTop\n                      ? 'alphabetic'\n                      : 'central'\n                  }\n                  textAnchor={\n                    rotation\n                      ? 'end'\n                      : position === positionRight\n                      ? 'start'\n                      : position === positionLeft\n                      ? 'end'\n                      : 'middle'\n                  }\n                >\n                  {format(tick, i)}\n                </Text>\n              </g>\n            ) : null}\n          </Group>\n        ))}\n      </Group>\n    </Group>\n  )\n}\n","import React from 'react'\n//\nimport AxisLinear from './AxisLinear'\n\nexport default function Axis(props) {\n  return <AxisLinear {...props} />\n}\n","import React from \"react\";\n//\nimport ChartContext from \"../utils/ChartContext\";\nimport Utils from \"../utils/Utils\";\n//\n\nconst triangleSize = 7;\n\nconst getBackgroundColor = dark =>\n  dark ? \"rgba(255,255,255,.9)\" : \"rgba(0, 26, 39, 0.9)\";\n\nexport default function Tooltip() {\n  const [chartState] = React.useContext(ChartContext);\n\n  const {\n    primaryAxes,\n    secondaryAxes,\n    gridX,\n    gridY,\n    gridWidth,\n    gridHeight,\n    dark,\n    focused,\n    latestFocused,\n    getDatumStyle,\n    tooltip\n  } = chartState;\n\n  const elRef = React.useRef();\n  const tooltipElRef = React.useRef();\n  const previousShowRef = React.useRef();\n\n  const {\n    align,\n    alignPriority,\n    padding,\n    tooltipArrowPadding,\n    //\n    arrowPosition,\n    render,\n    anchor,\n    show\n  } = tooltip || {};\n\n  const [finalAlign, setFinalAlign] = React.useState(align || \"auto\");\n\n  React.useEffect(\n    () => {\n      previousShowRef.current = show;\n    },\n    [show]\n  );\n\n  React.useLayoutEffect(\n    () => {\n      if (align !== \"auto\" || !elRef.current || !show || !anchor) {\n        return;\n      }\n\n      const space = {\n        left: Infinity,\n        top: Infinity,\n        right: Infinity,\n        bottom: Infinity\n      };\n\n      let container = elRef.current;\n      const gridDims = container.getBoundingClientRect();\n      const tooltipDims = tooltipElRef.current.getBoundingClientRect();\n\n      while (container !== document.body) {\n        container = container.parentElement;\n        const { overflowX, overflowY } = window.getComputedStyle(container);\n        if (\n          container === document.body ||\n          [overflowX, overflowY].find(d => [\"auto\", \"hidden\"].includes(d))\n        ) {\n          const containerDims = container.getBoundingClientRect();\n          const left = gridDims.left - containerDims.left + anchor.x;\n          const top = gridDims.top - containerDims.top + anchor.y;\n          const right = containerDims.width - left;\n          const bottom = containerDims.height - top;\n\n          space.left = Math.min(space.left, left);\n          space.top = Math.min(space.top, top);\n          space.right = Math.min(space.right, right);\n          space.bottom = Math.min(space.bottom, bottom);\n        }\n      }\n\n      let resolvedAlign = null;\n\n      alignPriority.forEach(priority => {\n        if (resolvedAlign) {\n          return;\n        }\n        const fits = {\n          left:\n            space.left -\n              tooltipArrowPadding -\n              padding -\n              anchor.horizontalPadding >\n            tooltipDims.width,\n          right:\n            space.right -\n              tooltipArrowPadding -\n              padding -\n              anchor.horizontalPadding >\n            tooltipDims.width,\n          top:\n            space.top - tooltipArrowPadding - padding - anchor.verticalPadding >\n              tooltipDims.height && space.left > tooltipDims.width / 2,\n          bottom:\n            space.bottom -\n              tooltipArrowPadding -\n              padding -\n              anchor.verticalPadding >\n            tooltipDims.height,\n          centeredFromLeft: space.left > tooltipDims.width / 2,\n          centeredFromRight: space.right > tooltipDims.width / 2,\n          centeredFromTop: space.top > tooltipDims.height / 2,\n          centeredFromBottom: space.bottom > tooltipDims.height / 2\n        };\n        if (priority === \"left\") {\n          if (fits.left && fits.centeredFromTop && fits.centeredFromBottom) {\n            resolvedAlign = priority;\n          }\n        } else if (priority === \"right\") {\n          if (fits.right && fits.centeredFromTop && fits.centeredFromBottom) {\n            resolvedAlign = priority;\n          }\n        } else if (priority === \"top\") {\n          if (fits.top && fits.centeredFromLeft && fits.centeredFromRight) {\n            resolvedAlign = priority;\n          }\n        } else if (priority === \"bottom\") {\n          if (fits.bottom && fits.centeredFromLeft && fits.centeredFromRight) {\n            resolvedAlign = priority;\n          }\n        } else if (priority === \"topLeft\") {\n          if (fits.top && fits.left) {\n            resolvedAlign = priority;\n          }\n        } else if (priority === \"topRight\") {\n          if (fits.top && fits.right) {\n            resolvedAlign = priority;\n          }\n        } else if (priority === \"bottomLeft\") {\n          if (fits.bottom && fits.left) {\n            resolvedAlign = priority;\n          }\n        } else if (priority === \"bottomRight\") {\n          if (fits.bottom && fits.right) {\n            resolvedAlign = priority;\n          }\n        }\n      });\n\n      if (resolvedAlign !== finalAlign) {\n        setFinalAlign(resolvedAlign);\n      }\n    },\n    [\n      align,\n      alignPriority,\n      anchor,\n      finalAlign,\n      padding,\n      show,\n      tooltipArrowPadding\n    ]\n  );\n\n  if (!tooltip) {\n    return null;\n  }\n\n  const resolvedFocused = focused || latestFocused;\n\n  let alignX = 0;\n  let alignY = -50;\n  let triangleStyles = {};\n\n  const backgroundColor = getBackgroundColor(dark);\n\n  let resolvedArrowPosition = arrowPosition;\n\n  if (finalAlign === \"top\") {\n    alignX = -50;\n    alignY = -100;\n  } else if (finalAlign === \"topRight\") {\n    alignX = 0;\n    alignY = -100;\n  } else if (finalAlign === \"right\") {\n    alignX = 0;\n    alignY = -50;\n  } else if (finalAlign === \"bottomRight\") {\n    alignX = 0;\n    alignY = 0;\n  } else if (finalAlign === \"bottom\") {\n    alignX = -50;\n    alignY = 0;\n  } else if (finalAlign === \"bottomLeft\") {\n    alignX = -100;\n    alignY = 0;\n  } else if (finalAlign === \"left\") {\n    alignX = -100;\n    alignY = -50;\n  } else if (finalAlign === \"topLeft\") {\n    alignX = -100;\n    alignY = -100;\n  } else if (finalAlign === \"center\") {\n    alignX = -50;\n    alignY = -50;\n  }\n\n  if (!resolvedArrowPosition) {\n    if (finalAlign === \"left\") {\n      resolvedArrowPosition = \"right\";\n    } else if (finalAlign === \"right\") {\n      resolvedArrowPosition = \"left\";\n    } else if (finalAlign === \"top\") {\n      resolvedArrowPosition = \"bottom\";\n    } else if (finalAlign === \"bottom\") {\n      resolvedArrowPosition = \"top\";\n    } else if (finalAlign === \"topRight\") {\n      resolvedArrowPosition = \"bottomLeft\";\n    } else if (finalAlign === \"bottomRight\") {\n      resolvedArrowPosition = \"topLeft\";\n    } else if (finalAlign === \"topLeft\") {\n      resolvedArrowPosition = \"bottomRight\";\n    } else if (finalAlign === \"bottomLeft\") {\n      resolvedArrowPosition = \"topRight\";\n    }\n  }\n\n  if (resolvedArrowPosition === \"bottom\") {\n    triangleStyles = {\n      top: \"100%\",\n      left: \"50%\",\n      transform: \"translate3d(-50%, 0%, 0)\",\n      borderLeft: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize * 0.8}px solid transparent`,\n      borderTop: `${triangleSize}px solid ${backgroundColor}`\n    };\n  } else if (resolvedArrowPosition === \"top\") {\n    triangleStyles = {\n      top: \"0%\",\n      left: \"50%\",\n      transform: \"translate3d(-50%, -100%, 0)\",\n      borderLeft: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize}px solid ${backgroundColor}`\n    };\n  } else if (resolvedArrowPosition === \"right\") {\n    triangleStyles = {\n      top: \"50%\",\n      left: \"100%\",\n      transform: \"translate3d(0%, -50%, 0)\",\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderLeft: `${triangleSize}px solid ${backgroundColor}`\n    };\n  } else if (resolvedArrowPosition === \"left\") {\n    triangleStyles = {\n      top: \"50%\",\n      left: \"0%\",\n      transform: \"translate3d(-100%, -50%, 0)\",\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize}px solid ${backgroundColor}`\n    };\n  } else if (resolvedArrowPosition === \"topRight\") {\n    triangleStyles = {\n      top: \"0%\",\n      left: \"100%\",\n      transform: \"translate3d(-50%, -50%, 0) rotate(-45deg)\",\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderLeft: `${triangleSize * 2}px solid ${backgroundColor}`\n    };\n  } else if (resolvedArrowPosition === \"bottomRight\") {\n    triangleStyles = {\n      top: \"100%\",\n      left: \"100%\",\n      transform: \"translate3d(-50%, -50%, 0) rotate(45deg)\",\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderLeft: `${triangleSize * 2}px solid ${backgroundColor}`\n    };\n  } else if (resolvedArrowPosition === \"topLeft\") {\n    triangleStyles = {\n      top: \"0%\",\n      left: \"0%\",\n      transform: \"translate3d(-50%, -50%, 0) rotate(45deg)\",\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize * 2}px solid ${backgroundColor}`\n    };\n  } else if (resolvedArrowPosition === \"bottomLeft\") {\n    triangleStyles = {\n      top: \"100%\",\n      left: \"0%\",\n      transform: \"translate3d(-50%, -50%, 0) rotate(-45deg)\",\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize * 2}px solid ${backgroundColor}`\n    };\n  } else {\n    triangleStyles = {\n      opacity: 0\n    };\n  }\n\n  const primaryAxis = Utils.getAxisByAxisID(\n    primaryAxes,\n    resolvedFocused ? resolvedFocused.series.primaryAxisID : null\n  );\n  const secondaryAxis = Utils.getAxisByAxisID(\n    secondaryAxes,\n    resolvedFocused ? resolvedFocused.series.secondaryAxisID : null\n  );\n\n  const resolvedHorizontalPadding = padding + anchor.horizontalPadding;\n  const resolvedVerticalPadding = padding + anchor.verticalPadding;\n\n  const renderProps = {\n    ...chartState,\n    ...chartState.tooltip,\n    datum: resolvedFocused,\n    getStyle: datum => datum.getStatusStyle(resolvedFocused, getDatumStyle),\n    primaryAxis,\n    secondaryAxis\n  };\n\n  const renderedChildren = React.createElement(render, renderProps);\n\n  let animateCoords;\n  if (previousShowRef.current === show) {\n    animateCoords = true;\n  }\n\n  return (\n    <div\n      className=\"tooltip-wrap\"\n      style={{\n        pointerEvents: \"none\",\n        position: \"absolute\",\n        left: `${gridX}px`,\n        top: `${gridY}px`,\n        width: `${gridWidth}px`,\n        height: `${gridHeight}px`,\n        opacity: show ? 1 : 0,\n        transition: \"all .3s ease\"\n      }}\n      ref={el => {\n        elRef.current = el;\n      }}\n    >\n      <div\n        style={{\n          position: \"absolute\",\n          left: 0,\n          top: 0,\n          transform: Utils.translate(anchor.x, anchor.y),\n          transition: animateCoords ? \"all .2s ease\" : \"opacity .2s ease\"\n        }}\n      >\n        <div\n          style={{\n            transform: `translate3d(${alignX}%, ${alignY}%, 0)`,\n            padding: `${tooltipArrowPadding +\n              resolvedVerticalPadding}px ${tooltipArrowPadding +\n              resolvedHorizontalPadding}px`,\n            width: \"auto\",\n            transition: \"all .2s ease\"\n          }}\n        >\n          <div\n            ref={el => {\n              tooltipElRef.current = el;\n            }}\n            style={{\n              fontSize: \"12px\",\n              padding: \"5px\",\n              background: getBackgroundColor(dark),\n              color: dark ? \"black\" : \"white\",\n              borderRadius: \"3px\",\n              position: \"relative\"\n            }}\n          >\n            <div\n              style={{\n                position: \"absolute\",\n                width: 0,\n                height: 0,\n                ...triangleStyles,\n                transition: animateCoords ? \"all .2s ease\" : \"none\"\n              }}\n            />\n            {renderedChildren}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\n//\nimport ChartContext from \"../utils/ChartContext\";\nimport Utils from \"../utils/Utils\";\n\nimport useLatest from \"../hooks/useLatest\";\n\nconst getLineBackgroundColor = dark =>\n  dark ? \"rgba(255,255,255,.3)\" : \"rgba(0, 26, 39, 0.3)\";\n\nconst getBackgroundColor = dark =>\n  dark ? \"rgba(255,255,255,.9)\" : \"rgba(0, 26, 39, 0.9)\";\n\nexport default function Cursor({ primary }) {\n  const [\n    {\n      primaryCursor,\n      secondaryCursor,\n      focused,\n      latestFocused,\n      gridX,\n      gridY,\n      dark\n    }\n  ] = React.useContext(ChartContext);\n\n  const resolvedFocused = focused || latestFocused;\n  const cursor = primary ? primaryCursor : secondaryCursor;\n\n  const {\n    showLine,\n    showLabel,\n    resolvedValue,\n    snap,\n    render,\n    axis,\n    siblingAxis,\n    resolvedShow\n  } = cursor || {};\n\n  const latestValue = useLatest(\n    resolvedValue,\n    typeof resolvedValue !== \"undefined\"\n  );\n\n  const previousShowRef = React.useRef();\n  React.useEffect(\n    () => {\n      previousShowRef.current = resolvedShow;\n    },\n    [resolvedShow]\n  );\n\n  if (!cursor) {\n    return null;\n  }\n\n  // Should we animate?\n  const animated = snap || axis.type === \"ordinal\";\n\n  // Get the sibling range\n  const siblingRange = siblingAxis.scale.range();\n\n  let x;\n  let y;\n  let x1;\n  let x2;\n  let y1;\n  let y2;\n  let alignPctX;\n  let alignPctY;\n\n  // Vertical alignment\n  if (axis.vertical) {\n    y = axis.scale(latestValue);\n    x1 = siblingRange[0];\n    x2 = siblingRange[1];\n    y1 = y - 1;\n    y2 = y + axis.cursorSize + 1;\n    if (axis.position === \"left\") {\n      alignPctX = -100;\n      alignPctY = -50;\n    } else {\n      alignPctX = 0;\n      alignPctY = -50;\n    }\n  } else {\n    x = axis.scale(latestValue);\n    x1 = x - 1;\n    x2 = x + axis.cursorSize + 1;\n    y1 = siblingRange[0];\n    y2 = siblingRange[1];\n    if (axis.position === \"top\") {\n      alignPctX = -500;\n      alignPctY = -100;\n    } else {\n      alignPctX = -50;\n      alignPctY = 0;\n    }\n  }\n\n  const renderProps = { ...cursor };\n\n  renderProps.formattedValue = String(\n    axis.vertical\n      ? typeof latestValue !== \"undefined\"\n        ? axis.format(\n            axis.stacked && !primary && resolvedFocused\n              ? resolvedFocused.totalValue\n              : latestValue\n          )\n        : \"\"\n      : typeof latestValue !== \"undefined\"\n      ? axis.format(\n          axis.stacked && !primary && resolvedFocused\n            ? resolvedFocused.totalValue\n            : latestValue\n        )\n      : \"\"\n  );\n\n  const lineStartX = Math.min(x1, x2);\n  const lineStartY = Math.min(y1, y2);\n  const lineEndX = Math.max(x1, x2);\n  const lineEndY = Math.max(y1, y2);\n  const bubbleX =\n    axis.vertical && axis.RTL\n      ? lineEndX\n      : x1 + (!axis.vertical ? (x2 - x1) / 2 : 0) + (!axis.vertical ? 1 : 0);\n  const bubbleY =\n    !axis.vertical && axis.RTL\n      ? lineStartY\n      : y1 + (axis.vertical ? (y2 - y1) / 2 : 0) + (axis.vertical ? 1 : 0);\n\n  const lineHeight = Math.max(lineEndY - lineStartY, 0);\n  const lineWidth = Math.max(lineEndX - lineStartX, 0);\n\n  let animateCoords;\n  if (previousShowRef.current === resolvedShow) {\n    animateCoords = true;\n  }\n\n  let renderedChildren = render(renderProps);\n\n  return (\n    <div\n      style={{\n        pointerEvents: \"none\",\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        transform: Utils.translate(gridX, gridY),\n        opacity: resolvedShow ? 1 : 0,\n        transition: \"all .3s ease\"\n      }}\n      className=\"Cursor\"\n    >\n      {/* Render the cursor line */}\n      {showLine ? (\n        <div\n          style={{\n            position: \"absolute\",\n            top: 0,\n            left: 0,\n            transform: Utils.translate(lineStartX, lineStartY),\n            width: `${lineWidth}px`,\n            height: `${lineHeight}px`,\n            background: getLineBackgroundColor(dark),\n            transition:\n              animated && animateCoords ? \"all .2s ease\" : \"opacity .2s ease\"\n          }}\n        />\n      ) : null}\n      {/* Render the cursor bubble */}\n      {showLabel ? (\n        <div\n          style={{\n            position: \"absolute\",\n            top: 0,\n            left: 0,\n            transform: Utils.translate(bubbleX, bubbleY),\n            transition:\n              animated && animateCoords ? \"all .2s ease\" : \"opacity .2s ease\"\n          }}\n        >\n          {/* Render the cursor label */}\n          <div\n            style={{\n              padding: \"5px\",\n              fontSize: \"10px\",\n              background: getBackgroundColor(dark),\n              color: getBackgroundColor(!dark),\n              borderRadius: \"3px\",\n              position: \"relative\",\n              transform: `translate3d(${alignPctX}%, ${alignPctY}%, 0)`,\n              whiteSpace: \"nowrap\"\n            }}\n          >\n            {renderedChildren}\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n","import React from 'react'\nimport Utils from '../utils/Utils'\n//\nimport ChartContext from '../utils/ChartContext'\n\nexport default function Brush() {\n  const [{ pointer, brush, gridX, gridY, gridHeight, dark }] = React.useContext(\n    ChartContext\n  )\n\n  if (!brush) {\n    return null\n  }\n\n  return (\n    <div\n      className=\"Brush\"\n      style={{\n        pointerEvents: 'none',\n        position: 'absolute',\n        left: 0,\n        top: 0,\n        transform: Utils.translate(gridX, gridY),\n        opacity: pointer.dragging\n          ? Math.abs(pointer.sourceX - pointer.x) < 20\n            ? 0.5\n            : 1\n          : 0,\n      }}\n    >\n      <div\n        style={{\n          position: 'absolute',\n          transform: Utils.translate(Math.min(pointer.x, pointer.sourceX), 0),\n          width: `${Math.abs(pointer.x - pointer.sourceX)}px`,\n          height: `${gridHeight}px`,\n          background: dark ? 'rgba(255,255,255,.3)' : 'rgba(0, 26, 39, 0.3)',\n          ...brush.style,\n        }}\n      />\n    </div>\n  )\n}\n","import React from 'react'\n//\nimport Raf from '../utils/Raf'\nimport Utils from '../utils/Utils'\nimport ChartContext from '../utils/ChartContext'\n\nimport useIsomorphicLayoutEffect from '../hooks/useIsomorphicLayoutEffect'\n\nimport Rectangle from '../primitives/Rectangle'\n\nimport Voronoi from './Voronoi'\nimport Axis from './Axis'\nimport Tooltip from './Tooltip'\nimport Cursor from './Cursor'\nimport Brush from './Brush'\n\nexport default React.forwardRef(function ChartInner(\n  { className, style = {}, ...rest },\n  ref\n) {\n  const [chartState] = React.useContext(ChartContext)\n  const [\n    {\n      width,\n      height,\n      offset,\n      gridX,\n      gridY,\n      stackData,\n      primaryAxes,\n      secondaryAxes,\n      renderSVG,\n      onClick,\n      seriesOptions,\n      getSeriesOrder,\n      focused,\n    },\n    setChartState,\n  ] = React.useContext(ChartContext)\n\n  const svgRef = React.useRef()\n\n  React.useLayoutEffect(() => {\n    if (!svgRef.current) {\n      return\n    }\n    const current = svgRef.current.getBoundingClientRect()\n    if (current.left !== offset.left || current.top !== offset.top) {\n      setChartState(state => ({\n        ...state,\n        offset: {\n          left: current.left,\n          top: current.top,\n        },\n      }))\n    }\n  })\n\n  const onMouseLeave = e => {\n    setChartState(state => ({\n      ...state,\n      focused: null,\n    }))\n    setChartState(state => ({\n      ...state,\n      pointer: {\n        ...state.pointer,\n        active: false,\n      },\n    }))\n  }\n\n  const rafRef = React.useRef()\n\n  const onMouseMove = e => {\n    if (rafRef.current) {\n      Raf.cancel(rafRef.current)\n    }\n    rafRef.current = Raf(() => {\n      rafRef.current = null\n      const { clientX, clientY } = e\n\n      setChartState(state => {\n        const x = clientX - offset.left - gridX\n        const y = clientY - offset.top - gridY\n\n        const pointer = {\n          ...state.pointer,\n          active: true,\n          x,\n          y,\n          dragging: state.pointer && state.pointer.down,\n        }\n        return {\n          ...state,\n          pointer,\n        }\n      })\n    })\n  }\n\n  const onMouseUp = () => {\n    document.removeEventListener('mouseup', onMouseUp)\n    document.removeEventListener('mousemove', onMouseMove)\n\n    setChartState(state => ({\n      ...state,\n      pointer: {\n        ...state.pointer,\n        down: false,\n        dragging: false,\n        released: {\n          x: state.pointer.x,\n          y: state.pointer.y,\n        },\n      },\n    }))\n  }\n\n  const onMouseDown = () => {\n    document.addEventListener('mouseup', onMouseUp)\n    document.addEventListener('mousemove', onMouseMove)\n\n    setChartState(state => ({\n      ...state,\n      pointer: {\n        ...state.pointer,\n        sourceX: state.pointer.x,\n        sourceY: state.pointer.y,\n        down: true,\n      },\n    }))\n  }\n\n  // Reverse the stack order for proper z-indexing\n  const reversedStackData = [...stackData].reverse()\n  const orderedStackData = getSeriesOrder(reversedStackData)\n\n  const focusedSeriesIndex = focused\n    ? orderedStackData.findIndex(series => series.id === focused.series.id)\n    : -1\n\n  // Bring focused series to the front\n  const focusOrderedStackData = focused\n    ? [\n        ...orderedStackData.slice(0, focusedSeriesIndex),\n        ...orderedStackData.slice(focusedSeriesIndex + 1),\n        orderedStackData[focusedSeriesIndex],\n      ]\n    : orderedStackData\n\n  const stacks = focusOrderedStackData.map(stack => {\n    return (\n      <stack.Component\n        key={stack.id}\n        {...seriesOptions[stack.index]}\n        series={stack}\n        stackData={stackData}\n      />\n    )\n  })\n\n  useIsomorphicLayoutEffect(() => {\n    if (\n      ref.current &&\n      ref.current.parentElement &&\n      !ref.current.parentElement.style.position\n    ) {\n      ref.current.parentElement.style.position = 'relative'\n    }\n  })\n\n  return (\n    <div\n      ref={ref}\n      {...rest}\n      className={`ReactChart ${className || ''}`}\n      style={{\n        width,\n        height,\n        position: 'absolute',\n        ...style,\n      }}\n    >\n      <svg\n        ref={svgRef}\n        style={{\n          width,\n          height,\n          overflow: 'hidden',\n        }}\n        onMouseEnter={e => e.persist() || onMouseMove(e)}\n        onMouseMove={e => e.persist() || onMouseMove(e)}\n        onMouseLeave={e => e.persist() || onMouseLeave(e)}\n        onMouseDown={e => e.persist() || onMouseDown(e)}\n        onClick={onClick}\n      >\n        <g\n          style={{\n            transform: Utils.translate(gridX, gridY),\n          }}\n        >\n          <Rectangle\n            // To ensure the pointer always has something to hit\n            x1={-gridX}\n            x2={width - gridX}\n            y1={-gridY}\n            y2={height - gridY}\n            style={{\n              opacity: 0,\n            }}\n          />\n          <Voronoi />\n          <g className=\"axes\">\n            {[...primaryAxes, ...secondaryAxes].map(axis => (\n              <Axis key={axis.id} {...axis} />\n            ))}\n          </g>\n          <g\n            className=\"Series\"\n            style={{\n              pointerEvents: 'none',\n            }}\n          >\n            {stacks}\n          </g>\n        </g>\n        {renderSVG\n          ? renderSVG({\n              chartState,\n              setChartState,\n            })\n          : null}\n      </svg>\n      <Cursor primary />\n      <Cursor />\n      <Brush />\n      <Tooltip />\n    </div>\n  )\n})\n","import React from 'react'\n//\n\nexport default ({\n  data,\n  getSeriesID,\n  getLabel,\n  getPrimaryAxisID,\n  getSecondaryAxisID,\n  getDatums,\n  getPrimary,\n  getSecondary,\n  getR\n}) => {\n  return React.useMemo(() => {\n    const materializedData = []\n\n    // First access the data, and provide it to the context\n    for (let seriesIndex = 0; seriesIndex < data.length; seriesIndex++) {\n      const originalSeries = data[seriesIndex]\n      const seriesID = getSeriesID(originalSeries, seriesIndex, data)\n      const seriesLabel = getLabel(originalSeries, seriesIndex, data)\n      const primaryAxisID = getPrimaryAxisID(originalSeries, seriesIndex, data)\n      const secondaryAxisID = getSecondaryAxisID(\n        originalSeries,\n        seriesIndex,\n        data\n      )\n      const originalDatums = getDatums(originalSeries, seriesIndex, data)\n      const datums = []\n\n      for (\n        let datumIndex = 0;\n        datumIndex < originalDatums.length;\n        datumIndex++\n      ) {\n        const originalDatum = originalDatums[datumIndex]\n        datums[datumIndex] = {\n          originalSeries,\n          seriesIndex,\n          seriesID,\n          seriesLabel,\n          index: datumIndex,\n          originalDatum,\n          primary: getPrimary(\n            originalDatum,\n            datumIndex,\n            originalSeries,\n            seriesIndex,\n            data\n          ),\n          secondary: getSecondary(\n            originalDatum,\n            datumIndex,\n            originalSeries,\n            seriesIndex,\n            data\n          ),\n          r: getR(originalDatum, datumIndex, originalSeries, seriesIndex, data)\n        }\n      }\n\n      materializedData[seriesIndex] = {\n        originalSeries,\n        index: seriesIndex,\n        id: seriesID,\n        label: seriesLabel,\n        primaryAxisID,\n        secondaryAxisID,\n        datums\n      }\n    }\n\n    return materializedData\n  }, [\n    data,\n    getDatums,\n    getLabel,\n    getPrimary,\n    getPrimaryAxisID,\n    getR,\n    getSecondary,\n    getSecondaryAxisID,\n    getSeriesID\n  ])\n}\n","import React from \"react\";\n//\nimport ChartContext from \"../utils/ChartContext\";\n\nexport default function useSeriesStyle(series) {\n  const [{ focused, getSeriesStyle }] = React.useContext(ChartContext);\n  return series.getStatusStyle(focused, getSeriesStyle);\n}\n","import React from \"react\";\n//\nimport ChartContext from \"../utils/ChartContext\";\n\nexport default function useDatumStyle(datum) {\n  const [{ focused, getDatumStyle }] = React.useContext(ChartContext);\n  return datum.getStatusStyle(focused, getDatumStyle);\n}\n","import React from 'react'\n//\n\nconst defaultStyle = {\n  r: 2,\n  strokeWidth: '1',\n  stroke: '#000000',\n  fill: '#000000',\n  opacity: 1,\n}\n\nexport default function Circle({ x, y, r, style, ...rest }) {\n  const resolvedStyle = {\n    ...defaultStyle,\n    ...style,\n  }\n\n  return (\n    <circle {...rest} cx={x || 0} cy={y || 0} r={1} style={resolvedStyle} />\n  )\n}\n","import React from 'react'\nimport { line } from '../../d3'\n\n//\nimport ChartContext from '../utils/ChartContext'\nimport Utils from '../utils/Utils'\nimport { curveMonotoneX } from '../utils/Curves'\n\nimport useSeriesStyle from '../hooks/useSeriesStyle'\nimport useDatumStyle from '../hooks/useDatumStyle'\n\nimport Path from '../primitives/Path'\nimport Circle from '../primitives/Circle'\n\nconst pathDefaultStyle = {\n  strokeWidth: 2,\n}\n\nconst circleDefaultStyle = {\n  r: 2,\n}\n\nexport default function Line({ series, showPoints, curve }) {\n  const lineFn = React.useMemo(\n    () =>\n      line()\n        .x(d => d.x)\n        .y(d => d.y)\n        .defined(d => d.defined)\n        .curve(curve),\n    [curve]\n  )\n  const path = React.useMemo(() => lineFn(series.datums), [\n    lineFn,\n    series.datums,\n  ])\n\n  const style = useSeriesStyle(series)\n\n  const pathProps = {\n    d: path,\n    style: {\n      ...pathDefaultStyle,\n      ...style,\n      ...style.line,\n      fill: 'none',\n    },\n  }\n\n  return (\n    <g>\n      <Path {...pathProps} />\n      {showPoints &&\n        series.datums.map((datum, i) => {\n          return (\n            <Point\n              {...{\n                key: i,\n                datum,\n                style,\n              }}\n            />\n          )\n        })}\n    </g>\n  )\n}\n\nLine.defaultProps = {\n  curve: curveMonotoneX,\n}\n\nLine.plotDatum = (datum, { primaryAxis, secondaryAxis, xAxis, yAxis }) => {\n  datum.primaryCoord = primaryAxis.scale(datum.primary)\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary)\n  datum.x = xAxis.scale(datum.xValue)\n  datum.y = yAxis.scale(datum.yValue)\n  datum.defined =\n    Utils.isValidPoint(datum.xValue) && Utils.isValidPoint(datum.yValue)\n  datum.base = primaryAxis.vertical\n    ? xAxis.scale(datum.baseValue)\n    : yAxis.scale(datum.baseValue)\n\n  // Adjust non-bar elements for ordinal scales\n  if (xAxis.type === 'ordinal') {\n    datum.x += xAxis.tickOffset\n  }\n  if (yAxis.type === 'ordinal') {\n    datum.y += yAxis.tickOffset\n  }\n\n  // Set the default anchor point\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y,\n  }\n\n  // Set the pointer points (used in voronoi)\n  datum.boundingPoints = [datum.anchor]\n}\n\nLine.buildStyles = (series, { defaultColors }) => {\n  const defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)],\n  }\n\n  Utils.buildStyleGetters(series, defaults)\n}\n\nfunction Point({ datum, style }) {\n  const [, setChartState] = React.useContext(ChartContext)\n\n  const dataStyle = useDatumStyle(datum)\n\n  const circleProps = {\n    x: datum ? datum.x : undefined,\n    y: datum ? datum.y : undefined,\n    style: {\n      ...circleDefaultStyle,\n      ...style,\n      ...style.circle,\n      ...dataStyle,\n      ...dataStyle.circle,\n    },\n    onMouseEnter: React.useCallback(\n      e =>\n        setChartState(state => ({\n          ...state,\n          element: datum,\n        })),\n      [datum, setChartState]\n    ),\n    onMouseLeave: React.useCallback(\n      e =>\n        setChartState(state => ({\n          ...state,\n          element: null,\n        })),\n      [setChartState]\n    ),\n  }\n\n  if (!datum.defined) {\n    return null\n  }\n\n  return <Circle {...circleProps} />\n}\n","import React from 'react'\n//\n\nimport ChartContext from '../utils/ChartContext'\nimport Utils from '../utils/Utils'\n\nimport useSeriesStyle from '../hooks/useSeriesStyle'\nimport useDatumStyle from '../hooks/useDatumStyle'\n\nimport Circle from '../primitives/Circle'\n\nconst circleDefaultStyle = {\n  r: 2,\n}\n\nexport default function Bubble({ series }) {\n  const style = useSeriesStyle(series)\n\n  return (\n    <g>\n      {series.datums.map((datum, i) => {\n        return (\n          <Point\n            {...{\n              key: i,\n              datum,\n              style,\n            }}\n          />\n        )\n      })}\n    </g>\n  )\n}\n\nBubble.plotDatum = (datum, { primaryAxis, secondaryAxis, xAxis, yAxis }) => {\n  datum.primaryCoord = primaryAxis.scale(datum.primary)\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary)\n  datum.x = xAxis.scale(datum.xValue)\n  datum.y = yAxis.scale(datum.yValue)\n  datum.defined =\n    Utils.isValidPoint(datum.xValue) && Utils.isValidPoint(datum.yValue)\n  datum.base = primaryAxis.vertical\n    ? xAxis.scale(datum.baseValue)\n    : yAxis.scale(datum.baseValue)\n  // Adjust non-bar elements for ordinal scales\n  if (xAxis.type === 'ordinal') {\n    datum.x += xAxis.tickOffset\n  }\n  if (yAxis.type === 'ordinal') {\n    datum.y += yAxis.tickOffset\n  }\n\n  // Set the default anchor point\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y,\n    verticalPadding: datum.r,\n    horizontalPadding: datum.r,\n  }\n\n  // Set the pointer points (used in voronoi)\n  datum.boundingPoints = [datum.anchor]\n}\n\nBubble.buildStyles = (series, { defaultColors }) => {\n  const defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)],\n  }\n\n  Utils.buildStyleGetters(series, defaults)\n}\n\nfunction Point({ datum, style }) {\n  const dataStyle = useDatumStyle(datum)\n  const [, setChartState] = React.useContext(ChartContext)\n\n  const circleProps = {\n    x: datum ? datum.x : undefined,\n    y: datum ? datum.y : undefined,\n    style: {\n      ...circleDefaultStyle,\n      ...(typeof datum.r !== 'undefined'\n        ? {\n            r: datum.r,\n          }\n        : {}),\n      ...style,\n      ...style.circle,\n      ...dataStyle,\n      ...dataStyle.circle,\n    },\n    onMouseEnter: React.useCallback(\n      e =>\n        setChartState(state => ({\n          ...state,\n          element: datum,\n        })),\n      [datum, setChartState]\n    ),\n    onMouseLeave: React.useCallback(\n      e =>\n        setChartState(state => ({\n          ...state,\n          element: null,\n        })),\n      [setChartState]\n    ),\n  }\n\n  if (!datum.defined) {\n    return null\n  }\n  return <Circle {...circleProps} />\n}\n","import React from 'react'\nimport { area, line } from '../../d3'\n//\n\nimport ChartContext from '../utils/ChartContext'\nimport Utils from '../utils/Utils'\nimport { curveLinear } from '../utils/Curves'\n\nimport useSeriesStyle from '../hooks/useSeriesStyle'\nimport useDatumStyle from '../hooks/useDatumStyle'\n\nimport Path from '../primitives/Path'\nimport Line from '../primitives/Line'\nimport Circle from '../primitives/Circle'\n\nconst defaultAreaStyle = {\n  strokeWidth: 0,\n}\n\nconst defaultLineStyle = {\n  strokeWidth: 2,\n}\n\nconst circleDefaultStyle = {\n  r: 1.5,\n}\n\nexport default function Area({ series, showOrphans, showPoints, curve }) {\n  const areaFn = React.useMemo(\n    () =>\n      area()\n        .x(d => d.x)\n        .y0(d => d.base)\n        .y1(d => d.y)\n        .defined(d => d.defined)\n        .curve(curve),\n    [curve]\n  )\n\n  const lineFn = React.useMemo(\n    () =>\n      line()\n        .x(d => d.x)\n        .y(d => d.y)\n        .defined(d => d.defined)\n        .curve(curve),\n    [curve]\n  )\n\n  const areaPath = React.useMemo(() => areaFn(series.datums), [\n    areaFn,\n    series.datums,\n  ])\n\n  const linePath = React.useMemo(() => lineFn(series.datums), [\n    lineFn,\n    series.datums,\n  ])\n\n  const style = useSeriesStyle(series)\n\n  const areaPathProps = {\n    d: areaPath,\n    style: {\n      ...defaultAreaStyle,\n      ...style,\n      ...style.area,\n    },\n  }\n\n  const linePathProps = {\n    d: linePath,\n    style: {\n      ...defaultLineStyle,\n      ...style,\n      ...style.line,\n      fill: 'none',\n    },\n  }\n\n  return (\n    <g>\n      <Path {...areaPathProps} />\n      <Path {...linePathProps} />\n      {showOrphans &&\n        series.datums.map((datum, index, all) => {\n          return (\n            <OrphanLine\n              {...{\n                key: index,\n                datum,\n                style,\n                all,\n                index,\n              }}\n            />\n          )\n        })}\n      {showPoints &&\n        series.datums.map((datum, i) => {\n          return (\n            <Point\n              {...{\n                key: i,\n                datum,\n                style,\n              }}\n            />\n          )\n        })}\n    </g>\n  )\n}\n\nArea.defaultProps = {\n  showOrphans: true,\n  showLine: true,\n  showPoints: true,\n  curve: curveLinear,\n}\n\nArea.plotDatum = (datum, { primaryAxis, secondaryAxis, xAxis, yAxis }) => {\n  // Turn clamping on for secondaryAxis\n  secondaryAxis.scale.clamp(true)\n\n  datum.primaryCoord = primaryAxis.scale(datum.primary)\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary)\n  datum.x = xAxis.scale(datum.xValue)\n  datum.y = yAxis.scale(datum.yValue)\n  datum.defined =\n    Utils.isValidPoint(datum.xValue) && Utils.isValidPoint(datum.yValue)\n  datum.base = primaryAxis.vertical\n    ? xAxis.scale(datum.baseValue)\n    : yAxis.scale(datum.baseValue)\n\n  // Turn clamping back off for secondaryAxis\n  secondaryAxis.scale.clamp(false)\n\n  // Adjust non-bar elements for ordinal scales\n  if (xAxis.type === 'ordinal') {\n    datum.x += xAxis.tickOffset\n  }\n  if (yAxis.type === 'ordinal') {\n    datum.y += yAxis.tickOffset\n  }\n\n  // Set the default anchor point\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y,\n  }\n\n  // Set the pointer points (used in voronoi)\n  datum.boundingPoints = [\n    datum.anchor,\n    {\n      x: primaryAxis.vertical\n        ? primaryAxis.position === 'left'\n          ? datum.base - 1\n          : datum.base\n        : datum.anchor.x,\n      y: !primaryAxis.vertical\n        ? primaryAxis.position === 'bottom'\n          ? datum.base - 1\n          : datum.base\n        : datum.anchor.y,\n    },\n  ]\n}\n\nArea.buildStyles = (series, { defaultColors }) => {\n  const defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)],\n  }\n\n  Utils.buildStyleGetters(series, defaults)\n}\n\nconst OrphanLine = function OrphanLine({ datum, style, all, index }) {\n  const prev = all[index - 1] || { defined: false }\n  const next = all[index + 1] || { defined: false }\n\n  const dataStyle = useDatumStyle(datum)\n\n  const lineProps = {\n    x1: !datum || Number.isNaN(datum.x) ? null : datum.x,\n    y1: !datum || Number.isNaN(datum.base) ? null : datum.base,\n    x2: !datum || Number.isNaN(datum.x) ? null : datum.x,\n    y2: !datum || Number.isNaN(datum.y) ? null : datum.y,\n    style: {\n      ...defaultLineStyle,\n      ...style,\n      ...style.line,\n      ...dataStyle,\n      ...dataStyle.line,\n    },\n  }\n\n  if (!datum.defined || prev.defined || next.defined) {\n    return null\n  }\n\n  return <Line {...lineProps} />\n}\n\nfunction Point({ datum, style }) {\n  const [, setChartState] = React.useContext(ChartContext)\n\n  const dataStyle = useDatumStyle(datum)\n\n  const circleProps = {\n    x: datum ? datum.x : undefined,\n    y: datum ? datum.y : undefined,\n    style: {\n      ...circleDefaultStyle,\n      ...style,\n      ...style.circle,\n      ...dataStyle,\n      ...dataStyle.circle,\n    },\n    onMouseEnter: React.useCallback(\n      e =>\n        setChartState(state => ({\n          ...state,\n          element: datum,\n        })),\n      [datum, setChartState]\n    ),\n    onMouseLeave: React.useCallback(\n      e =>\n        setChartState(state => ({\n          ...state,\n          element: null,\n        })),\n      [setChartState]\n    ),\n  }\n\n  if (!datum.defined) {\n    return null\n  }\n\n  return <Circle {...circleProps} />\n}\n","import React from 'react'\n//\nimport ChartContext from '../utils/ChartContext'\nimport Utils from '../utils/Utils'\n\nimport useSeriesStyle from '../hooks/useSeriesStyle'\nimport useDatumStyle from '../hooks/useDatumStyle'\n\nimport Rectangle from '../primitives/Rectangle'\n\nexport default function Bar({ series }) {\n  const [{ primaryAxes }] = React.useContext(ChartContext)\n\n  const style = useSeriesStyle(series)\n\n  const { barOffset } = series.primaryAxisID\n    ? primaryAxes.find(d => d.id === series.primaryAxisID)\n    : primaryAxes[0]\n\n  return (\n    <g className=\"series bar\">\n      {series.datums.map((datum, i) => {\n        return (\n          <BarPiece\n            key={i}\n            {...{\n              datum,\n              barOffset,\n              style,\n            }}\n          />\n        )\n      })}\n    </g>\n  )\n}\n\nfunction BarPiece({ datum, barOffset, style }) {\n  const [{ primaryAxes }, setChartState] = React.useContext(ChartContext)\n\n  const x = datum ? datum.x : 0\n  const y = datum ? datum.y : 0\n  const base = datum ? datum.base : 0\n  const size = datum ? datum.size : 0\n  let x1\n  let y1\n  let x2\n  let y2\n  if (primaryAxes.find(d => d.vertical)) {\n    x1 = base\n    x2 = x\n    y1 = y + barOffset\n    y2 = y1 + size\n  } else {\n    x1 = x + barOffset\n    x2 = x1 + size\n    y1 = y\n    y2 = base\n  }\n\n  const dataStyle = useDatumStyle(datum)\n\n  const rectangleProps = {\n    style: {\n      pointerEvents: 'all',\n      ...style,\n      ...style.rectangle,\n      ...dataStyle,\n      ...dataStyle.rectangle,\n    },\n    x1: Number.isNaN(x1) ? null : x1,\n    y1: Number.isNaN(y1) ? null : y1,\n    x2: Number.isNaN(x2) ? null : x2,\n    y2: Number.isNaN(y2) ? null : y2,\n    onMouseEnter: React.useCallback(\n      e =>\n        setChartState(state => ({\n          ...state,\n          element: datum,\n        })),\n      [datum, setChartState]\n    ),\n    onMouseLeave: React.useCallback(\n      e =>\n        setChartState(state => ({\n          ...state,\n          element: null,\n        })),\n      [setChartState]\n    ),\n  }\n\n  return <Rectangle {...rectangleProps} />\n}\n\nBar.plotDatum = (datum, { xAxis, yAxis, primaryAxis, secondaryAxis }) => {\n  // Turn clamping on for secondaryAxis\n  secondaryAxis.scale.clamp(true)\n\n  datum.primaryCoord = primaryAxis.scale(datum.primary)\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary)\n  datum.x = xAxis.scale(datum.xValue)\n  datum.y = yAxis.scale(datum.yValue)\n  datum.defined =\n    Utils.isValidPoint(datum.xValue) && Utils.isValidPoint(datum.yValue)\n  datum.base = secondaryAxis.scale(datum.baseValue)\n  datum.size = primaryAxis.barSize\n\n  // Turn clamping back off for secondaryAxis\n  secondaryAxis.scale.clamp(false)\n\n  if (!secondaryAxis.stacked) {\n    datum.size = primaryAxis.seriesBarSize\n    // Use the seriesTypeIndex here in case we have mixed types.\n    const seriesBandScaleOffset = primaryAxis.seriesBandScale(\n      datum.seriesTypeIndex\n    )\n    if (secondaryAxis.vertical) {\n      datum.x += seriesBandScaleOffset\n    } else {\n      datum.y += seriesBandScaleOffset\n    }\n  }\n\n  // Set the default anchor point\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y,\n    horizontalPadding: secondaryAxis.vertical ? datum.size / 2 : 0,\n    verticalPadding: secondaryAxis.vertical ? 0 : datum.size / 2,\n  }\n\n  // Adjust the anchor point for bars\n  if (!primaryAxis.vertical) {\n    datum.anchor.x += primaryAxis.type !== 'ordinal' ? 0 : datum.size / 2\n  } else {\n    datum.anchor.y += primaryAxis.type !== 'ordinal' ? 0 : datum.size / 2\n  }\n\n  // Set the pointer points (used in voronoi)\n  datum.boundingPoints = [\n    // End of bar\n    datum.anchor,\n    // Start of bar\n    {\n      x: primaryAxis.vertical\n        ? primaryAxis.position === 'left'\n          ? datum.base + 1\n          : datum.base\n        : datum.anchor.x,\n      y: !primaryAxis.vertical\n        ? primaryAxis.position === 'bottom'\n          ? datum.base - 1\n          : datum.base\n        : datum.anchor.y,\n    },\n  ]\n}\n\nBar.buildStyles = (series, { defaultColors }) => {\n  const defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)],\n  }\n\n  Utils.buildStyleGetters(series, defaults)\n}\n","import React from 'react'\n//\n\nimport { curveMonotoneX } from '../../utils/Curves'\n\nimport Line from '../../seriesTypes/Line'\nimport Bubble from '../../seriesTypes/Bubble'\nimport Area from '../../seriesTypes/Area'\nimport Bar from '../../seriesTypes/Bar'\n\nconst seriesTypes = {\n  line: Line,\n  bubble: Bubble,\n  area: Area,\n  bar: Bar,\n  // pie: Pie\n}\n\nconst defaultSeries = {\n  type: 'line',\n  showPoints: true,\n  showOrphans: true,\n  curve: curveMonotoneX,\n}\n\nexport default ({ materializedData, series }) => {\n  return React.useMemo(\n    () =>\n      materializedData.map((s, seriesIndex) => {\n        const { type, ...rest } = {\n          ...defaultSeries,\n          ...(typeof series === 'function' ? series(s, seriesIndex) : series),\n        }\n        const renderer = seriesTypes[type]\n        if (!renderer) {\n          throw new Error(`Could not find a registered series type for ${type}`)\n        }\n        return {\n          ...rest,\n          type,\n          renderer,\n        }\n      }),\n    [materializedData, series]\n  )\n}\n","import React from 'react'\n\nexport default ({ materializedData, seriesOptions }) =>\n  React.useMemo(() => {\n    return materializedData\n      .map((series, i) => {\n        series.Component = seriesOptions[i].renderer\n        return series\n      })\n      .map((series, i, all) => {\n        const seriesTypeIndex = all.filter(\n          (d, j) => j < i && d.Component === series.Component\n        ).length\n        return {\n          ...series,\n          seriesTypeIndex,\n          datums: series.datums.map(datum => ({\n            ...datum,\n            seriesTypeIndex\n          }))\n        }\n      })\n  }, [materializedData, seriesOptions])\n","import React from 'react'\n\nimport Utils from '../../utils/Utils'\n\nexport default ({ width, height, axisDimensions, padding, offset }) => {\n  offset = React.useMemo(() => {\n    return {\n      left: offset.left || 0,\n      top: offset.top || 0\n    }\n  }, [offset])\n\n  const { gridX, gridY, gridWidth, gridHeight } = React.useMemo(() => {\n    // Left\n    const axesLeftWidth =\n      (axisDimensions.left && Utils.sumObjBy(axisDimensions.left, 'width')) || 0\n    const axesLeftTop =\n      (axisDimensions.left && Utils.sumObjBy(axisDimensions.left, 'top')) || 0\n    const axesLeftBottom =\n      (axisDimensions.left && Utils.sumObjBy(axisDimensions.left, 'bottom')) ||\n      0\n\n    // Right\n    const axesRightWidth =\n      (axisDimensions.right && Utils.sumObjBy(axisDimensions.right, 'width')) ||\n      0\n    const axesRightTop =\n      (axisDimensions.right && Utils.sumObjBy(axisDimensions.right, 'top')) || 0\n    const axesRightBottom =\n      (axisDimensions.right &&\n        Utils.sumObjBy(axisDimensions.right, 'bottom')) ||\n      0\n\n    // Top\n    const axesTopHeight =\n      (axisDimensions.top && Utils.sumObjBy(axisDimensions.top, 'height')) || 0\n    const axesTopLeft =\n      (axisDimensions.top && Utils.sumObjBy(axisDimensions.top, 'left')) || 0\n    const axesTopRight =\n      (axisDimensions.top && Utils.sumObjBy(axisDimensions.top, 'right')) || 0\n\n    // Bottom\n    const axesBottomHeight =\n      (axisDimensions.bottom &&\n        Utils.sumObjBy(axisDimensions.bottom, 'height')) ||\n      0\n    const axesBottomLeft =\n      (axisDimensions.bottom &&\n        Utils.sumObjBy(axisDimensions.bottom, 'left')) ||\n      0\n    const axesBottomRight =\n      (axisDimensions.bottom &&\n        Utils.sumObjBy(axisDimensions.bottom, 'right')) ||\n      0\n\n    const paddingLeft = padding.left || 0\n    const paddingRight = padding.right || 0\n    const paddingTop = padding.top || 0\n    const paddingBottom = padding.bottom || 0\n\n    const gridX =\n      paddingLeft + Math.max(axesLeftWidth, axesTopLeft, axesBottomLeft)\n\n    const gridY =\n      paddingTop + Math.max(axesTopHeight, axesLeftTop, axesRightTop)\n\n    const gridWidth =\n      width -\n      paddingLeft -\n      paddingRight -\n      Math.max(axesLeftWidth, axesTopLeft, axesBottomLeft) -\n      Math.max(axesRightWidth, axesTopRight, axesBottomRight)\n\n    const gridHeight =\n      height -\n      paddingTop -\n      paddingBottom -\n      Math.max(axesTopHeight, axesLeftTop, axesRightTop) -\n      Math.max(axesBottomHeight, axesLeftBottom, axesRightBottom)\n\n    return { gridX, gridY, gridWidth, gridHeight }\n  }, [width, height, axisDimensions, padding])\n\n  return {\n    offset,\n    gridX,\n    gridY,\n    gridWidth,\n    gridHeight\n  }\n}\n","import { scaleLinear, scaleLog, scaleTime, scaleUtc, scaleBand } from '../../d3'\n//\nimport {\n  positionTop,\n  positionRight,\n  positionBottom,\n  positionLeft,\n  axisTypeOrdinal,\n  axisTypeTime,\n  axisTypeUtc,\n  axisTypeLinear,\n  axisTypeLog,\n} from '../utils/Constants.js'\nimport Utils from '../utils/Utils'\n\nimport Bar from '../seriesTypes/Bar'\n\nconst scales = {\n  [axisTypeLinear]: scaleLinear,\n  [axisTypeLog]: scaleLog,\n  [axisTypeTime]: scaleTime,\n  [axisTypeUtc]: scaleUtc,\n  [axisTypeOrdinal]: scaleBand,\n}\n\nconst detectVertical = d => [positionLeft, positionRight].indexOf(d) > -1\nconst detectRTL = d => [positionTop, positionRight].indexOf(d) > -1\n\nexport default function buildAxisLinear({\n  axis: {\n    primary,\n    type,\n    invert,\n    position,\n    primaryAxisID,\n    min: userMin = undefined,\n    max: userMax = undefined,\n    hardMin = undefined,\n    hardMax = undefined,\n    base = undefined,\n    tickCount = 'auto',\n    minTickCount = 0,\n    maxTickCount = Infinity,\n    tickValues = null,\n    format: userFormat = null,\n    tickSizeInner = 6,\n    tickSizeOuter = 6,\n    tickPadding = 14,\n    maxLabelRotation = 50,\n    labelRotationStep = 5,\n    innerPadding = 0.2,\n    outerPadding = 0.1,\n    showGrid = null,\n    showTicks = true,\n    show = true,\n    stacked = false,\n    id: userID,\n  },\n  materializedData,\n  gridHeight,\n  gridWidth,\n  axisDimensions,\n}) {\n  if (!position) {\n    throw new Error(`Chart axes must have a valid 'position' property`)\n  }\n  // Detect some settings\n  const valueKey = primary ? 'primary' : 'secondary'\n  const groupKey = !primary && 'primary'\n  const AxisIDKey = `${valueKey}AxisID`\n  const vertical = detectVertical(position)\n  const RTL = detectRTL(position) // Right to left OR top to bottom\n\n  const id = userID || `${position}_${type}`\n\n  // TODO: Any sorting needs to happen here, else the min/max's might not line up correctly\n\n  // First we need to find unique values, min/max values and negative/positive totals\n  const uniqueVals = []\n  let min\n  let max\n  let negativeTotalByKey = {}\n  let positiveTotalByKey = {}\n  let domain\n\n  // const axisDimension =\n  //   axisDimensions && axisDimensions[position] && axisDimensions[position][id]\n\n  // Loop through each series\n  for (\n    let seriesIndex = 0;\n    seriesIndex < materializedData.length;\n    seriesIndex++\n  ) {\n    if (\n      materializedData[seriesIndex][AxisIDKey] &&\n      materializedData[seriesIndex][AxisIDKey] !== id\n    ) {\n      continue\n    }\n    // Loop through each datum\n    for (\n      let datumIndex = 0;\n      datumIndex < materializedData[seriesIndex].datums.length;\n      datumIndex++\n    ) {\n      const datum = materializedData[seriesIndex].datums[datumIndex]\n      let value\n      const key = groupKey ? datum[groupKey] : datumIndex\n      // For ordinal scales, unique the values\n      if (type === axisTypeOrdinal) {\n        if (uniqueVals.indexOf() === -1) {\n          uniqueVals.push(\n            materializedData[seriesIndex].datums[datumIndex][valueKey]\n          )\n        }\n      } else if (type === axisTypeTime || type === axisTypeUtc) {\n        value = +datum[valueKey]\n      } else {\n        value = datum[valueKey]\n      }\n\n      // Add to stack total\n      if (stacked) {\n        if (value > 0) {\n          positiveTotalByKey[key] =\n            typeof positiveTotalByKey[key] !== 'undefined'\n              ? positiveTotalByKey[key] + value\n              : value\n        } else {\n          negativeTotalByKey[key] =\n            typeof negativeTotalByKey[key] !== 'undefined'\n              ? negativeTotalByKey[key] + value\n              : value\n        }\n      } else {\n        // Find min/max\n        min = typeof min !== 'undefined' ? Math.min(min, value) : value\n        max = typeof max !== 'undefined' ? Math.max(max, value) : value\n      }\n    }\n  }\n\n  if (type === axisTypeOrdinal) {\n    domain = uniqueVals\n  } else if (stacked) {\n    domain = [\n      Math.min(0, ...Object.values(negativeTotalByKey)),\n      Math.max(0, ...Object.values(positiveTotalByKey)),\n    ]\n  } else {\n    domain = [min, max]\n  }\n\n  // Now we need to figure out the range\n  let range = [0, vertical ? gridHeight : gridWidth] // axes by default read from top to bottom and left to right\n  if (vertical && !primary) {\n    // Vertical secondary ranges get inverted by default\n    range.reverse()\n  }\n\n  // Give the scale a home\n  let scale\n\n  // If this is an ordinal or other primary axis, it needs to be able to display bars.\n  let bandScale\n  let barSize = 0\n  let cursorSize = 0\n  let stepSize = 0\n\n  let seriesBandScale = d => d\n  let seriesBarSize = 1\n\n  if (type === axisTypeOrdinal || primary) {\n    // Calculate a band axis that is similar and pass down the bandwidth\n    // just in case.\n    bandScale = scaleBand()\n      .domain(\n        materializedData\n          .reduce(\n            (prev, current) =>\n              current.datums.length > prev.length ? current.datums : prev,\n            []\n          )\n          .map(d => d.primary)\n      )\n      .rangeRound(range, 0.1)\n      .padding(0)\n\n    bandScale.paddingOuter(outerPadding).paddingInner(innerPadding)\n    barSize = bandScale.bandwidth()\n\n    if (type === axisTypeOrdinal) {\n      cursorSize = barSize\n    }\n\n    // barSize = bandScale.bandwidth()\n    stepSize = bandScale.step()\n\n    // Create a seriesBandScale in case this axis isn't stacked\n    seriesBandScale = scaleBand()\n      .paddingInner(innerPadding / 2)\n      .domain(\n        materializedData.filter(d => d.Component === Bar).map((d, i) => i)\n      )\n      .rangeRound([0, barSize])\n\n    seriesBarSize = seriesBandScale.bandwidth()\n  }\n\n  if (type === axisTypeOrdinal) {\n    // If it's ordinal, just assign the bandScale we made\n    scale = bandScale\n  } else {\n    // Otherwise, create a new scale of the appropriate type\n    scale = scales[type]()\n  }\n\n  // Set base, min, and max\n  if (typeof base === 'number') {\n    domain[0] = Math.min(domain[0], base)\n    domain[1] = Math.max(domain[1], base)\n  }\n  if (typeof defaultMin === 'number') {\n    domain[0] = Math.min(domain[0], userMin)\n  }\n  if (typeof defaultMax === 'number') {\n    domain[1] = Math.max(domain[1], userMax)\n  }\n\n  // Set the domain\n  scale.domain(domain)\n\n  // If we're not using an ordinal scale, round the ticks to \"nice\" values\n  if (type !== axisTypeOrdinal) {\n    scale.nice()\n  }\n\n  // If hard min and max are set, override any \"nice\" rounding values\n  if (typeof hardMin === 'number') {\n    scale.domain([hardMin, scale.domain()[1]])\n  }\n  if (typeof hardMax === 'number') {\n    scale.domain([scale.domain()[0], hardMax])\n  }\n\n  // Invert if necessary\n  if (invert) {\n    scale.domain([...scale.domain()].reverse())\n  }\n\n  // Now set the range\n  scale.range(range)\n\n  const scaleFormat = scale.tickFormat ? scale.tickFormat() : Utils.identity\n\n  const format = userFormat\n    ? (value, index) => userFormat(value, index, scaleFormat(value))\n    : scaleFormat\n\n  // Pass down the axis config (including the scale itself) for posterity\n  const axis = {\n    id,\n    primary,\n    type,\n    invert,\n    position,\n    primaryAxisID,\n    hardMin,\n    hardMax,\n    base,\n    tickCount,\n    minTickCount,\n    maxTickCount,\n    tickValues,\n    tickSizeInner,\n    tickSizeOuter,\n    tickPadding,\n    maxLabelRotation,\n    labelRotationStep,\n    innerPadding,\n    outerPadding,\n    showGrid,\n    showTicks,\n    show,\n    stacked,\n    scale,\n    uniqueVals,\n    vertical,\n    RTL,\n    barSize,\n    cursorSize,\n    stepSize,\n    seriesBandScale,\n    seriesBarSize,\n    domain,\n    range,\n    max:\n      position === positionBottom\n        ? -gridHeight\n        : position === positionLeft\n        ? gridWidth\n        : position === positionTop\n        ? gridHeight\n        : -gridWidth,\n    directionMultiplier:\n      position === positionTop || position === positionLeft ? -1 : 1,\n    transform: !vertical ? Utils.translateX : Utils.translateY,\n    ticks:\n      tickValues || scale.ticks\n        ? scale\n            .ticks\n            // tickCount === 'auto'\n            //   ? axisDimension\n            //     ? axisDimension.tickCount\n            //     : 10\n            //   : tickCount\n            ()\n        : scale.domain(),\n    format,\n    spacing: Math.max(tickSizeInner, 0) + tickPadding,\n  }\n\n  if (type === axisTypeOrdinal) {\n    axis.gridOffset = -(axis.stepSize * innerPadding) / 2\n    axis.tickOffset = axis.barSize / 2\n    axis.barOffset = 0\n  } else {\n    axis.tickOffset = 0\n    axis.barOffset = -axis.barSize / 2\n  }\n\n  return axis\n}\n","// import buildAxisPie from './buildAxis.pie'\nimport buildAxisLinear from \"./buildAxis.linear\";\n\nexport default function(config) {\n  // if (config.type === 'pie') {\n  // return buildAxisPie(config)\n  // }\n  return buildAxisLinear(config);\n}\n","import React from 'react'\n//\nimport buildAxis from '../../utils/buildAxis'\n\nexport default ({\n  axes,\n  materializedData,\n  gridHeight,\n  gridWidth,\n  axisDimensions,\n}) => {\n  // Detect axes changes and build axes\n  let prePrimaryAxes = axes.filter(d => d.primary)\n  let preSecondaryAxes = axes.filter(d => !d.primary)\n\n  const primaryAxesHashes = JSON.stringify(prePrimaryAxes)\n  const secondaryAxesHashes = JSON.stringify(preSecondaryAxes)\n\n  // Calculate primary axes\n  const primaryAxes = React.useMemo(\n    () => {\n      return prePrimaryAxes.map((axis, i) => {\n        return buildAxis({\n          axis,\n          materializedData,\n          gridWidth,\n          gridHeight,\n          axisDimensions,\n        })\n      })\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [primaryAxesHashes, materializedData, gridHeight, gridWidth]\n  )\n  // Calculate secondary axes\n  const secondaryAxes = React.useMemo(\n    () => {\n      return preSecondaryAxes.map((axis, i) => {\n        return buildAxis({\n          axis,\n          primaryAxes,\n          materializedData,\n          gridWidth,\n          gridHeight,\n          axisDimensions,\n        })\n      })\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [secondaryAxesHashes, materializedData, gridHeight, gridWidth]\n  )\n\n  // Make sure we're mapping x and y to the correct axes\n  const xKey = primaryAxes.find(d => d.vertical) ? 'secondary' : 'primary'\n  const yKey = primaryAxes.find(d => d.vertical) ? 'primary' : 'secondary'\n  const xAxes = primaryAxes.find(d => d.vertical) ? secondaryAxes : primaryAxes\n  const yAxes = primaryAxes.find(d => d.vertical) ? primaryAxes : secondaryAxes\n\n  return {\n    primaryAxes,\n    secondaryAxes,\n    xKey,\n    yKey,\n    xAxes,\n    yAxes,\n  }\n}\n","import React from 'react'\n//\nimport Utils from '../../utils/Utils'\n\nimport {\n  groupingSingle,\n  groupingSeries,\n  groupingPrimary,\n  groupingSecondary,\n} from '../../utils/Constants'\n\nconst defaultColors = [\n  '#ff3465',\n  '#ff5454',\n  '#ff7b3e',\n  '#FAA43A',\n  '#ffd000',\n  '#C8DE2B',\n  '#97d114',\n  '#34ce70',\n  '#3cada4',\n  '#14b4d3',\n  '#048cd4',\n  '#3447f1',\n  '#734fe9',\n  '#cd82ad',\n  '#c63b89',\n]\n\nexport default ({\n  materializedData,\n  primaryAxes,\n  secondaryAxes,\n  yAxes,\n  yKey,\n  xAxes,\n  xKey,\n  grouping,\n}) => {\n  // Make stackData\n  return React.useMemo(() => {\n    // We need materializedData and both axes to continue\n    if (!primaryAxes.length || !secondaryAxes.length) {\n      throw new Error('A primary and secondary axis is required!')\n    }\n\n    // If the axes are ready, let's decorate the materializedData for visual plotting\n    // \"totals\" are kept per secondaryAxis and used for bases if secondaryAxis stacking is enabled\n    const scaleTotals = secondaryAxes.map(() => ({}))\n    materializedData.forEach(series => {\n      const axisIndex = Utils.getAxisIndexByAxisID(\n        secondaryAxes,\n        series.secondaryAxisID\n      )\n      series.datums.forEach(datum => {\n        scaleTotals[axisIndex][datum.primary] = {\n          negative: 0,\n          positive: 0,\n        }\n      })\n    })\n\n    // Determine the correct primary and secondary values for each axis\n    // Also calculate bases and totals if either axis is stacked\n    let stackData = materializedData.map(series => {\n      const primaryAxisIndex = Utils.getAxisIndexByAxisID(\n        primaryAxes,\n        series.primaryAxisID\n      )\n      const primaryAxis = primaryAxes[primaryAxisIndex]\n      const secondaryAxisIndex = Utils.getAxisIndexByAxisID(\n        secondaryAxes,\n        series.secondaryAxisID\n      )\n      const secondaryAxis = secondaryAxes[secondaryAxisIndex]\n      return {\n        ...series,\n        primaryAxis,\n        secondaryAxis,\n        datums: series.datums.map(d => {\n          const datum = {\n            ...d,\n            primaryAxis,\n            secondaryAxis,\n            xValue: d[xKey],\n            yValue: d[yKey],\n            baseValue: 0,\n          }\n          if (secondaryAxis.stacked) {\n            const start = scaleTotals[secondaryAxisIndex][d.primary]\n            // Stack the x or y values (according to axis positioning)\n            if (primaryAxis.vertical) {\n              // Is this a valid point?\n              const validPoint = Utils.isValidPoint(datum.xValue)\n              // Should we use positive or negative base?\n              const totalKey = datum.xValue >= 0 ? 'positive' : 'negative'\n              // Assign the base\n              datum.baseValue = start[totalKey]\n              // Add the value for a total\n              datum.totalValue =\n                datum.baseValue + (validPoint ? datum.xValue : 0)\n              // Update the totals\n              scaleTotals[secondaryAxisIndex][d.primary][totalKey] =\n                datum.totalValue\n              // Make the total the new value\n              datum.xValue = validPoint ? datum.totalValue : null\n            } else {\n              // Is this a valid point?\n              const validPoint = Utils.isValidPoint(datum.yValue)\n              // Should we use positive or negative base?\n              const totalKey = datum.yValue >= 0 ? 'positive' : 'negative'\n              // Assign the base\n              datum.baseValue = start[totalKey]\n              // Add the value to the base\n              datum.totalValue =\n                datum.baseValue + (validPoint ? datum.yValue : 0)\n              // Update the totals\n              scaleTotals[secondaryAxisIndex][d.primary][totalKey] =\n                datum.totalValue\n              // Make the total the new value\n              datum.yValue = validPoint ? datum.totalValue : null\n            }\n          }\n          return datum\n        }),\n      }\n    })\n\n    stackData.forEach(series => {\n      series.datums.forEach(datum => {\n        datum.series = series\n      })\n    })\n\n    // Use the plotDatum method on each series\n    stackData.forEach((series, i) => {\n      if (!series.Component.plotDatum) {\n        throw new Error(\n          `Could not find a [SeriesType].plotDatum() static method for the series Component above (index: ${i})`\n        )\n      }\n\n      const primaryAxisIndex = Utils.getAxisIndexByAxisID(\n        primaryAxes,\n        series.primaryAxisID\n      )\n      const secondaryAxisIndex = Utils.getAxisIndexByAxisID(\n        secondaryAxes,\n        series.secondaryAxisID\n      )\n\n      const primaryAxis = primaryAxes[primaryAxisIndex]\n      const secondaryAxis = secondaryAxes[secondaryAxisIndex]\n\n      const xAxisIndex = Utils.getAxisIndexByAxisID(\n        xAxes,\n        series[`${xKey}AxisID`]\n      )\n      const yAxisIndex = Utils.getAxisIndexByAxisID(\n        yAxes,\n        series[`${yKey}AxisID`]\n      )\n\n      const xAxis = xAxes[xAxisIndex]\n      const yAxis = yAxes[yAxisIndex]\n\n      series.datums = series.datums.map(d => {\n        // Data for cartesian charts\n        const result = series.Component.plotDatum(d, {\n          primaryAxis,\n          secondaryAxis,\n          xAxis,\n          yAxis,\n        })\n\n        return result || d\n      })\n    })\n\n    // Do any data grouping ahead of time using\n    if ([groupingSingle, groupingSeries].includes(grouping)) {\n      for (let seriesIndex = 0; seriesIndex < stackData.length; seriesIndex++) {\n        const series = stackData[seriesIndex]\n        for (\n          let datumIndex = 0;\n          datumIndex < series.datums.length;\n          datumIndex++\n        ) {\n          const datum = series.datums[datumIndex]\n          datum.group =\n            grouping === groupingSeries ? datum.series.datums : [datum]\n        }\n      }\n    } else if ([groupingPrimary, groupingSecondary].includes(grouping)) {\n      const datumsByGrouping = {}\n\n      for (let seriesIndex = 0; seriesIndex < stackData.length; seriesIndex++) {\n        const series = stackData[seriesIndex]\n\n        for (\n          let datumIndex = 0;\n          datumIndex < series.datums.length;\n          datumIndex++\n        ) {\n          const datum = series.datums[datumIndex]\n          if (!datum.defined) {\n            continue\n          }\n          const axisKey = String(\n            grouping === groupingPrimary ? datum.primary : datum.secondary\n          )\n\n          datumsByGrouping[axisKey] = datumsByGrouping[axisKey] || []\n          datumsByGrouping[axisKey].push(datum)\n        }\n      }\n\n      for (let seriesIndex = 0; seriesIndex < stackData.length; seriesIndex++) {\n        const series = stackData[seriesIndex]\n        for (\n          let datumIndex = 0;\n          datumIndex < series.datums.length;\n          datumIndex++\n        ) {\n          const datum = series.datums[datumIndex]\n          const axisKey = String(\n            grouping === groupingPrimary ? datum.primary : datum.secondary\n          )\n\n          datum.group = datumsByGrouping[axisKey]\n        }\n      }\n    }\n\n    // Not we need to precalculate all of the possible status styles by\n    // calling the seemingly 'live' getSeriesStyle, and getDatumStyle callbacks ;)\n    stackData = stackData.map((series, i) => {\n      if (!series.Component.buildStyles) {\n        throw new Error(\n          `Could not find a SeriesType.buildStyles() static method for the series Component above (index: ${i})`\n        )\n      }\n      const result = series.Component.buildStyles(series, {\n        defaultColors,\n      })\n\n      return result || series\n    })\n\n    return stackData\n  }, [\n    primaryAxes,\n    secondaryAxes,\n    materializedData,\n    grouping,\n    xKey,\n    yKey,\n    xAxes,\n    yAxes,\n  ])\n}\n","import React from 'react'\n//\n//\nimport {\n  groupingSeries,\n  groupingPrimary,\n  groupingSecondary,\n} from '../utils/Constants'\n\nconst showCount = 10\n\nfunction getSecondaryFormatter(datum, formatSecondary) {\n  return (\n    formatSecondary ||\n    datum.secondaryAxis.format ||\n    (val => (Math.floor(val) < val ? Math.round(val * 100) / 100 : val))\n  )\n}\n\nexport default function TooltipRenderer(props) {\n  const {\n    datum,\n    grouping,\n    primaryAxis,\n    secondaryAxis,\n    formatSecondary,\n    formatTertiary,\n    getStyle,\n    dark,\n    tooltip,\n  } = props\n\n  if (!datum) {\n    return null\n  }\n\n  const resolvedFormatTertiary =\n    formatTertiary ||\n    (val => (Math.floor(val) < val ? Math.round(val * 100) / 100 : val))\n\n  const sortedGroupDatums = [...datum.group].sort((a, b) => {\n    if (\n      (!primaryAxis.stacked && grouping === groupingSeries) ||\n      grouping === groupingSecondary\n    ) {\n      if (a.primaryCoord > b.primaryCoord) {\n        return -1\n      } else if (a.primaryCoord < b.primaryCoord) {\n        return 1\n      }\n    } else if (!secondaryAxis.stacked) {\n      if (a.secondaryCoord > b.secondaryCoord) {\n        return -1\n      } else if (a.secondaryCoord < b.secondaryCoord) {\n        return 1\n      }\n    }\n    return a.seriesIndex > b.seriesIndex ? 1 : -1\n  })\n\n  if (grouping === groupingPrimary) {\n    sortedGroupDatums.reverse()\n  }\n\n  if (secondaryAxis.invert) {\n    sortedGroupDatums.reverse()\n  }\n\n  if (tooltip.invert) {\n    sortedGroupDatums.reverse()\n  }\n\n  const resolvedShowCount = showCount % 2 === 0 ? showCount : showCount + 1\n  const length = sortedGroupDatums.length\n\n  // Get the focused series' index\n  const activeIndex = sortedGroupDatums.findIndex(d => d === datum)\n  // Get the start by going back half of the showCount\n  let start = activeIndex > -1 ? activeIndex - resolvedShowCount / 2 : 0\n  // Make sure it's at least 0\n  start = Math.max(start, 0)\n  // Use the start and add the showCount to get the end\n  let end = activeIndex > -1 ? start + resolvedShowCount : length\n  // Don't let the end go passed the length\n  end = Math.min(end, length)\n  // Double check we aren't clipping the start\n  start = Math.max(end - resolvedShowCount, 0)\n  // Slice the datums by start and end\n  const visibleSortedGroupDatums = sortedGroupDatums.slice(start, end)\n  // Detect if we have previous items\n  const hasPrevious = start > 0\n  // Or next items\n  const hasNext = end < length\n\n  return (\n    <div>\n      <div\n        style={{\n          marginBottom: '3px',\n          textAlign: 'center',\n        }}\n      >\n        {grouping === groupingSeries ? (\n          <strong>{datum.seriesLabel}</strong>\n        ) : grouping === groupingSecondary ? (\n          <strong>{datum.secondaryAxis.format(datum.secondary)}</strong>\n        ) : (\n          <strong>{datum.primaryAxis.format(datum.primary)}</strong>\n        )}\n      </div>\n      <table\n        style={{\n          whiteSpace: 'nowrap',\n        }}\n      >\n        <tbody>\n          {hasPrevious ? (\n            <tr\n              style={{\n                opacity: 0.8,\n              }}\n            >\n              <td />\n              <td>...</td>\n              <td />\n            </tr>\n          ) : null}\n          {visibleSortedGroupDatums.map((sortedDatum, i) => {\n            const active = sortedDatum === datum\n            const resolvedSecondaryFormat = getSecondaryFormatter(\n              sortedDatum,\n              formatSecondary\n            )\n\n            return (\n              <tr\n                key={i}\n                style={{\n                  opacity: active ? 1 : 0.8,\n                  fontWeight: active && 'bold',\n                }}\n              >\n                <td\n                  style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    marginRight: '5px',\n                  }}\n                >\n                  <svg width=\"16\" height=\"16\">\n                    <circle\n                      cx=\"8\"\n                      cy=\"8\"\n                      r=\"7\"\n                      style={{\n                        ...getStyle(sortedDatum),\n                        stroke: dark ? 'black' : 'white',\n                        strokeWidth: active ? 2 : 1,\n                      }}\n                    />\n                  </svg>\n                </td>\n                {grouping === groupingSeries ? (\n                  <React.Fragment>\n                    <td>{primaryAxis.format(sortedDatum.primary)}: &nbsp;</td>\n                    <td\n                      style={{\n                        textAlign: 'right',\n                      }}\n                    >\n                      {resolvedSecondaryFormat(sortedDatum.secondary)}\n                      {sortedDatum.r\n                        ? ` (${resolvedFormatTertiary(sortedDatum.r)})`\n                        : null}\n                    </td>\n                  </React.Fragment>\n                ) : grouping === groupingSecondary ? (\n                  <React.Fragment>\n                    <td>{sortedDatum.seriesLabel}: &nbsp;</td>\n                    <td\n                      style={{\n                        textAlign: 'right',\n                      }}\n                    >\n                      {primaryAxis.format(sortedDatum.primary)}\n                      {sortedDatum.r\n                        ? ` (${resolvedFormatTertiary(sortedDatum.r)})`\n                        : null}\n                    </td>\n                  </React.Fragment>\n                ) : (\n                  <React.Fragment>\n                    <td>{sortedDatum.seriesLabel}: &nbsp;</td>\n                    <td\n                      style={{\n                        textAlign: 'right',\n                      }}\n                    >\n                      {resolvedSecondaryFormat(sortedDatum.secondary)}\n                      {sortedDatum.r\n                        ? ` (${resolvedFormatTertiary(sortedDatum.r)})`\n                        : null}\n                    </td>\n                  </React.Fragment>\n                )}\n              </tr>\n            )\n          })}\n          {hasNext ? (\n            <tr\n              style={{\n                opacity: 0.8,\n              }}\n            >\n              <td />\n              <td>...</td>\n              <td />\n            </tr>\n          ) : null}\n          {secondaryAxis && secondaryAxis.stacked && datum.group.length > 1 ? (\n            <tr>\n              <td\n                style={{\n                  paddingTop: '5px',\n                }}\n              >\n                <div\n                  style={{\n                    width: '12px',\n                    height: '12px',\n                    backgroundColor: dark\n                      ? 'rgba(0, 26, 39, 0.3)'\n                      : 'rgba(255,255,255,.2)',\n                    borderRadius: '50px',\n                  }}\n                />\n              </td>\n              <td\n                style={{\n                  paddingTop: '5px',\n                }}\n              >\n                Total: &nbsp;\n              </td>\n              <td\n                style={{\n                  paddingTop: '5px',\n                }}\n              >\n                {secondaryAxis.format([...datum.group].reverse()[0].totalValue)}\n              </td>\n            </tr>\n          ) : null}\n        </tbody>\n      </table>\n    </div>\n  )\n}\n","import React from 'react'\n//\nimport Utils from '../../utils/Utils'\n\nimport TooltipRenderer from '../TooltipRenderer'\n\nimport {\n  alignAuto,\n  alignRight,\n  alignTopRight,\n  alignBottomRight,\n  alignLeft,\n  alignTopLeft,\n  alignBottomLeft,\n  alignTop,\n  alignBottom,\n} from '../../utils/Constants'\n\nexport default ({ focused, tooltip, pointer, gridWidth, gridHeight }) => {\n  return React.useMemo(() => {\n    if (!tooltip) {\n      return null\n    }\n    // Default tooltip props\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    tooltip = {\n      align: alignAuto,\n      alignPriority: [\n        alignRight,\n        alignTopRight,\n        alignBottomRight,\n        alignLeft,\n        alignTopLeft,\n        alignBottomLeft,\n        alignTop,\n        alignBottom,\n      ],\n      padding: 5,\n      tooltipArrowPadding: 7,\n      anchor: 'closest',\n      render: TooltipRenderer,\n      onChange: () => {},\n      ...tooltip,\n    }\n    let anchor = {}\n    let show = true\n\n    // If there is a focused datum, default the focus to its x and y\n    if (focused) {\n      anchor = focused.anchor\n    } else {\n      show = false\n    }\n\n    if (tooltip.anchor === 'pointer') {\n      // Support pointer-bound focus\n      anchor = pointer\n    } else if (tooltip.anchor === 'closest') {\n      // Do nothing, this is already calculated\n    } else if (focused) {\n      // Support manual definition of focus point using relative multiFocus strategy\n      const multiFocus = Array.isArray(tooltip.anchor)\n        ? [...tooltip.anchor]\n        : [tooltip.anchor]\n      anchor = Utils.getMultiAnchor({\n        anchor: multiFocus,\n        points: focused.group,\n        gridWidth,\n        gridHeight,\n      })\n    }\n\n    anchor = anchor\n      ? {\n          horizontalPadding: anchor.horizontalPadding || 0,\n          verticalPadding: anchor.verticalPadding || 0,\n          ...anchor,\n        }\n      : anchor\n\n    return {\n      ...tooltip,\n      anchor,\n      show,\n    }\n  }, [focused, gridHeight, gridWidth, pointer, tooltip])\n}\n","import React from 'react'\n\nimport Utils from '../../utils/Utils'\n\nconst defaultCursorProps = {\n  render: ({ formattedValue }) => <span>{formattedValue}</span>,\n  snap: true,\n  showLine: true,\n  showLabel: true,\n  axisID: undefined,\n  onChange: () => {},\n}\n\nexport default ({\n  primaryCursor,\n  secondaryCursor,\n  primaryAxes,\n  secondaryAxes,\n  focused,\n  pointer,\n  gridWidth,\n  gridHeight,\n  stackData,\n}) => {\n  return [primaryCursor, secondaryCursor].map((cursor, i) => {\n    const cursorValue = cursor && cursor.value\n\n    return React.useMemo(() => {\n      if (!cursor) {\n        return\n      }\n      const primary = i === 0\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      cursor = {\n        ...defaultCursorProps,\n        ...cursor,\n        primary,\n      }\n\n      let value\n      let show = false\n\n      // Determine the axis to use\n      const axis = Utils.getAxisByAxisID(\n        primary ? primaryAxes : secondaryAxes,\n        cursor.axisID || focused\n          ? focused.series[primary ? 'primaryAxisID' : 'secondaryAxisID']\n          : undefined\n      )\n\n      const siblingAxis = primary ? secondaryAxes[0] : primaryAxes[0]\n\n      // Resolve the invert function\n      const invert = axis.scale.invert || (d => d)\n\n      // If the pointer is active, try to show\n      if (pointer.active) {\n        // Default to cursor x and y\n        let x = pointer.x\n        let y = pointer.y\n        // If the cursor isn't in the grid, don't display\n        if (x < -1 || x > gridWidth + 1 || y < -1 || y > gridHeight + 1) {\n          show = false\n        } else {\n          show = true\n        }\n\n        // Implement snapping\n        if (axis.type === 'ordinal' || cursor.snap) {\n          if (!focused) {\n            show = false\n          } else {\n            if (axis.vertical) {\n              value = focused.yValue\n            } else {\n              value = focused.xValue\n            }\n          }\n        } else if (axis.vertical) {\n          value = invert(y)\n        } else {\n          value = invert(x)\n        }\n      } else {\n        show = false\n      }\n\n      let resolvedShow = show\n      let resolvedValue = value\n\n      if (typeof cursor.value !== 'undefined' && cursor.value !== null) {\n        resolvedValue = cursor.value\n\n        if (typeof cursor.show !== 'undefined') {\n          resolvedShow = cursor.show\n        } else {\n          resolvedShow = true\n        }\n\n        if (typeof axis.scale(resolvedValue) === 'undefined') {\n          resolvedShow = false\n        }\n      }\n\n      return {\n        ...cursor,\n        axis,\n        siblingAxis,\n        show,\n        value,\n        resolvedShow,\n        resolvedValue,\n      }\n    }, [stackData, pointer, cursorValue])\n  })\n}\n","import React from 'react'\n//\nimport ChartContext from '../utils/ChartContext'\nimport Utils from '../utils/Utils'\n\nimport useHyperResponsive from '../hooks/useHyperResponsive'\nimport useLatestRef from '../hooks/useLatestRef'\nimport useLatest from '../hooks/useLatest'\nimport usePrevious from '../hooks/usePrevious'\n\nimport ChartInner from './ChartInner'\n\nimport useMaterializeData from './pipeline/useMaterializeData'\nimport useSeriesOptions from './pipeline/useSeriesOptions'\nimport useSeriesTypes from './pipeline/useSeriesTypes'\nimport useDimensions from './pipeline/useDimensions'\nimport useAxes from './pipeline/useAxes'\nimport useStackData from './pipeline/useStackData'\nimport useTooltip from './pipeline/useTooltip'\nimport useCursors from './pipeline/useCursors'\n\nimport {\n  groupingPrimary,\n  focusAuto,\n  focusElement,\n  focusClosest,\n} from '../utils/Constants'\n\nconst defaultProps = {\n  getDatums: d => (Array.isArray(d) ? d : d.datums || d.data),\n  getLabel: (d, i) => d.label || `Series ${i + 1}`,\n  getSeriesID: (d, i) => i,\n  getPrimary: d => (Array.isArray(d) ? d[0] : d.primary || d.x),\n  getSecondary: d => (Array.isArray(d) ? d[1] : d.secondary || d.y),\n  getR: d => (Array.isArray(d) ? d[2] : d.radius || d.r),\n  getPrimaryAxisID: s => s.primaryAxisID,\n  getSecondaryAxisID: s => s.secondaryAxisID,\n  getSeriesStyle: () => ({}),\n  getDatumStyle: () => ({}),\n  getSeriesOrder: d => d,\n  onHover: () => {},\n  grouping: groupingPrimary,\n  focus: focusAuto,\n  showVoronoi: false,\n}\n\nexport default function Chart({\n  data,\n  grouping,\n  focus,\n  showVoronoi,\n  dark,\n  series,\n  axes,\n  primaryCursor,\n  secondaryCursor,\n  tooltip,\n  brush,\n  renderSVG,\n  getDatums,\n  getLabel,\n  getSeriesID,\n  getPrimary,\n  getSecondary,\n  getR,\n  getPrimaryAxisID,\n  getSecondaryAxisID,\n  getSeriesStyle: getSeriesStyleOriginal,\n  getDatumStyle,\n  onClick,\n  onFocus,\n  onHover,\n  getSeriesOrder,\n  ...rest\n}) {\n  let [\n    { focused, element, axisDimensions, offset: offsetState, padding, pointer },\n    setChartState,\n  ] = React.useState({\n    focused: null,\n    element: null,\n    axisDimensions: {},\n    padding: {},\n    offset: {},\n    pointer: {},\n  })\n\n  const onClickRef = useLatestRef(onClick)\n  const onFocusRef = useLatestRef(onFocus)\n  const onHoverRef = useLatestRef(onHover)\n\n  const responsiveElRef = React.useRef()\n  const { width, height } = useHyperResponsive(responsiveElRef)\n\n  getSeriesID = React.useCallback(Utils.normalizeGetter(getSeriesID), [\n    getSeriesID,\n  ])\n  getLabel = React.useCallback(Utils.normalizeGetter(getLabel), [getLabel])\n  getPrimaryAxisID = React.useCallback(\n    Utils.normalizeGetter(getPrimaryAxisID),\n    [getPrimaryAxisID]\n  )\n  getSecondaryAxisID = React.useCallback(\n    Utils.normalizeGetter(getSecondaryAxisID),\n    [getSecondaryAxisID]\n  )\n  getDatums = React.useCallback(Utils.normalizeGetter(getDatums), [getDatums])\n  getPrimary = React.useCallback(Utils.normalizeGetter(getPrimary), [\n    getPrimary,\n  ])\n  getSecondary = React.useCallback(Utils.normalizeGetter(getSecondary), [\n    getSecondary,\n  ])\n  getR = React.useCallback(Utils.normalizeGetter(getR), [getR])\n\n  let materializedData = useMaterializeData({\n    data,\n    getSeriesID,\n    getLabel,\n    getPrimaryAxisID,\n    getSecondaryAxisID,\n    getDatums,\n    getPrimary,\n    getSecondary,\n    getR,\n  })\n\n  const seriesOptions = useSeriesOptions({\n    materializedData,\n    series,\n  })\n\n  materializedData = useSeriesTypes({\n    materializedData,\n    seriesOptions,\n  })\n\n  const { offset, gridX, gridY, gridWidth, gridHeight } = useDimensions({\n    width,\n    height,\n    axisDimensions,\n    padding,\n    offset: offsetState,\n  })\n\n  const { primaryAxes, secondaryAxes, xKey, yKey, xAxes, yAxes } = useAxes({\n    axes,\n    materializedData,\n    gridHeight,\n    gridWidth,\n    axisDimensions,\n  })\n\n  const stackData = useStackData({\n    materializedData,\n    primaryAxes,\n    secondaryAxes,\n    yAxes,\n    yKey,\n    xAxes,\n    xKey,\n    grouping,\n  })\n\n  pointer = React.useMemo(() => {\n    return {\n      ...pointer,\n      axisValues: [...primaryAxes, ...secondaryAxes].map(axis => ({\n        axis,\n        value: axis.scale.invert\n          ? axis.scale.invert(pointer[axis.vertical ? 'y' : 'x'])\n          : null,\n      })),\n    }\n  }, [pointer, primaryAxes, secondaryAxes])\n\n  focused = React.useMemo(() => {\n    // Get the closest focus datum out of the datum group\n    if (focused || element) {\n      let resolvedFocus = focus\n\n      if (focus === focusAuto) {\n        if (element) {\n          resolvedFocus = focusElement\n        } else {\n          resolvedFocus = focusClosest\n        }\n      }\n\n      if (resolvedFocus === focusElement && element) {\n        return element\n      } else if (resolvedFocus === focusClosest) {\n        return Utils.getClosestPoint(pointer, focused.group)\n      }\n    }\n    return null\n  }, [element, focus, focused, pointer])\n\n  // keep the previous focused value around for animations\n  const latestFocused = useLatest(focused, focused)\n\n  // Calculate Tooltip\n  tooltip = useTooltip({\n    focused,\n    tooltip,\n    pointer,\n    gridWidth,\n    gridHeight,\n  })\n\n  // Cursors\n  ;[primaryCursor, secondaryCursor] = useCursors({\n    primaryCursor,\n    secondaryCursor,\n    primaryAxes,\n    secondaryAxes,\n    focused,\n    pointer,\n    gridWidth,\n    gridHeight,\n    stackData,\n  })\n\n  React.useEffect(() => {\n    if (onFocusRef.current) {\n      onFocusRef.current(focused)\n    }\n  }, [onFocusRef, focused])\n\n  React.useEffect(() => {\n    if (onHoverRef.current) {\n      onHoverRef.current(pointer)\n    }\n  }, [onHoverRef, pointer])\n\n  const previousDragging = usePrevious(pointer.dragging)\n\n  React.useEffect(() => {\n    if (brush && previousDragging && !pointer.dragging) {\n      if (Math.abs(pointer.sourceX - pointer.x) < 20) {\n        return\n      }\n      brush.onSelect({\n        pointer: pointer.released,\n        start: primaryAxes[0].scale.invert(pointer.sourceX),\n        end: primaryAxes[0].scale.invert(pointer.x),\n      })\n    }\n  }, [\n    brush,\n    pointer,\n    pointer.released,\n    pointer.sourceX,\n    pointer.x,\n    previousDragging,\n    primaryAxes,\n  ])\n\n  const getSeriesStyle = React.useCallback(\n    (series, ...args) => ({\n      color: series.originalSeries.color,\n      ...getSeriesStyleOriginal(series, ...args),\n    }),\n    [getSeriesStyleOriginal]\n  )\n\n  // Decorate the chartState with computed values (or ones we just\n  // want to pass down through context)\n  const chartState = React.useMemo(\n    () => ({\n      focused,\n      latestFocused,\n      pointer,\n      tooltip,\n      axisDimensions,\n      offset,\n      padding,\n      width,\n      height,\n      brush,\n      grouping,\n      showVoronoi,\n      materializedData,\n      stackData,\n      primaryAxes,\n      secondaryAxes,\n      primaryCursor,\n      secondaryCursor,\n      gridX,\n      gridY,\n      gridWidth,\n      gridHeight,\n      dark,\n      renderSVG,\n      xKey,\n      yKey,\n      xAxes,\n      yAxes,\n      onClickRef,\n      getSeriesStyle,\n      getDatumStyle,\n      seriesOptions,\n      getSeriesOrder,\n    }),\n    [\n      axisDimensions,\n      brush,\n      dark,\n      focused,\n      getDatumStyle,\n      getSeriesOrder,\n      getSeriesStyle,\n      gridHeight,\n      gridWidth,\n      gridX,\n      gridY,\n      grouping,\n      height,\n      latestFocused,\n      materializedData,\n      offset,\n      onClickRef,\n      padding,\n      pointer,\n      primaryAxes,\n      primaryCursor,\n      renderSVG,\n      secondaryAxes,\n      secondaryCursor,\n      seriesOptions,\n      showVoronoi,\n      stackData,\n      tooltip,\n      width,\n      xAxes,\n      xKey,\n      yAxes,\n      yKey,\n    ]\n  )\n\n  const chartStateContextValue = React.useMemo(\n    () => [chartState, setChartState],\n    [chartState, setChartState]\n  )\n\n  return (\n    <ChartContext.Provider value={chartStateContextValue}>\n      <ChartInner\n        ref={responsiveElRef}\n        {...rest}\n        onClick={e => {\n          if (onClickRef.current) {\n            onClickRef.current(focused)\n          }\n        }}\n      />\n    </ChartContext.Provider>\n  )\n}\n\nChart.defaultProps = defaultProps\n"],"names":["React","createContext","getStatus","getStatusStyle","buildStyleGetters","getMultiAnchor","getClosestPoint","normalizeGetter","isValidPoint","getAxisByAxisID","getAxisIndexByAxisID","sumObjBy","translateX","translateY","translate","identity","shallowDiff","item","focused","status","otherFocused","primary","length","group","i","seriesID","series","id","index","decorator","defaults","style","materializeStyles","datums","forEach","datum","anchor","points","gridWidth","gridHeight","invalid","Error","JSON","stringify","x","y","xMin","xMax","yMin","yMax","point","Math","min","max","sort","a","includes","anchorPart","push","position","closestDistance","Infinity","closestDatum","boundingPoints","pointerPoint","distance","sqrt","normalizeColor","stroke","color","fill","elementTypes","type","getter","d","get","obj","path","def","e","pathObj","makePathArray","val","reduce","current","pathPart","flattenDeep","join","replace","split","arr","newArr","Array","isArray","axes","AxisID","find","findIndex","str","Object","keys","map","key","prev","curr","round","b","aKeys","bKeys","some","props","rectChanged","observedNodes","run","changedStates","newRect","node","state","rafId","window","observeRect","cb","observe","wasEmpty","rect","hasRectChanged","callbacks","unobserve","cancelAnimationFrame","useLayoutEffect","useEffect","useRect","nodeRef","useState","parentElement","element","setElement","width","height","setRect","initialRectSet","useRef","useIsomorphicLayoutEffect","getBoundingClientRect","observer","useLatestRef","latest","ref","useLatest","when","usePrevious","root","global","vendors","suffix","raf","caf","last","queue","frameDuration","callback","_now","now","next","setTimeout","cp","slice","cancelled","handle","Raf","fn","call","cancel","apply","arguments","polyfill","object","requestAnimationFrame","defaultStyle","strokeWidth","opacity","rx","ry","Rectangle","x1","y1","x2","y2","rest","resolvedStyle","xStart","yStart","xEnd","yEnd","flatIterable","EPSILON","pow","EDGE_STACK","Uint32Array","Delaunator","getX","defaultGetX","getY","defaultGetY","n","coords","Float64Array","p","maxTriangles","_triangles","_halfedges","Int32Array","_hashSize","ceil","_hullPrev","_hullNext","_hullTri","_hullHash","_ids","_dists","update","hullPrev","hullNext","hullTri","hullHash","minX","minY","maxX","maxY","cx","cy","minDist","i0","i1","i2","dist","i0x","i0y","i1x","i1y","minRadius","r","circumradius","i2x","i2y","quicksort","hull","j","d0","subarray","triangles","halfedges","orient","center","circumcenter","_cx","_cy","_hullStart","hullSize","_hashKey","trianglesLen","_addTriangle","k","xp","yp","abs","start","q","t","_legalize","floor","pseudoAngle","ar","a0","b0","al","bl","p0","pr","pl","p1","illegal","inCircle","hbl","_link","br","c","dx","dy","ax","ay","bx","by","orientIfSure","px","py","qx","qy","l","sign","ex","ey","fx","fy","ap","bp","cl","ids","dists","left","right","temp","tempDist","median","swap","tmp","epsilon","Path","_x0","_y0","_x1","_y1","_","x0","y0","w","h","Polygon","Voronoi","delaunay","xmin","ymin","xmax","ymax","_circumcenters","vectors","_init","circumcenters","t1","t2","t3","x3","y3","ab","context","buffer","undefined","inedges","ti","tj","xi","yi","xj","yj","_renderSegment","h0","h1","v","_project","value","_clip","moveTo","lineTo","closePath","cell","cellPolygon","polygon","renderCell","S","c0","_regioncode","c1","_clipSegment","_step","ci","neighbors","cj","ai","li","aj","lj","e0","_cell","V","_clipInfinite","_clipFinite","P","e1","sx0","sy0","sx1","sy1","_edgecode","_edge","contains","vx0","vy0","vxn","vyn","from","unshift","splice","vx","vy","tau","PI","pointX","pointY","collinear","cross","jitter","sin","cos","Delaunay","that","flatArray","_delaunator","_hullIndex","f","bounds","hypot","hullIndex","indexOf","dc","dt","renderHull","arc","t0","trianglePolygon","renderTriangle","array","ascending","NaN","bisector","compare","ascendingComparator","lo","hi","mid","ascendingBisect","bisectRight","sequence","stop","step","range","e10","e5","e2","ticks","count","reverse","tickIncrement","isFinite","power","log","LN10","error","tickStep","step0","step1","initRange","domain","implicit","Symbol","ordinal","Map","unknown","scale","set","has","copy","band","ordinalRange","r0","r1","bandwidth","paddingInner","paddingOuter","align","rescale","values","rangeRound","padding","define","constructor","factory","prototype","extend","parent","definition","create","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","channels","assign","displayable","rgb","hex","color_formatHex","formatHex","formatHsl","color_formatHsl","formatRgb","color_formatRgb","toString","hslConvert","format","m","trim","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","hasOwnProperty","g","rgbConvert","o","rgb_formatHex","rgb_formatRgb","isNaN","s","Hsl","hsl","m2","m1","hsl2rgb","constant","linear","exponential","gamma","nogamma","rgb$1","rgbGamma","end","numberArray","isNumberArray","ArrayBuffer","isView","DataView","genericArray","nb","na","interpolate","date","Date","setTime","interpolateNumber","reA","reB","source","zero","one","string","bi","lastIndex","am","bm","bs","valueOf","interpolateRound","constant$1","number","unit","normalize","clamper","bimap","d1","polymap","target","clamp","transformer","interpolate$1","transform","untransform","piecewise","output","input","invert","u","continuous","formatDecimal","toExponential","coefficient","exponent","formatGroup","grouping","thousands","substring","formatNumerals","numerals","re","formatSpecifier","specifier","match","FormatSpecifier","symbol","comma","precision","formatTrim","out","prefixExponent","formatPrefixAuto","formatRounded","formatTypes","toFixed","toPrecision","toUpperCase","identity$1","prefixes","formatLocale","locale","Number","currencyPrefix","currency","currencySuffix","decimal","String","percent","minus","nan","newFormat","prefix","test","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","charCodeAt","formatPrefix","defaultLocale","precisionFixed","precisionPrefix","precisionRound","tickFormat","linearish","nice","linear$1","interval","transformLog","transformExp","exp","transformLogn","transformExpn","pow10","powp","base","E","logp","log10","log2","reflect","loggish","logs","pows","z","newInterval","floori","offseti","field","offset","previous","filter","every","millisecond","durationSecond","durationMinute","durationHour","durationDay","durationWeek","second","getMilliseconds","getUTCSeconds","minute","getSeconds","getMinutes","hour","getHours","day","setHours","setDate","getDate","getTimezoneOffset","weekday","getDay","sunday","monday","tuesday","wednesday","thursday","friday","saturday","month","setMonth","getMonth","getFullYear","year","setFullYear","utcMinute","setUTCSeconds","getUTCMinutes","utcHour","setUTCMinutes","getUTCHours","utcDay","setUTCHours","setUTCDate","getUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcMonth","setUTCMonth","getUTCMonth","getUTCFullYear","utcYear","setUTCFullYear","localDate","H","M","L","utcDate","UTC","newDate","formatLocale$1","locale_dateTime","dateTime","locale_date","locale_time","time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","formatShortWeekday","formatWeekday","formatShortMonth","formatMonth","formatDayOfMonth","formatMicroseconds","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatPeriod","formatQuarter","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","formatUTCMonth","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCPeriod","formatUTCQuarter","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseShortWeekday","parseWeekday","parseShortMonth","parseMonth","parseLocaleDateTime","parseDayOfMonth","parseMicroseconds","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parsePeriod","parseQuarter","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseLocaleDate","parseLocaleTime","parseYear","parseFullYear","parseZone","parseLiteralPercent","X","pad","pads","charAt","newParse","Z","parseSpecifier","week","day$1","Q","W","U","parse","utcFormat","utcParse","numberRe","percentRe","requoteRe","requote","names","getUTCMilliseconds","dow","locale$1","timeFormat","timeParse","defaultLocale$1","durationSecond$1","durationMinute$1","durationHour$1","durationDay$1","durationWeek$1","durationMonth","durationYear","date$1","number$1","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","tickIntervals","tickInterval","utcTime","pi","tau$1","epsilon$1","tauEpsilon","Path$1","quadraticCurveTo","bezierCurveTo","arcTo","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","acos","t01","t21","a1","ccw","cw","da","constant$2","epsilon$2","Linear","_context","areaStart","_line","areaEnd","lineStart","_point","lineEnd","curveLinear","line","x$1","y$1","defined","curve","data","defined0","area","x0z","y0z","arealine","lineX0","lineY0","lineY1","lineX1","noop","Basis","basis","BasisClosed","_x2","_x3","_x4","_y2","_y3","_y4","basisClosed","BasisOpen","basisOpen","Bundle","beta","_basis","_beta","_x","_y","bundle","custom","point$1","_k","Cardinal","tension","cardinal","CardinalClosed","_x5","_y5","cardinalClosed","CardinalOpen","cardinalOpen","point$2","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","CatmullRom","alpha","_alpha","x23","y23","catmullRom","CatmullRomClosed","catmullRomClosed","CatmullRomOpen","catmullRomOpen","LinearClosed","linearClosed","slope3","s0","s1","slope2","point$3","MonotoneX","_t0","MonotoneY","ReflectContext","monotoneX","monotoneY","Natural","controlPoints","natural","Step","_t","stepBefore","stepAfter","lineFn","VoronoiElement","children","useContext","ChartContext","stackData","primaryAxes","secondaryAxes","showVoronoi","onFocus","onClick","tooltip","primaryCursor","secondaryCursor","setChartState","onHover","useCallback","needsVoronoi","useMemo","extent","polygons","voronoiData","boundingPoint","voronoi","flat","cellPolygons","Line","fontFamily","fontSize","Text","forwardRef","Group","positionTop","positionRight","positionBottom","positionLeft","groupingSingle","groupingSeries","groupingPrimary","groupingSecondary","alignAuto","alignRight","alignTopRight","alignBottomRight","alignLeft","alignTopLeft","alignBottomLeft","alignTop","alignBottom","axisTypeOrdinal","axisTypeTime","axisTypeUtc","axisTypeLinear","axisTypeLog","anchorPointer","anchorClosest","anchorCenter","anchorTop","anchorBottom","anchorLeft","anchorRight","anchorGridTop","anchorGridBottom","anchorGridLeft","anchorGridRight","focusAuto","focusClosest","focusElement","defaultStyles","tick","radiansToDegrees","AxisLinear","tickSizeInner","tickSizeOuter","show","showGrid","showTicks","styles","maxLabelRotation","labelRotationStep","tickPadding","tickCount","minTickCount","maxTickCount","scaleMax","vertical","range0","range1","directionMultiplier","tickOffset","gridOffset","spacing","rotation","setRotation","dark","axisDimensions","elRef","visibleLabelStepRef","measureDimensions","newAxes","labelDims","querySelectorAll","el","tickSpace","calculatedTickCount","top","bottom","smallestTickGap","tickDims","gap","firstLabelDim","lastLabelDim","largestLabel","_overflow","labelDim","largestLabelSize","newRotation","newVisibleLabelStep","newDimensions","previousRotation","axisPath","showGridLine","axisStyles","pointerEvents","Utils","Axis","triangleSize","getBackgroundColor","Tooltip","chartState","gridX","gridY","latestFocused","getDatumStyle","tooltipElRef","previousShowRef","alignPriority","tooltipArrowPadding","arrowPosition","render","finalAlign","setFinalAlign","space","container","gridDims","tooltipDims","document","body","getComputedStyle","overflowX","overflowY","containerDims","resolvedAlign","priority","fits","horizontalPadding","verticalPadding","centeredFromLeft","centeredFromRight","centeredFromTop","centeredFromBottom","resolvedFocused","alignX","alignY","triangleStyles","backgroundColor","resolvedArrowPosition","borderLeft","borderRight","borderTop","borderBottom","primaryAxis","primaryAxisID","secondaryAxis","secondaryAxisID","resolvedHorizontalPadding","resolvedVerticalPadding","renderProps","getStyle","renderedChildren","createElement","animateCoords","transition","background","borderRadius","getLineBackgroundColor","Cursor","cursor","showLine","showLabel","resolvedValue","snap","axis","siblingAxis","resolvedShow","latestValue","animated","siblingRange","alignPctX","alignPctY","cursorSize","formattedValue","stacked","totalValue","lineStartX","lineStartY","lineEndX","lineEndY","bubbleX","RTL","bubbleY","lineHeight","lineWidth","whiteSpace","Brush","pointer","brush","dragging","sourceX","ChartInner","className","renderSVG","seriesOptions","getSeriesOrder","svgRef","onMouseLeave","active","rafRef","onMouseMove","clientX","clientY","down","onMouseUp","removeEventListener","released","onMouseDown","addEventListener","sourceY","reversedStackData","orderedStackData","focusedSeriesIndex","focusOrderedStackData","stacks","stack","overflow","persist","getSeriesID","getLabel","getPrimaryAxisID","getSecondaryAxisID","getDatums","getPrimary","getSecondary","getR","materializedData","seriesIndex","originalSeries","seriesLabel","originalDatums","datumIndex","originalDatum","secondary","label","useSeriesStyle","getSeriesStyle","useDatumStyle","Circle","pathDefaultStyle","circleDefaultStyle","showPoints","pathProps","defaultProps","curveMonotoneX","plotDatum","xAxis","yAxis","primaryCoord","secondaryCoord","xValue","yValue","baseValue","buildStyles","defaultColors","Point","dataStyle","circleProps","circle","onMouseEnter","Bubble","defaultAreaStyle","defaultLineStyle","Area","showOrphans","areaFn","areaPath","linePath","areaPathProps","linePathProps","all","OrphanLine","lineProps","Bar","barOffset","BarPiece","size","rectangleProps","rectangle","barSize","seriesBarSize","seriesBandScaleOffset","seriesBandScale","seriesTypeIndex","seriesTypes","bubble","bar","defaultSeries","renderer","Component","axesLeftWidth","axesLeftTop","axesLeftBottom","axesRightWidth","axesRightTop","axesRightBottom","axesTopHeight","axesTopLeft","axesTopRight","axesBottomHeight","axesBottomLeft","axesBottomRight","paddingLeft","paddingRight","paddingTop","paddingBottom","scales","scaleLinear","scaleLog","scaleTime","scaleUtc","scaleBand","detectVertical","detectRTL","buildAxisLinear","userMin","userMax","hardMin","hardMax","tickValues","userFormat","innerPadding","outerPadding","userID","valueKey","groupKey","AxisIDKey","uniqueVals","negativeTotalByKey","positiveTotalByKey","bandScale","stepSize","defaultMin","defaultMax","scaleFormat","config","prePrimaryAxes","preSecondaryAxes","primaryAxesHashes","secondaryAxesHashes","buildAxis","xKey","yKey","xAxes","yAxes","scaleTotals","axisIndex","negative","positive","primaryAxisIndex","secondaryAxisIndex","validPoint","totalKey","xAxisIndex","yAxisIndex","result","datumsByGrouping","axisKey","showCount","getSecondaryFormatter","formatSecondary","TooltipRenderer","formatTertiary","resolvedFormatTertiary","sortedGroupDatums","resolvedShowCount","activeIndex","visibleSortedGroupDatums","hasPrevious","hasNext","marginBottom","textAlign","sortedDatum","resolvedSecondaryFormat","fontWeight","display","alignItems","justifyContent","marginRight","onChange","multiFocus","defaultCursorProps","axisID","cursorValue","radius","focus","Chart","getSeriesStyleOriginal","offsetState","onClickRef","onFocusRef","onHoverRef","responsiveElRef","useHyperResponsive","useMaterializeData","useSeriesOptions","useSeriesTypes","useDimensions","useAxes","useStackData","axisValues","resolvedFocus","useTooltip","useCursors","previousDragging","onSelect","args","chartStateContextValue"],"mappings":"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"}